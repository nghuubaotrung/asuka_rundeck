(function(e){function k(a,b){return function(d){return u(a.call(this,d),b)}}function n(a,b){return function(d){return this.lang().ordinal(a.call(this,d),b)}}function c(){}function g(a){V(a);x(this,a)}function m(a){var b=ea(a),d=b.year||0,l=b.month||0,h=b.week||0,c=b.day||0,f=b.hour||0,q=b.minute||0,p=b.second||0,b=b.millisecond||0;this._input=a;this._milliseconds=+b+1E3*p+6E4*q+36E5*f;this._days=+c+7*h;this._months=+l+12*d;this._data={};this._bubble()}function x(a,b){for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function y(a){return 0>a?Math.ceil(a):Math.floor(a)}function u(a,b){for(var d=a+"";d.length<b;)d="0"+d;return d}function F(a,b,d,l){var h,c,f=b._milliseconds,p=b._days;b=b._months;f&&a._d.setTime(+a._d+f*d);(p||b)&&(h=a.minute(),c=a.hour());p&&a.date(a.date()+p*d);b&&a.month(a.month()+b*d);f&&!l&&q.updateOffset(a);(p||b)&&(a.minute(h),a.hour(c))}function G(a){return"[object Array]"===
Object.prototype.toString.call(a)}function P(b,d,l){var h,c=Math.min(b.length,d.length),f=Math.abs(b.length-d.length),p=0;for(h=0;c>h;h++)(l&&b[h]!==d[h]||!l&&a(b[h])!==a(d[h]))&&p++;return p+f}function S(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=ra[a]||sa[b]||b}return a}function ea(a){var b,d,l={};for(d in a)a.hasOwnProperty(d)&&(b=S(d),b&&(l[b]=a[d]));return l}function ba(a){var b,d;if(0===a.indexOf("week"))b=7,d="day";else{if(0!==a.indexOf("month"))return;b=12;d="month"}q[a]=function(l,
h){var c,f,p=q.fn._lang[a],r=[];if("number"==typeof l&&(h=l,l=e),f=function(a){a=q().utc().set(d,a);return p.call(q.fn._lang,a,l||"")},null!=h)return f(h);for(c=0;b>c;c++)r.push(f(c));return r}}function a(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a)),b}function Y(a){return 0===a%4&&0!==a%100||0===a%400}function V(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[L]||11<a._a[L]?L:1>a._a[Q]||a._a[Q]>(new Date(Date.UTC(a._a[H],a._a[L]+1,0))).getUTCDate()?Q:0>a._a[B]||23<
a._a[B]?B:0>a._a[I]||59<a._a[I]?I:0>a._a[Z]||59<a._a[Z]?Z:0>a._a[fa]||999<a._a[fa]?fa:-1,a._pf._overflowDayOfYear&&(H>b||b>Q)&&(b=Q),a._pf.overflow=b)}function N(a){a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function R(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,
a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function J(a){return a?a.toLowerCase().replace("_","-"):a}function K(a){var b,d,l,h,c=0,f=function(a){if(!ca[a]&&la)try{require("./lang/"+a)}catch(b){}return ca[a]};if(!a)return q.fn._lang;if(!G(a)){if(d=f(a))return d;a=[a]}for(;c<a.length;){h=J(a[c]).split("-");b=h.length;for(l=(l=J(a[c+1]))?l.split("-"):null;0<b;){if(d=f(h.slice(0,b).join("-")))return d;if(l&&l.length>=b&&P(h,l,!0)>=b-1)break;
b--}c++}return q.fn._lang}function D(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function E(a){var b,d,l=a.match(ma);b=0;for(d=l.length;d>b;b++)l[b]=aa[l[b]]?aa[l[b]]:D(l[b]);return function(h){var c="";for(b=0;d>b;b++)c+=l[b]instanceof Function?l[b].call(h,a):l[b];return c}}function T(a,b){return a.isValid()?(b=U(b,a.lang()),ha[b]||(ha[b]=E(b)),ha[b](a)):a.lang().invalidDate()}function U(a,b){function d(a){return b.longDateFormat(a)||a}var l=5;for(ga.lastIndex=0;0<=
l&&ga.test(a);)a=a.replace(ga,d),ga.lastIndex=0,--l;return a}function t(a,b){switch(a){case "DDDD":return ta;case "YYYY":case "GGGG":case "gggg":return ua;case "YYYYY":case "GGGGG":case "ggggg":return va;case "S":case "SS":case "SSS":case "DDD":return wa;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return xa;case "a":case "A":return K(b._l)._meridiemParse;case "X":return ya;case "Z":case "ZZ":return ia;case "T":return za;case "SSSS":return Aa;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "ww":case "W":case "WW":case "e":case "E":return Ba;
default:var d=RegExp,l;l=h(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new d(l)}}function O(b){b=((ia.exec(b)||[])[0]+"").match(Ca)||["-",0,0];var d=+(60*b[1])+a(b[2]);return"+"===b[0]?-d:d}function W(d){var l,h,c,p,z,X,s,v,A,C=[];if(!d._d){h=b(d);d._w&&null==d._a[Q]&&null==d._a[L]&&(p=function(a){return a?3>a.length?68<parseInt(a,10)?"19"+a:"20"+a:a:null==d._a[H]?q().weekYear():d._a[H]},z=d._w,null!=z.GG||null!=z.W||null!=z.E?X=r(p(z.GG),z.W||1,z.E,4,1):(s=K(d._l),v=null!=
z.d?M(z.d,s):null!=z.e?parseInt(z.e,10)+s._week.dow:0,A=parseInt(z.w,10)||1,null!=z.d&&v<s._week.dow&&A++,X=r(p(z.gg),A,v,s._week.doy,s._week.dow)),d._a[H]=X.year,d._dayOfYear=X.dayOfYear);d._dayOfYear&&(c=null==d._a[H]?h[H]:d._a[H],d._dayOfYear>(Y(c)?366:365)&&(d._pf._overflowDayOfYear=!0),l=w(c,0,d._dayOfYear),d._a[L]=l.getUTCMonth(),d._a[Q]=l.getUTCDate());for(l=0;3>l&&null==d._a[l];++l)d._a[l]=C[l]=h[l];for(;7>l;l++)d._a[l]=C[l]=null==d._a[l]?2===l?1:0:d._a[l];C[B]+=a((d._tzm||0)/60);C[I]+=a((d._tzm||
0)%60);d._d=(d._useUTC?w:f).apply(null,C)}}function b(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function d(b){b._a=[];b._pf.empty=!0;var d,l,h,c,f;d=K(b._l);var p=""+b._i,q=p.length,r=0;h=U(b._f,d).match(ma)||[];for(d=0;d<h.length;d++)if(c=h[d],(l=(t(c,b).exec(p)||[])[0])&&(f=p.substr(0,p.indexOf(l)),0<f.length&&b._pf.unusedInput.push(f),p=p.slice(p.indexOf(l)+l.length),r+=l.length),aa[c]){l?b._pf.empty=!1:b._pf.unusedTokens.push(c);
var z=b,X=void 0,s=z._a;switch(c){case "M":case "MM":null!=l&&(s[L]=a(l)-1);break;case "MMM":case "MMMM":X=K(z._l).monthsParse(l);null!=X?s[L]=X:z._pf.invalidMonth=l;break;case "D":case "DD":null!=l&&(s[Q]=a(l));break;case "DDD":case "DDDD":null!=l&&(z._dayOfYear=a(l));break;case "YY":s[H]=a(l)+(68<a(l)?1900:2E3);break;case "YYYY":case "YYYYY":s[H]=a(l);break;case "a":case "A":z._isPm=K(z._l).isPM(l);break;case "H":case "HH":case "h":case "hh":s[B]=a(l);break;case "m":case "mm":s[I]=a(l);break;case "s":case "ss":s[Z]=
a(l);break;case "S":case "SS":case "SSS":case "SSSS":s[fa]=a(1E3*("0."+l));break;case "X":z._d=new Date(1E3*parseFloat(l));break;case "Z":case "ZZ":z._useUTC=!0;z._tzm=O(l);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":c=c.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":c=c.substr(0,2),l&&(z._w=z._w||{},z._w[c]=l)}}else b._strict&&!l&&b._pf.unusedTokens.push(c);b._pf.charsLeftOver=q-r;0<p.length&&b._pf.unusedInput.push(p);
b._isPm&&12>b._a[B]&&(b._a[B]+=12);!1===b._isPm&&12===b._a[B]&&(b._a[B]=0);W(b);V(b)}function h(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,d,l,h){return b||d||l||h})}function f(a,b,d,l,h,c,f){b=new Date(a,b,d,l,h,c,f);return 1970>a&&b.setFullYear(a),b}function w(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function M(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,
10);return a}function v(a,b,d,l,h){return h.relativeTime(b||1,!!d,a,l)}function s(a,b,d){var l;b=d-b;d-=a.day();return d>b&&(d-=7),b-7>d&&(d+=7),l=q(a).add("d",d),{week:Math.ceil(l.dayOfYear()/7),year:l.year()}}function r(a,b,d,l,h){var c,f,p=(new Date(Date.UTC(a,0))).getUTCDay();return d=null!=d?d:h,c=h-p+(p>l?7:0),f=7*(b-1)+(d-h)+c+1,{year:0<f?a:a-1,dayOfYear:0<f?f:(Y(a-1)?366:365)+f}}function p(a){var b=a._i,l=a._f;"undefined"==typeof a._pf&&N(a);if(null===b)a=q.invalid({nullInput:!0});else{"string"==
typeof b&&(a._i=b=K().preparse(b));if(q.isMoment(b))a=x({},b),a._d=new Date(+b._d);else if(l)if(G(l)){var h=a,c,f,p;if(0===h._f.length)h._pf.invalidFormat=!0,h._d=new Date(0/0);else{for(b=0;b<h._f.length;b++)l=0,c=x({},h),N(c),c._f=h._f[b],d(c),R(c)&&(l+=c._pf.charsLeftOver,l+=10*c._pf.unusedTokens.length,c._pf.score=l,(null==p||p>l)&&(p=l,f=c));x(h,f||c)}}else d(a);else if(c=a,f=c._i,p=Da.exec(f),f===e)c._d=new Date;else if(p)c._d=new Date(+p[1]);else if("string"==typeof f)if(p=c._i,h=Ea.exec(p)){c._pf.iso=
!0;for(f=4;0<f;f--)if(h[f]){c._f=Fa[f-1]+(h[6]||" ");break}for(f=0;4>f;f++)if(na[f][1].exec(p)){c._f+=na[f][0];break}ia.exec(p)&&(c._f+="Z");d(c)}else c._d=new Date(p);else G(f)?(c._a=f.slice(0),W(c)):"[object Date]"===Object.prototype.toString.call(f)||f instanceof Date?c._d=new Date(+f):"object"==typeof f?c._d||(h=ea(c._i),c._a=[h.year,h.month,h.day,h.hour,h.minute,h.second,h.millisecond],W(c)):c._d=new Date(f);a=new g(a)}return a}function A(a,b){q.fn[a]=q.fn[a+"s"]=function(a){var d=this._isUTC?
"UTC":"";return null!=a?(this._d["set"+d+b](a),q.updateOffset(this),this):this._d["get"+d+b]()}}function l(a){q.duration.fn[a]=function(){return this._data[a]}}function X(a,b){q.duration.fn["as"+a]=function(){return+this/b}}function z(a){var b=!1,d=q;"undefined"==typeof ender&&(this.moment=a?function(){return!b&&console&&console.warn&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),d.apply(null,arguments)}:q)}for(var q,C,
da=Math.round,H=0,L=1,Q=2,B=3,I=4,Z=5,fa=6,ca={},la="undefined"!=typeof module&&module.exports,Da=/^\/?Date\((\-?\d+)/i,Ga=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ha=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ma=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ga=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,
Ba=/\d\d?/,wa=/\d{1,3}/,ta=/\d{3}/,ua=/\d{1,4}/,va=/[+\-]?\d{1,6}/,Aa=/\d+/,xa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ia=/Z|[\+\-]\d\d:?\d\d/i,za=/T/i,ya=/[\+\-]?\d+(\.\d{1,3})?/,Ea=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,Fa=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],na=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],
["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ca=/([\+\-]|\d\d)/gi,ja=["Date","Hours","Minutes","Seconds","Milliseconds"],ka={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},ra={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},sa={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},
ha={},oa="DDD w W M D d".split(" "),pa="MDHhmswW".split(""),aa={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},
W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},
a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return a(this.milliseconds()/100)},SS:function(){return u(a(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var b=
-this.zone(),d="+";return 0>b&&(b=-b,d="-"),d+u(a(b/60),2)+":"+u(a(b)%60,2)},ZZ:function(){var b=-this.zone(),d="+";return 0>b&&(b=-b,d="-"),d+u(a(10*b/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},qa=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];oa.length;)C=oa.pop(),aa[C+"o"]=n(aa[C],C);for(;pa.length;)C=pa.pop(),aa[C+C]=k(aa[C],2);aa.DDDD=k(aa.DDD,3);x(c.prototype,{set:function(a){var b,d;for(d in a)b=a[d],
"function"==typeof b?this[d]=b:this["_"+d]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,d,l;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(d=q.utc([2E3,b]),l="^"+this.months(d,"")+"|^"+
this.monthsShort(d,""),this._monthsParse[b]=new RegExp(l.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,
d,l;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(d=q([2E3,1]).day(b),l="^"+this.weekdays(d,"")+"|^"+this.weekdaysShort(d,"")+"|^"+this.weekdaysMin(d,""),this._weekdaysParse[b]=new RegExp(l.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,d){return 11<a?d?"pm":"PM":d?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var d=this._calendar[a];return"function"==
typeof d?d.apply(b):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,d,l){var c=this._relativeTime[d];return"function"==typeof c?c(a,b,d,l):c.replace(/%d/i,a)},pastFuture:function(a,b){var d=this._relativeTime[0<a?"future":"past"];return"function"==typeof d?d(b):d.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",
a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return s(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});q=function(a,b,d,l){return"boolean"==typeof d&&(l=d,d=e),p({_i:a,_f:b,_l:d,_strict:l,_isUTC:!1})};q.utc=function(a,b,d,l){return"boolean"==typeof d&&(l=d,d=e),p({_useUTC:!0,_isUTC:!0,_l:d,_i:a,_f:b,_strict:l}).utc()};q.unix=function(a){return q(1E3*a)};q.duration=
function(b,d){var l,c,h,f=q.isDuration(b),p="number"==typeof b,z=f?b._input:p?{}:b,r=null;return p?d?z[d]=b:z.milliseconds=b:(r=Ga.exec(b))?(l="-"===r[1]?-1:1,z={y:0,d:a(r[Q])*l,h:a(r[B])*l,m:a(r[I])*l,s:a(r[Z])*l,ms:a(r[fa])*l}):(r=Ha.exec(b))&&(l="-"===r[1]?-1:1,h=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*l},z={y:h(r[2]),M:h(r[3]),d:h(r[4]),h:h(r[5]),m:h(r[6]),s:h(r[7]),w:h(r[8])}),c=new m(z),f&&b.hasOwnProperty("_lang")&&(c._lang=b._lang),c};q.version="2.4.0";q.defaultFormat=
"YYYY-MM-DDTHH:mm:ssZ";q.updateOffset=function(){};q.lang=function(a,b){var d,l;a?(b?(l=J(a),b.abbr=l,ca[l]||(ca[l]=new c),ca[l].set(b)):null===b?(delete ca[a],a="en"):ca[a]||K(a),l=(d=q.duration.fn._lang=q.fn._lang=K(a),d._abbr)):l=q.fn._lang._abbr;return l};q.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),K(a)};q.isMoment=function(a){return a instanceof g};q.isDuration=function(a){return a instanceof m};for(C=qa.length-1;0<=C;--C)ba(qa[C]);q.normalizeUnits=function(a){return S(a)};
q.invalid=function(a){var b=q.utc(0/0);return null!=a?x(b._pf,a):b._pf.userInvalidated=!0,b};q.parseZone=function(a){return q(a).parseZone()};x(q.fn=g.prototype,{clone:function(){return q(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return T(q(this).utc(),
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return R(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<P(this._a,(this._isUTC?q.utc(this._a):q(this._a)).toArray()):!1},parsingFlags:function(){return x({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},
format:function(a){a=T(this,a||q.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var d;return d="string"==typeof a?q.duration(+b,a):q.duration(a,b),F(this,d,1),this},subtract:function(a,b){var d;return d="string"==typeof a?q.duration(+b,a):q.duration(a,b),F(this,d,-1),this},diff:function(a,b,d){var l,c;a=this._isUTC?q(a).zone(this._offset||0):q(a).local();var h=6E4*(this.zone()-a.zone());return b=S(b),"year"===b||"month"===b?(l=432E5*(this.daysInMonth()+a.daysInMonth()),c=12*(this.year()-
a.year())+(this.month()-a.month()),c+=(this-q(this).startOf("month")-(a-q(a).startOf("month")))/l,c-=6E4*(this.zone()-q(this).startOf("month").zone()-(a.zone()-q(a).startOf("month").zone()))/l,"year"===b&&(c/=12)):(l=this-a,c="second"===b?l/1E3:"minute"===b?l/6E4:"hour"===b?l/36E5:"day"===b?(l-h)/864E5:"week"===b?(l-h)/6048E5:l),d?c:y(c)},from:function(a,b){return q.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(q(),a)},calendar:function(){var a=
this.diff(q().zone(this.zone()).startOf("day"),"days",!0),a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){return Y(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=M(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,
d=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+d+"Month"](a),this.date(Math.min(b,this.daysInMonth())),q.updateOffset(this),this):this._d["get"+d+"Month"]()},startOf:function(a){switch(a=S(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===
a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=S(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+q(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+q(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+q(a).startOf(b)},min:function(a){return a=
q.apply(null,arguments),this>a?this:a},max:function(a){return a=q.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=O(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&F(this,q.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&
this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?q(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){var a=this.year(),b=this.month();return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},dayOfYear:function(a){var b=da((q(this).startOf("day")-q(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=s(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=s(this,1,4).year;
return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=s(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=S(a),this[a]()},set:function(a,b){return a=S(a),"function"==typeof this[a]&&this[a](b),this},
lang:function(a){return a===e?this._lang:(this._lang=K(a),this)}});for(C=0;C<ja.length;C++)A(ja[C].toLowerCase().replace(/s$/,""),ja[C]);A("year","FullYear");q.fn.days=q.fn.day;q.fn.months=q.fn.month;q.fn.weeks=q.fn.week;q.fn.isoWeeks=q.fn.isoWeek;q.fn.toJSON=q.fn.toISOString;x(q.duration.fn=m.prototype,{_bubble:function(){var a,b;a=this._milliseconds;b=this._days;var d=this._months,l=this._data;l.milliseconds=a%1E3;a=y(a/1E3);l.seconds=a%60;a=y(a/60);l.minutes=a%60;a=y(a/60);l.hours=a%24;b+=y(a/
24);l.days=b%30;d+=y(b/30);l.months=d%12;b=y(d/12);l.years=b},weeks:function(){return y(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*a(this._months/12)},humanize:function(a){var b=+this,d;d=!a;var l=this.lang(),c=da(Math.abs(b)/1E3),h=da(c/60),f=da(h/60),p=da(f/24),q=da(p/365),c=45>c&&["s",c]||1===h&&["m"]||45>h&&["mm",h]||1===f&&["h"]||22>f&&["hh",f]||1===p&&["d"]||25>=p&&["dd",p]||45>=p&&["M"]||345>p&&["MM",da(p/30)]||1===q&&["y"]||
["yy",q];d=(c[2]=d,c[3]=0<b,c[4]=l,v.apply({},c));return a&&(d=this.lang().pastFuture(b,d)),this.lang().postformat(d)},add:function(a,b){var d=q.duration(a,b);return this._milliseconds+=d._milliseconds,this._days+=d._days,this._months+=d._months,this._bubble(),this},subtract:function(a,b){var d=q.duration(a,b);return this._milliseconds-=d._milliseconds,this._days-=d._days,this._months-=d._months,this._bubble(),this},get:function(a){return a=S(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=
S(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:q.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),d=Math.abs(this.days()),l=Math.abs(this.hours()),c=Math.abs(this.minutes()),h=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(d?d+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}});for(C in ka)ka.hasOwnProperty(C)&&(X(C,ka[C]),l(C.toLowerCase()));
X("Weeks",6048E5);q.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};q.lang("en",{ordinal:function(b){var d=b%10,d=1===a(b%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th";return b+d}});la?(module.exports=q,z(!0)):"function"==typeof define&&define.amd?define("moment",function(a,b,d){return!0!==d.config().noGlobal&&z(d.config().noGlobal===e),q}):z()}).call(this);
var MomentUtil=function(){var e={duration:function(k,e){return(e?moment(e):moment()).diff(moment(k))},formatTime:function(e,n){var c=moment(e);return e&&c.isValid()?c.format(n):""},formatTimeSimple:function(k){return e.formatTime(k,"h:mm:ss a")},formatTimeAtDate:function(e){var n=moment(e);if(!e||!n.isValid())return"";e=moment();var c=e.diff(n),c=moment.duration(c);return 1>c.asDays()&&e.month()==n.month()?n.format("h:mm a"):1>c.asDays()&&e.month()!=n.month()?n.format("h:mm a"):1>c.asWeeks()?n.format("ddd h:mm a"):
n.year()!=e.year()?n.format("MMM do YYYY h a"):n.format("M/d ha")},formatDurationSimple:function(e){if(0>e)return"";e=moment.duration(e);var n=0;1<=e.asYears()&&(n=Math.floor(e.asYears()),e=e.subtract(n,"years"));var c=0;1<=e.asDays()&&(c=Math.floor(e.asDays()),e=e.subtract(c,"days"));var g=e.minutes(),m=e.seconds();return(0<n?n+"y ":"")+(0<c?c+"d ":"")+e.hours()+"."+(10>g?"0"+g:g)+":"+(10>m?"0"+m:m)},formatDurationHumanize:function(e){if(0>e)return"";var n=moment.duration(e),c=[];0<n.days()&&c.push(n.days()+
"d");0<n.hours()&&c.push(n.hours()+"h");0<n.minutes()&&c.push(n.minutes()+"m");0<n.seconds()?(e=n.seconds(),0<n.milliseconds()&&e++,c.push(e+"s")):1E3>e&&c.push("0s");return c.join(" ")},formatDurationMomentHumanize:function(e){return 0>e?"":moment.duration(e).humanize()}};return e}();
(function(){(function(e){var k=this||(0,eval)("this"),n=k.document,c=k.navigator,g=k.jQuery,m=k.JSON;(function(c){"function"===typeof define&&define.amd?define(["exports","require"],c):"object"===typeof exports&&"object"===typeof module?c(module.exports||exports):c(k.ko={})})(function(x,y){function u(a,d){return null===a||typeof a in Y?a===d:!1}function F(b,d){var c;return function(){c||(c=a.a.setTimeout(function(){c=e;b()},d))}}function G(b,d){var c;return function(){clearTimeout(c);c=a.a.setTimeout(b,
d)}}function P(a,d){d&&d!==V?"beforeChange"===d?this.Kb(a):this.Ha(a,d):this.Lb(a)}function S(a,d){null!==d&&d.k&&d.k()}function ea(a,d){var c=this.Hc,f=c[D];f.R||(this.lb&&this.Ma[d]?(c.Pb(d,a,this.Ma[d]),this.Ma[d]=null,--this.lb):f.r[d]||c.Pb(d,a,f.s?{ia:a}:c.uc(a)))}function ba(b,d,c,f){a.d[b]={init:function(b,M,v,s,r){var p,A;a.m(function(){var l=a.a.c(M()),s=!c!==!l,z=!A;if(z||d||s!==p)z&&a.va.Aa()&&(A=a.a.ua(a.f.childNodes(b),!0)),s?(z||a.f.da(b,a.a.ua(A)),a.eb(f?f(r,l):r,b)):a.f.xa(b),p=s},
null,{i:b});return{controlsDescendantBindings:!0}}};a.h.ta[b]=!1;a.f.Z[b]=!0}var a="undefined"!==typeof x?x:{};a.b=function(b,d){for(var c=b.split("."),f=a,w=0;w<c.length-1;w++)f=f[c[w]];f[c[c.length-1]]=d};a.G=function(a,d,c){a[d]=c};a.version="3.4.0";a.b("version",a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1};a.a=function(){function b(a,b){for(var d in a)a.hasOwnProperty(d)&&b(d,a[d])}function d(a,b){if(b)for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a}function h(a,b){a.__proto__=
b;return a}function f(b,d,c,h){var f=b[d].match(A)||[];a.a.q(c.match(A),function(b){a.a.pa(f,b,h)});b[d]=f.join(" ")}var w={__proto__:[]}instanceof Array,M="function"===typeof Symbol,v={},s={};v[c&&/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];v.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(v,function(a,b){if(b.length)for(var d=0,c=b.length;d<c;d++)s[b[d]]=a});var r={propertychange:!0},p=
n&&function(){for(var a=3,b=n.createElement("div"),d=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",d[0];);return 4<a?a:e}(),A=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(a,b){for(var d=0,c=a.length;d<c;d++)b(a[d],d)},o:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var d=0,c=a.length;d<c;d++)if(a[d]===b)return d;return-1},Sb:function(a,b,d){for(var c=
0,h=a.length;c<h;c++)if(b.call(d,a[c],c))return a[c];return null},La:function(b,d){var c=a.a.o(b,d);0<c?b.splice(c,1):0===c&&b.shift()},Tb:function(b){b=b||[];for(var d=[],c=0,h=b.length;c<h;c++)0>a.a.o(d,b[c])&&d.push(b[c]);return d},fb:function(a,b){a=a||[];for(var d=[],c=0,h=a.length;c<h;c++)d.push(b(a[c],c));return d},Ka:function(a,b){a=a||[];for(var d=[],c=0,h=a.length;c<h;c++)b(a[c],c)&&d.push(a[c]);return d},ra:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var d=0,c=b.length;d<
c;d++)a.push(b[d]);return a},pa:function(b,d,c){var h=a.a.o(a.a.zb(b),d);0>h?c&&b.push(d):c||b.splice(h,1)},ka:w,extend:d,Xa:h,Ya:w?h:d,D:b,Ca:function(a,b){if(!a)return a;var d={},c;for(c in a)a.hasOwnProperty(c)&&(d[c]=b(a[c],c,a));return d},ob:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},jc:function(b){b=a.a.V(b);for(var d=(b[0]&&b[0].ownerDocument||n).createElement("div"),c=0,h=b.length;c<h;c++)d.appendChild(a.$(b[c]));return d},ua:function(b,d){for(var c=0,h=b.length,f=[];c<h;c++){var p=
b[c].cloneNode(!0);f.push(d?a.$(p):p)}return f},da:function(b,d){a.a.ob(b);if(d)for(var c=0,h=d.length;c<h;c++)b.appendChild(d[c])},qc:function(b,d){var c=b.nodeType?[b]:b;if(0<c.length){for(var h=c[0],f=h.parentNode,p=0,r=d.length;p<r;p++)f.insertBefore(d[p],h);p=0;for(r=c.length;p<r;p++)a.removeNode(c[p])}},za:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var d=
a[0],c=a[a.length-1];for(a.length=0;d!==c;)a.push(d),d=d.nextSibling;a.push(c)}}return a},sc:function(a,b){7>p?a.setAttribute("selected",b):a.selected=b},$a:function(a){return null===a||a===e?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Mc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==
(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},nb:function(b){return a.a.Mc(b,b.ownerDocument.documentElement)},Qb:function(b){return!!a.a.Sb(b,a.a.nb)},A:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},Wb:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(d){throw a.onError&&a.onError(d),d;}}:b},setTimeout:function(b,d){return setTimeout(a.a.Wb(b),d)},$b:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b;},0)},p:function(b,
d,c){var h=a.a.Wb(c);c=p&&r[d];if(a.options.useOnlyNativeEvents||c||!g)if(c||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var f=function(a){h.call(b,a)},s="on"+d;b.attachEvent(s,f);a.a.F.oa(b,function(){b.detachEvent(s,f)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(d,h,!1);else g(b).bind(d,h)},Da:function(b,d){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var c;"input"===
a.a.A(b)&&b.type&&"click"==d.toLowerCase()?(c=b.type,c="checkbox"==c||"radio"==c):c=!1;if(a.options.useOnlyNativeEvents||!g||c)if("function"==typeof n.createEvent)if("function"==typeof b.dispatchEvent)c=n.createEvent(s[d]||"HTMLEvents"),c.initEvent(d,!0,!0,k,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(c);else throw Error("The supplied element doesn't support dispatchEvent");else if(c&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+d);else throw Error("Browser doesn't support triggering events");
else g(b).trigger(d)},c:function(b){return a.H(b)?b():b},zb:function(b){return a.H(b)?b.t():b},bb:function(b,d,c){var h;d&&("object"===typeof b.classList?(h=b.classList[c?"add":"remove"],a.a.q(d.match(A),function(a){h.call(b.classList,a)})):"string"===typeof b.className.baseVal?f(b.className,"baseVal",d,c):f(b,"className",d,c))},Za:function(b,d){var c=a.a.c(d);if(null===c||c===e)c="";var h=a.f.firstChild(b);!h||3!=h.nodeType||a.f.nextSibling(h)?a.f.da(b,[b.ownerDocument.createTextNode(c)]):h.data=
c;a.a.Rc(b)},rc:function(a,b){a.name=b;if(7>=p)try{a.mergeAttributes(n.createElement("<input name='"+a.name+"'/>"),!1)}catch(d){}},Rc:function(a){9<=p&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Nc:function(a){if(p){var b=a.style.width;a.style.width=0;a.style.width=b}},hd:function(b,d){b=a.a.c(b);d=a.a.c(d);for(var c=[],h=b;h<=d;h++)c.push(h);return c},V:function(a){for(var b=[],d=0,c=a.length;d<c;d++)b.push(a[d]);return b},Yb:function(a){return M?Symbol(a):a},rd:6===p,
sd:7===p,C:p,ec:function(b,d){for(var c=a.a.V(b.getElementsByTagName("input")).concat(a.a.V(b.getElementsByTagName("textarea"))),h="string"==typeof d?function(a){return a.name===d}:function(a){return d.test(a.name)},f=[],p=c.length-1;0<=p;p--)h(c[p])&&f.push(c[p]);return f},ed:function(b){return"string"==typeof b&&(b=a.a.$a(b))?m&&m.parse?m.parse(b):(new Function("return "+b))():null},Eb:function(b,d,c){if(!m||!m.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return m.stringify(a.a.c(b),d,c)},fd:function(d,c,h){h=h||{};var f=h.params||{},p=h.includeFields||this.cc,r=d;if("object"==typeof d&&"form"===a.a.A(d))for(var r=d.action,s=p.length-1;0<=s;s--)for(var w=a.a.ec(d,p[s]),M=w.length-1;0<=M;M--)f[w[M].name]=w[M].value;c=a.a.c(c);var v=n.createElement("form");v.style.display="none";v.action=r;v.method="post";for(var A in c)d=n.createElement("input"),d.type="hidden",d.name=A,d.value=a.a.Eb(a.a.c(c[A])),v.appendChild(d);b(f,function(a,b){var d=n.createElement("input");
d.type="hidden";d.name=a;d.value=b;v.appendChild(d)});n.body.appendChild(v);h.submitter?h.submitter(v):v.submit();setTimeout(function(){v.parentNode.removeChild(v)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.q);a.b("utils.arrayFirst",a.a.Sb);a.b("utils.arrayFilter",a.a.Ka);a.b("utils.arrayGetDistinctValues",a.a.Tb);a.b("utils.arrayIndexOf",a.a.o);a.b("utils.arrayMap",a.a.fb);a.b("utils.arrayPushAll",a.a.ra);a.b("utils.arrayRemoveItem",a.a.La);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",
a.a.cc);a.b("utils.getFormFields",a.a.ec);a.b("utils.peekObservable",a.a.zb);a.b("utils.postJson",a.a.fd);a.b("utils.parseJson",a.a.ed);a.b("utils.registerEventHandler",a.a.p);a.b("utils.stringifyJson",a.a.Eb);a.b("utils.range",a.a.hd);a.b("utils.toggleDomNodeCssClass",a.a.bb);a.b("utils.triggerEvent",a.a.Da);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.D);a.b("utils.addOrRemoveItem",a.a.pa);a.b("utils.setTextContent",a.a.Za);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=
function(a){var d=this;if(1===arguments.length)return function(){return d.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var f=c.slice(0);f.push.apply(f,arguments);return d.apply(a,f)}});a.a.e=new function(){function a(b,M){var v=b[c];if(!v||"null"===v||!f[v]){if(!M)return e;v=b[c]="ko"+d++;f[v]={}}return f[v]}var d=0,c="__ko__"+(new Date).getTime(),f={};return{get:function(d,c){var h=a(d,!1);return h===e?e:h[c]},set:function(d,c,h){if(h!==e||a(d,!1)!==e)a(d,!0)[c]=
h},clear:function(a){var b=a[c];return b?(delete f[b],a[c]=null,!0):!1},I:function(){return d++ +c}}};a.b("utils.domData",a.a.e);a.b("utils.domData.clear",a.a.e.clear);a.a.F=new function(){function b(b,d){var f=a.a.e.get(b,c);f===e&&d&&(f=[],a.a.e.set(b,c,f));return f}function d(c){var h=b(c,!1);if(h)for(var h=h.slice(0),f=0;f<h.length;f++)h[f](c);a.a.e.clear(c);a.a.F.cleanExternalData(c);if(w[c.nodeType])for(h=c.firstChild;c=h;)h=c.nextSibling,8===c.nodeType&&d(c)}var c=a.a.e.I(),f={1:!0,8:!0,9:!0},
w={1:!0,9:!0};return{oa:function(a,d){if("function"!=typeof d)throw Error("Callback must be a function");b(a,!0).push(d)},pc:function(d,f){var s=b(d,!1);s&&(a.a.La(s,f),0==s.length&&a.a.e.set(d,c,e))},$:function(b){if(f[b.nodeType]&&(d(b),w[b.nodeType])){var c=[];a.a.ra(c,b.getElementsByTagName("*"));for(var h=0,r=c.length;h<r;h++)d(c[h])}return b},removeNode:function(b){a.$(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){g&&"function"==typeof g.cleanData&&g.cleanData([a])}}};
a.$=a.a.F.$;a.removeNode=a.a.F.removeNode;a.b("cleanNode",a.$);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.F);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.F.oa);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.F.pc);(function(){var b=[0,"",""],d=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,"<select multiple='multiple'>","</select>"],w={thead:d,tbody:d,tfoot:d,tr:[2,"<table><tbody>","</tbody></table>"],td:c,th:c,option:f,optgroup:f},
M=8>=a.a.C;a.a.ma=function(d,c){var h;if(g)if(g.parseHTML)h=g.parseHTML(d,c)||[];else{if((h=g.clean([d],c))&&h[0]){for(var f=h[0];f.parentNode&&11!==f.parentNode.nodeType;)f=f.parentNode;f.parentNode&&f.parentNode.removeChild(f)}}else{(h=c)||(h=n);var f=h.parentWindow||h.defaultView||k,A=a.a.$a(d).toLowerCase(),l=h.createElement("div"),e;e=(A=A.match(/^<([a-z]+)[ >]/))&&w[A[1]]||b;A=e[0];e="ignored<div>"+e[1]+d+e[2]+"</div>";for("function"==typeof f.innerShiv?l.appendChild(f.innerShiv(e)):(M&&h.appendChild(l),
l.innerHTML=e,M&&l.parentNode.removeChild(l));A--;)l=l.lastChild;h=a.a.V(l.lastChild.childNodes)}return h};a.a.Cb=function(b,d){a.a.ob(b);d=a.a.c(d);if(null!==d&&d!==e)if("string"!=typeof d&&(d=d.toString()),g)g(b).html(d);else for(var c=a.a.ma(d,b.ownerDocument),h=0;h<c.length;h++)b.appendChild(c[h])}})();a.b("utils.parseHtmlFragment",a.a.ma);a.b("utils.setHtml",a.a.Cb);a.M=function(){function b(d,c){if(d)if(8==d.nodeType){var w=a.M.lc(d.nodeValue);null!=w&&c.push({Lc:d,cd:w})}else if(1==d.nodeType)for(var w=
0,e=d.childNodes,v=e.length;w<v;w++)b(e[w],c)}var d={};return{wb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);d[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},xc:function(a,b){var c=d[a];if(c===e)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return c.apply(null,b||[]),
!0}finally{delete d[a]}},yc:function(d,c){var w=[];b(d,w);for(var e=0,v=w.length;e<v;e++){var s=w[e].Lc,r=[s];c&&a.a.ra(r,c);a.M.xc(w[e].cd,r);s.nodeValue="";s.parentNode&&s.parentNode.removeChild(s)}},lc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.M);a.b("memoization.memoize",a.M.wb);a.b("memoization.unmemoize",a.M.xc);a.b("memoization.parseMemoText",a.M.lc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.M.yc);a.Y=function(){function b(){if(f)for(var b=
f,d=0,r;e<f;)if(r=c[e++]){if(e>b){if(5E3<=++d){e=f;a.a.$b(Error("'Too much recursion' after processing "+d+" task groups."));break}b=f}try{r()}catch(p){a.a.$b(p)}}}function d(){b();e=f=c.length=0}var c=[],f=0,w=1,e=0;return{scheduler:k.MutationObserver?function(a){var b=n.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(d):n&&"onreadystatechange"in n.createElement("script")?function(a){var b=n.createElement("script");b.onreadystatechange=
function(){b.onreadystatechange=null;n.documentElement.removeChild(b);b=null;a()};n.documentElement.appendChild(b)}:function(a){setTimeout(a,0)},Wa:function(b){f||a.Y.scheduler(d);c[f++]=b;return w++},cancel:function(a){a-=w-f;a>=e&&a<f&&(c[a]=null)},resetForTesting:function(){var a=f-e;e=f=c.length=0;return a},md:b}}();a.b("tasks",a.Y);a.b("tasks.schedule",a.Y.Wa);a.b("tasks.runEarly",a.Y.md);a.ya={throttle:function(b,d){b.throttleEvaluation=d;var c=null;return a.B({read:b,write:function(f){clearTimeout(c);
c=a.a.setTimeout(function(){b(f)},d)}})},rateLimit:function(a,d){var c,f,w;"number"==typeof d?c=d:(c=d.timeout,f=d.method);a.cb=!1;w="notifyWhenChangesStop"==f?G:F;a.Ta(function(a){return w(a,c)})},deferred:function(b,d){if(!0!==d)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.cb||(b.cb=!0,b.Ta(function(d){var c;return function(){a.Y.cancel(c);c=a.Y.Wa(d);b.notifySubscribers(e,"dirty")}}))},notify:function(a,d){a.equalityComparer=
"always"==d?null:u}};var Y={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.ya);a.vc=function(b,d,c){this.ia=b;this.gb=d;this.Kc=c;this.R=!1;a.G(this,"dispose",this.k)};a.vc.prototype.k=function(){this.R=!0;this.Kc()};a.J=function(){a.a.Ya(this,N);N.rb(this)};var V="change",N={rb:function(a){a.K={};a.Nb=1},X:function(b,d,c){var f=this;c=c||V;var w=new a.vc(f,d?b.bind(d):b,function(){a.a.La(f.K[c],w);f.Ia&&f.Ia(c)});f.sa&&f.sa(c);f.K[c]||(f.K[c]=[]);f.K[c].push(w);return w},notifySubscribers:function(b,
d){d=d||V;d===V&&this.zc();if(this.Pa(d))try{a.l.Ub();for(var c=this.K[d].slice(0),f=0,w;w=c[f];++f)w.R||w.gb(b)}finally{a.l.end()}},Na:function(){return this.Nb},Uc:function(a){return this.Na()!==a},zc:function(){++this.Nb},Ta:function(b){var d=this,c=a.H(d),f,w,e;d.Ha||(d.Ha=d.notifySubscribers,d.notifySubscribers=P);var v=b(function(){d.Mb=!1;c&&e===d&&(e=d());f=!1;d.tb(w,e)&&d.Ha(w=e)});d.Lb=function(a){d.Mb=f=!0;e=a;v()};d.Kb=function(a){f||(w=a,d.Ha(a,"beforeChange"))}},Pa:function(a){return this.K[a]&&
this.K[a].length},Sc:function(b){if(b)return this.K[b]&&this.K[b].length||0;var d=0;a.a.D(this.K,function(a,b){"dirty"!==a&&(d+=b.length)});return d},tb:function(a,d){return!this.equalityComparer||!this.equalityComparer(a,d)},extend:function(b){var d=this;b&&a.a.D(b,function(b,c){var e=a.ya[b];"function"==typeof e&&(d=e(d,c)||d)});return d}};a.G(N,"subscribe",N.X);a.G(N,"extend",N.extend);a.G(N,"getSubscriptionsCount",N.Sc);a.a.ka&&a.a.Xa(N,Function.prototype);a.J.fn=N;a.hc=function(a){return null!=
a&&"function"==typeof a.X&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.J);a.b("isSubscribable",a.hc);a.va=a.l=function(){function b(a){c.push(f);f=a}function d(){f=c.pop()}var c=[],f,e=0;return{Ub:b,end:d,oc:function(b){if(f){if(!a.hc(b))throw Error("Only subscribable things can act as dependencies");f.gb.call(f.Gc,b,b.Cc||(b.Cc=++e))}},w:function(a,c,h){try{return b(),a.apply(c,h||[])}finally{d()}},Aa:function(){if(f)return f.m.Aa()},Sa:function(){if(f)return f.Sa}}}();a.b("computedContext",
a.va);a.b("computedContext.getDependenciesCount",a.va.Aa);a.b("computedContext.isInitial",a.va.Sa);a.b("ignoreDependencies",a.qd=a.l.w);var R=a.a.Yb("_latestValue");a.N=function(b){function d(){if(0<arguments.length)return d.tb(d[R],arguments[0])&&(d.ga(),d[R]=arguments[0],d.fa()),this;a.l.oc(d);return d[R]}d[R]=b;a.a.ka||a.a.extend(d,a.J.fn);a.J.fn.rb(d);a.a.Ya(d,J);a.options.deferUpdates&&a.ya.deferred(d,!0);return d};var J={equalityComparer:u,t:function(){return this[R]},fa:function(){this.notifySubscribers(this[R])},
ga:function(){this.notifySubscribers(this[R],"beforeChange")}};a.a.ka&&a.a.Xa(J,a.J.fn);var K=a.N.gd="__ko_proto__";J[K]=a.N;a.Oa=function(b,d){return null===b||b===e||b[K]===e?!1:b[K]===d?!0:a.Oa(b[K],d)};a.H=function(b){return a.Oa(b,a.N)};a.Ba=function(b){return"function"==typeof b&&b[K]===a.N||"function"==typeof b&&b[K]===a.B&&b.Vc?!0:!1};a.b("observable",a.N);a.b("isObservable",a.H);a.b("isWriteableObservable",a.Ba);a.b("isWritableObservable",a.Ba);a.b("observable.fn",J);a.G(J,"peek",J.t);a.G(J,
"valueHasMutated",J.fa);a.G(J,"valueWillMutate",J.ga);a.la=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.N(b);a.a.Ya(b,a.la.fn);return b.extend({trackArrayChanges:!0})};a.la.fn={remove:function(b){for(var d=this.t(),c=[],f="function"!=typeof b||a.H(b)?function(a){return a===b}:b,e=0;e<d.length;e++){var g=d[e];f(g)&&(0===c.length&&this.ga(),c.push(g),d.splice(e,1),e--)}c.length&&
this.fa();return c},removeAll:function(b){if(b===e){var d=this.t(),c=d.slice(0);this.ga();d.splice(0,d.length);this.fa();return c}return b?this.remove(function(d){return 0<=a.a.o(b,d)}):[]},destroy:function(b){var d=this.t(),c="function"!=typeof b||a.H(b)?function(a){return a===b}:b;this.ga();for(var f=d.length-1;0<=f;f--)c(d[f])&&(d[f]._destroy=!0);this.fa()},destroyAll:function(b){return b===e?this.destroy(function(){return!0}):b?this.destroy(function(d){return 0<=a.a.o(b,d)}):[]},indexOf:function(b){var d=
this();return a.a.o(d,b)},replace:function(a,d){var c=this.indexOf(a);0<=c&&(this.ga(),this.t()[c]=d,this.fa())}};a.a.ka&&a.a.Xa(a.la.fn,a.N.fn);a.a.q("pop push reverse shift sort splice unshift".split(" "),function(b){a.la.fn[b]=function(){var a=this.t();this.ga();this.Vb(a,b,arguments);var c=a[b].apply(a,arguments);this.fa();return c===a?this:c}});a.a.q(["slice"],function(b){a.la.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.b("observableArray",a.la);a.ya.trackArrayChanges=function(b,
d){function c(){if(!f){f=!0;var d=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&b!==V||++v;return d.apply(this,arguments)};var h=[].concat(b.t()||[]);e=null;g=b.X(function(d){d=[].concat(d||[]);if(b.Pa("arrayChange")){var c;if(!e||1<v)e=a.a.ib(h,d,b.hb);c=e}h=d;e=null;v=0;c&&c.length&&b.notifySubscribers(c,"arrayChange")})}}b.hb={};d&&"object"==typeof d&&a.a.extend(b.hb,d);b.hb.sparse=!0;if(!b.Vb){var f=!1,e=null,g,v=0,s=b.sa,r=b.Ia;b.sa=function(a){s&&s.call(b,a);"arrayChange"===a&&c()};
b.Ia=function(a){r&&r.call(b,a);"arrayChange"!==a||b.Pa("arrayChange")||(g.k(),f=!1)};b.Vb=function(b,d,c){function h(a,b,d){return r[r.length]={status:a,value:b,index:d}}if(f&&!v){var r=[],q=b.length,s=c.length,g=0;switch(d){case "push":g=q;case "unshift":for(d=0;d<s;d++)h("added",c[d],g+d);break;case "pop":g=q-1;case "shift":q&&h("deleted",b[g],g);break;case "splice":d=Math.min(Math.max(0,0>c[0]?q+c[0]:c[0]),q);for(var q=1===s?q:Math.min(d+(c[1]||0),q),s=d+s-2,g=Math.max(q,s),M=[],m=[],k=2;d<g;++d,
++k)d<q&&m.push(h("deleted",b[d],d)),d<s&&M.push(h("added",c[k],d));a.a.dc(m,M);break;default:return}e=r}}}};var D=a.a.Yb("_state");a.m=a.B=function(b,d,c){function f(){if(0<arguments.length){if("function"===typeof w)w.apply(g.pb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}a.l.oc(f);(g.S||g.s&&f.Qa())&&f.aa();return g.T}"object"===typeof b?c=b:(c=c||{},b&&(c.read=
b));if("function"!=typeof c.read)throw Error("Pass a function that returns the value of the ko.computed");var w=c.write,g={T:e,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:c.read,pb:d||c.owner,i:c.disposeWhenNodeIsRemoved||c.i||null,wa:c.disposeWhen||c.wa,mb:null,r:{},L:0,bc:null};f[D]=g;f.Vc="function"===typeof w;a.a.ka||a.a.extend(f,a.J.fn);a.J.fn.rb(f);a.a.Ya(f,E);c.pure?(g.Va=!0,g.s=!0,a.a.extend(f,T)):c.deferEvaluation&&a.a.extend(f,U);a.options.deferUpdates&&a.ya.deferred(f,!0);g.i&&(g.Fb=!0,g.i.nodeType||
(g.i=null));g.s||c.deferEvaluation||f.aa();g.i&&f.ba()&&a.a.F.oa(g.i,g.mb=function(){f.k()});return f};var E={equalityComparer:u,Aa:function(){return this[D].L},Pb:function(a,d,c){if(this[D].Va&&d===this)throw Error("A 'pure' computed must not be called recursively");this[D].r[a]=c;c.Ga=this[D].L++;c.na=d.Na()},Qa:function(){var a,d,c=this[D].r;for(a in c)if(c.hasOwnProperty(a)&&(d=c[a],d.ia.Uc(d.na)))return!0},bd:function(){this.Fa&&!this[D].Ra&&this.Fa()},ba:function(){return this[D].S||0<this[D].L},
ld:function(){this.Mb||this.ac()},uc:function(a){if(a.cb&&!this[D].i){var d=a.X(this.bd,this,"dirty"),c=a.X(this.ld,this);return{ia:a,k:function(){d.k();c.k()}}}return a.X(this.ac,this)},ac:function(){var b=this,d=b.throttleEvaluation;d&&0<=d?(clearTimeout(this[D].bc),this[D].bc=a.a.setTimeout(function(){b.aa(!0)},d)):b.Fa?b.Fa():b.aa(!0)},aa:function(b){var d=this[D],c=d.wa;if(!d.Ra&&!d.R){if(d.i&&!a.a.nb(d.i)||c&&c()){if(!d.Fb){this.k();return}}else d.Fb=!1;d.Ra=!0;try{this.Qc(b)}finally{d.Ra=!1}d.L||
this.k()}},Qc:function(b){var d=this[D],c=d.Va?e:!d.L,f={Hc:this,Ma:d.r,lb:d.L};a.l.Ub({Gc:f,gb:ea,m:this,Sa:c});d.r={};d.L=0;f=this.Pc(d,f);this.tb(d.T,f)&&(d.s||this.notifySubscribers(d.T,"beforeChange"),d.T=f,d.s?this.zc():b&&this.notifySubscribers(d.T));c&&this.notifySubscribers(d.T,"awake")},Pc:function(b,d){try{var c=b.jd;return b.pb?c.call(b.pb):c()}finally{a.l.end(),d.lb&&!b.s&&a.a.D(d.Ma,S),b.S=!1}},t:function(){var a=this[D];(a.S&&!a.L||a.s&&this.Qa())&&this.aa();return a.T},Ta:function(b){a.J.fn.Ta.call(this,
b);this.Fa=function(){this.Kb(this[D].T);this[D].S=!0;this.Lb(this)}},k:function(){var b=this[D];!b.s&&b.r&&a.a.D(b.r,function(a,b){b.k&&b.k()});b.i&&b.mb&&a.a.F.pc(b.i,b.mb);b.r=null;b.L=0;b.R=!0;b.S=!1;b.s=!1;b.i=null}},T={sa:function(b){var d=this,c=d[D];if(!c.R&&c.s&&"change"==b){c.s=!1;if(c.S||d.Qa())c.r=null,c.L=0,c.S=!0,d.aa();else{var f=[];a.a.D(c.r,function(a,b){f[b.Ga]=a});a.a.q(f,function(a,b){var f=c.r[a],e=d.uc(f.ia);e.Ga=b;e.na=f.na;c.r[a]=e})}c.R||d.notifySubscribers(c.T,"awake")}},
Ia:function(b){var d=this[D];d.R||"change"!=b||this.Pa("change")||(a.a.D(d.r,function(a,b){b.k&&(d.r[a]={ia:b.ia,Ga:b.Ga,na:b.na},b.k())}),d.s=!0,this.notifySubscribers(e,"asleep"))},Na:function(){var b=this[D];b.s&&(b.S||this.Qa())&&this.aa();return a.J.fn.Na.call(this)}},U={sa:function(a){"change"!=a&&"beforeChange"!=a||this.t()}};a.a.ka&&a.a.Xa(E,a.J.fn);var t=a.N.gd;a.m[t]=a.N;E[t]=a.m;a.Xc=function(b){return a.Oa(b,a.m)};a.Yc=function(b){return a.Oa(b,a.m)&&b[D]&&b[D].Va};a.b("computed",a.m);
a.b("dependentObservable",a.m);a.b("isComputed",a.Xc);a.b("isPureComputed",a.Yc);a.b("computed.fn",E);a.G(E,"peek",E.t);a.G(E,"dispose",E.k);a.G(E,"isActive",E.ba);a.G(E,"getDependenciesCount",E.Aa);a.nc=function(b,d){if("function"===typeof b)return a.m(b,d,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.m(b,d)};a.b("pureComputed",a.nc);(function(){function b(a,w,g){g=g||new c;a=w(a);if("object"!=typeof a||null===a||a===e||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof
Number||a instanceof Boolean)return a;var v=a instanceof Array?[]:{};g.save(a,v);d(a,function(d){var c=w(a[d]);switch(typeof c){case "boolean":case "number":case "string":case "function":v[d]=c;break;case "object":case "undefined":var h=g.get(c);v[d]=h!==e?h:b(c,w,g)}});return v}function d(a,b){if(a instanceof Array){for(var d=0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function c(){this.keys=[];this.Ib=[]}a.wc=function(d){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");
return b(d,function(b){for(var d=0;a.H(b)&&10>d;d++)b=b();return b})};a.toJSON=function(b,d,c){b=a.wc(b);return a.a.Eb(b,d,c)};c.prototype={save:function(b,d){var c=a.a.o(this.keys,b);0<=c?this.Ib[c]=d:(this.keys.push(b),this.Ib.push(d))},get:function(b){b=a.a.o(this.keys,b);return 0<=b?this.Ib[b]:e}}})();a.b("toJS",a.wc);a.b("toJSON",a.toJSON);(function(){a.j={u:function(b){switch(a.a.A(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.a.e.get(b,a.d.options.xb):7>=a.a.C?b.getAttributeNode("value")&&
b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.j.u(b.options[b.selectedIndex]):e;default:return b.value}},ha:function(b,d,c){switch(a.a.A(b)){case "option":switch(typeof d){case "string":a.a.e.set(b,a.d.options.xb,e);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=d;break;default:a.a.e.set(b,a.d.options.xb,d),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof d?d:""}break;case "select":if(""===d||
null===d)d=e;for(var f=-1,g=0,m=b.options.length,v;g<m;++g)if(v=a.j.u(b.options[g]),v==d||""==v&&d===e){f=g;break}if(c||0<=f||d===e&&1<b.size)b.selectedIndex=f;break;default:if(null===d||d===e)d="";b.value=d}}}})();a.b("selectExtensions",a.j);a.b("selectExtensions.readValue",a.j.u);a.b("selectExtensions.writeValue",a.j.ha);a.h=function(){function b(b){b=a.a.$a(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var d=[],c=b.match(f),h,l=[],v=0;if(c){c.push(",");for(var z=0,q;q=c[z];++z){var m=q.charCodeAt(0);
if(44===m){if(0>=v){d.push(h&&l.length?{key:h,value:l.join("")}:{unknown:h||l.join("")});h=v=0;l=[];continue}}else if(58===m){if(!v&&!h&&1===l.length){h=l.pop();continue}}else 47===m&&z&&1<q.length?(m=c[z-1].match(e))&&!g[m[0]]&&(b=b.substr(b.indexOf(q)+1),c=b.match(f),c.push(","),z=-1,q="/"):40===m||123===m||91===m?++v:41===m||125===m||93===m?--v:h||l.length||34!==m&&39!==m||(q=q.slice(1,-1));l.push(q)}}return d}var d=["true","false","null","undefined"],c=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,
f=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,e=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},v={};return{ta:[],ea:v,yb:b,Ua:function(f,r){function p(b,f){var r;if(!w){var q=a.getBindingHandler(b);if(q&&q.preprocess&&!(f=q.preprocess(f,b,p)))return;if(q=v[b])r=f,0<=a.a.o(d,r)?r=!1:(q=r.match(c),r=null===q?!1:q[1]?"Object("+q[1]+")"+q[2]:r),q=r;q&&l.push("'"+b+"':function(_z){"+r+"=_z}")}g&&(f="function(){return "+f+" }");e.push("'"+
b+"':"+f)}r=r||{};var e=[],l=[],g=r.valueAccessors,w=r.bindingParams,q="string"===typeof f?b(f):f;a.a.q(q,function(a){p(a.key||a.unknown,a.value)});l.length&&p("_ko_property_writers","{"+l.join(",")+" }");return e.join(",")},ad:function(a,b){for(var d=0;d<a.length;d++)if(a[d].key==b)return!0;return!1},Ea:function(b,d,c,f,h){if(b&&a.H(b))!a.Ba(b)||h&&b.t()===f||b(f);else if((b=d.get("_ko_property_writers"))&&b[c])b[c](f)}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",
a.h.ta);a.b("expressionRewriting.parseObjectLiteral",a.h.yb);a.b("expressionRewriting.preProcessBindings",a.h.Ua);a.b("expressionRewriting._twoWayBindings",a.h.ea);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.Ua);(function(){function b(a){return 8==a.nodeType&&g.test(e?a.text:a.nodeValue)}function d(a){return 8==a.nodeType&&v.test(e?a.text:a.nodeValue)}function c(a,f){for(var h=a,l=1,e=[];h=h.nextSibling;){if(d(h)&&(l--,0===l))return e;e.push(h);
b(h)&&l++}if(!f)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function f(a,b){var d=c(a,b);return d?0<d.length?d[d.length-1].nextSibling:a.nextSibling:null}var e=n&&"\x3c!--test--\x3e"===n.createComment("test").text,g=e?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,v=e?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,s={ul:!0,ol:!0};a.f={Z:{},childNodes:function(a){return b(a)?c(a):a.childNodes},xa:function(d){if(b(d)){d=a.f.childNodes(d);for(var c=
0,f=d.length;c<f;c++)a.removeNode(d[c])}else a.a.ob(d)},da:function(d,c){if(b(d)){a.f.xa(d);for(var f=d.nextSibling,h=0,e=c.length;h<e;h++)f.parentNode.insertBefore(c[h],f)}else a.a.da(d,c)},mc:function(a,d){b(a)?a.parentNode.insertBefore(d,a.nextSibling):a.firstChild?a.insertBefore(d,a.firstChild):a.appendChild(d)},gc:function(d,c,f){f?b(d)?d.parentNode.insertBefore(c,f.nextSibling):f.nextSibling?d.insertBefore(c,f.nextSibling):d.appendChild(c):a.f.mc(d,c)},firstChild:function(a){return b(a)?!a.nextSibling||
d(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=f(a));return a.nextSibling&&d(a.nextSibling)?null:a.nextSibling},Tc:b,pd:function(a){return(a=(e?a.text:a.nodeValue).match(g))?a[1]:null},kc:function(c){if(s[a.a.A(c)]){var h=c.firstChild;if(h){do if(1===h.nodeType){var e;e=h.firstChild;var l=null;if(e){do if(l)l.push(e);else if(b(e)){var g=f(e,!0);g?e=g:l=[e]}else d(e)&&(l=[e]);while(e=e.nextSibling)}if(e=l)for(l=h.nextSibling,g=0;g<e.length;g++)l?c.insertBefore(e[g],
l):c.appendChild(e[g])}while(h=h.nextSibling)}}}}})();a.b("virtualElements",a.f);a.b("virtualElements.allowedBindings",a.f.Z);a.b("virtualElements.emptyNode",a.f.xa);a.b("virtualElements.insertAfter",a.f.gc);a.b("virtualElements.prepend",a.f.mc);a.b("virtualElements.setDomNodeChildren",a.f.da);(function(){a.Q=function(){this.Fc={}};a.a.extend(a.Q.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.g.getComponentNameForNode(b);case 8:return a.f.Tc(b);
default:return!1}},getBindings:function(b,d){var c=this.getBindingsString(b,d),c=c?this.parseBindingsString(c,d,b):null;return a.g.Ob(c,b,d,!1)},getBindingAccessors:function(b,d){var c=this.getBindingsString(b,d),c=c?this.parseBindingsString(c,d,b,{valueAccessors:!0}):null;return a.g.Ob(c,b,d,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.f.pd(b);default:return null}},parseBindingsString:function(b,d,c,f){try{var e=this.Fc,g=b+(f&&f.valueAccessors||
""),v;if(!(v=e[g])){var s,r="with($context){with($data||{}){return{"+a.h.Ua(b,f)+"}}}";s=new Function("$context","$element",r);v=e[g]=s}return v(d,c)}catch(p){throw p.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+p.message,p;}}});a.Q.instance=new a.Q})();a.b("bindingProvider",a.Q);(function(){function b(a){return function(){return a}}function d(a){return a()}function c(b){return a.a.Ca(a.l.w(b),function(a,d){return function(){return b()[d]}})}function f(d,f,p){return"function"===
typeof d?c(d.bind(null,f,p)):a.a.Ca(d,b)}function w(a,b){return c(this.getBindings.bind(this,a,b))}function m(b,d,c){var f,h=a.f.firstChild(d),p=a.Q.instance,e=p.preprocessNode;if(e){for(;f=h;)h=a.f.nextSibling(f),e.call(p,f);h=a.f.firstChild(d)}for(;f=h;)h=a.f.nextSibling(f),v(b,f,c)}function v(b,d,c){var f=!0,h=1===d.nodeType;h&&a.f.kc(d);if(h&&c||a.Q.instance.nodeHasBindings(d))f=r(d,null,b,c).shouldBindDescendants;f&&!A[a.a.A(d)]&&m(b,d,!h)}function s(b){var d=[],c={},f=[];a.a.D(b,function L(h){if(!c[h]){var p=
a.getBindingHandler(h);p&&(p.after&&(f.push(h),a.a.q(p.after,function(d){if(b[d]){if(-1!==a.a.o(f,d))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+f.join(", "));L(d)}}),f.length--),d.push({key:h,fc:p}));c[h]=!0}});return d}function r(b,c,f,h){var p=a.a.e.get(b,l);if(!c){if(p)throw Error("You cannot apply bindings multiple times to the same element.");a.a.e.set(b,l,!0)}!p&&h&&a.tc(b,f);var r;if(c&&"function"!==typeof c)r=c;else{var g=a.Q.instance,v=g.getBindingAccessors||
w,m=a.B(function(){(r=c?c(f,b):v.call(g,b,f))&&f.P&&f.P();return r},null,{i:b});r&&m.ba()||(m=null)}var A;if(r){var k=m?function(a){return function(){return d(m()[a])}}:function(a){return r[a]},t=function(){return a.a.Ca(m?m():r,d)};t.get=function(a){return r[a]&&d(k(a))};t.has=function(a){return a in r};h=s(r);a.a.q(h,function(d){var c=d.fc.init,h=d.fc.update,p=d.key;if(8===b.nodeType&&!a.f.Z[p])throw Error("The binding '"+p+"' cannot be used with virtual elements");try{"function"==typeof c&&a.l.w(function(){var a=
c(b,k(p),t,f.$data,f);if(a&&a.controlsDescendantBindings){if(A!==e)throw Error("Multiple bindings ("+A+" and "+p+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");A=p}}),"function"==typeof h&&a.B(function(){h(b,k(p),t,f.$data,f)},null,{i:b})}catch(l){throw l.message='Unable to process binding "'+p+": "+r[p]+'"\nMessage: '+l.message,l;}})}return{shouldBindDescendants:A===e}}function p(b){return b&&b instanceof a.U?b:new a.U(b)}
a.d={};var A={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.d[b]};a.U=function(b,d,c,f){var h=this,p="function"==typeof b&&!a.H(b),l,r=a.B(function(){var e=p?b():b,l=a.a.c(e);d?(d.P&&d.P(),a.a.extend(h,d),r&&(h.P=r)):(h.$parents=[],h.$root=l,h.ko=a);h.$rawData=e;h.$data=l;c&&(h[c]=l);f&&f(h,d,l);return h.$data},null,{wa:function(){return l&&!a.a.Qb(l)},i:!0});r.ba()&&(h.P=r,r.equalityComparer=null,l=[],r.Ac=function(b){l.push(b);a.a.F.oa(b,function(b){a.a.La(l,b);l.length||
(r.k(),h.P=r=e)})})};a.U.prototype.createChildContext=function(b,d,c){return new a.U(b,this,d,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);c&&c(a)})};a.U.prototype.extend=function(b){return new a.U(this.P||this.$data,this,null,function(d,c){d.$rawData=c.$rawData;a.a.extend(d,"function"==typeof b?b():b)})};var l=a.a.e.I(),t=a.a.e.I();a.tc=function(b,d){if(2==arguments.length)a.a.e.set(b,t,d),d.P&&d.P.Ac(b);else return a.a.e.get(b,
t)};a.Ja=function(b,d,c){1===b.nodeType&&a.f.kc(b);return r(b,d,p(c),!0)};a.Dc=function(b,d,c){c=p(c);return a.Ja(b,f(d,c,b),c)};a.eb=function(a,b){1!==b.nodeType&&8!==b.nodeType||m(p(a),b,!0)};a.Rb=function(a,b){!g&&k.jQuery&&(g=k.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||k.document.body;v(p(a),b,!0)};a.kb=function(b){switch(b.nodeType){case 1:case 8:var d=a.tc(b);if(d)return d;
if(b.parentNode)return a.kb(b.parentNode)}return e};a.Jc=function(b){return(b=a.kb(b))?b.$data:e};a.b("bindingHandlers",a.d);a.b("applyBindings",a.Rb);a.b("applyBindingsToDescendants",a.eb);a.b("applyBindingAccessorsToNode",a.Ja);a.b("applyBindingsToNode",a.Dc);a.b("contextFor",a.kb);a.b("dataFor",a.Jc)})();(function(b){function d(d,f){var r=e.hasOwnProperty(d)?e[d]:b,p;r?r.X(f):(r=e[d]=new a.J,r.X(f),c(d,function(b,c){var f=!(!c||!c.synchronous);g[d]={definition:b,Zc:f};delete e[d];p||f?r.notifySubscribers(b):
a.Y.Wa(function(){r.notifySubscribers(b)})}),p=!0)}function c(a,b){f("getConfig",[a],function(d){d?f("loadComponent",[a,d],function(a){b(a,d)}):b(null,null)})}function f(d,c,h,p){p||(p=a.g.loaders.slice(0));var e=p.shift();if(e){var l=e[d];if(l){var g=!1;if(l.apply(e,c.concat(function(a){g?h(null):null!==a?h(a):f(d,c,h,p)}))!==b&&(g=!0,!e.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else f(d,c,h,p)}else h(null)}
var e={},g={};a.g={get:function(c,f){var h=g.hasOwnProperty(c)?g[c]:b;h?h.Zc?a.l.w(function(){f(h.definition)}):a.Y.Wa(function(){f(h.definition)}):d(c,f)},Xb:function(a){delete g[a]},Jb:f};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.Xb)})();(function(){function b(b,d,c,f){function h(){0===--q&&f(g)}var g={},q=2,m=c.template;c=c.viewModel;m?e(d,m,function(d){a.g.Jb("loadTemplate",[b,d],function(a){g.template=a;h()})}):h();c?e(d,c,function(d){a.g.Jb("loadViewModel",
[b,d],function(a){g[s]=a;h()})}):h()}function d(a,b,c){if("function"===typeof b)c(function(a){return new b(a)});else if("function"===typeof b[s])c(b[s]);else if("instance"in b){var f=b.instance;c(function(){return f})}else"viewModel"in b?d(a,b.viewModel,c):a("Unknown viewModel value: "+b)}function c(b){switch(a.a.A(b)){case "script":return a.a.ma(b.text);case "textarea":return a.a.ma(b.value);case "template":if(f(b.content))return a.a.ua(b.content.childNodes)}return a.a.ua(b.childNodes)}function f(a){return k.DocumentFragment?
a instanceof DocumentFragment:a&&11===a.nodeType}function e(a,b,d){"string"===typeof b.require?y||k.require?(y||k.require)([b.require],d):a("Uses require, but no AMD loader is present"):d(b)}function g(a){return function(b){throw Error("Component '"+a+"': "+b);}}var m={};a.g.register=function(b,d){if(!d)throw Error("Invalid configuration for "+b);if(a.g.ub(b))throw Error("Component "+b+" is already registered");m[b]=d};a.g.ub=function(a){return m.hasOwnProperty(a)};a.g.od=function(b){delete m[b];
a.g.Xb(b)};a.g.Zb={getConfig:function(a,b){b(m.hasOwnProperty(a)?m[a]:null)},loadComponent:function(a,d,c){var f=g(a);e(f,d,function(d){b(a,f,d,c)})},loadTemplate:function(b,d,e){b=g(b);if("string"===typeof d)e(a.a.ma(d));else if(d instanceof Array)e(d);else if(f(d))e(a.a.V(d.childNodes));else if(d.element)if(d=d.element,k.HTMLElement?d instanceof HTMLElement:d&&d.tagName&&1===d.nodeType)e(c(d));else if("string"===typeof d){var l=n.getElementById(d);l?e(c(l)):b("Cannot find element with ID "+d)}else b("Unknown element type: "+
d);else b("Unknown template value: "+d)},loadViewModel:function(a,b,c){d(g(a),b,c)}};var s="createViewModel";a.b("components.register",a.g.register);a.b("components.isRegistered",a.g.ub);a.b("components.unregister",a.g.od);a.b("components.defaultLoader",a.g.Zb);a.g.loaders.push(a.g.Zb);a.g.Bc=m})();(function(){function b(b,c){var e=b.getAttribute("params");if(e){var e=d.parseBindingsString(e,c,b,{valueAccessors:!0,bindingParams:!0}),e=a.a.Ca(e,function(d){return a.m(d,null,{i:b})}),g=a.a.Ca(e,function(d){var c=
d.t();return d.ba()?a.m({read:function(){return a.a.c(d())},write:a.Ba(c)&&function(a){d()(a)},i:b}):c});g.hasOwnProperty("$raw")||(g.$raw=e);return g}return{$raw:{}}}a.g.getComponentNameForNode=function(b){var d=a.a.A(b);if(a.g.ub(d)&&(-1!=d.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.C&&b.tagName===d))return d};a.g.Ob=function(d,c,e,g){if(1===c.nodeType){var m=a.g.getComponentNameForNode(c);if(m){d=d||{};if(d.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var s={name:m,params:b(c,e)};d.component=g?function(){return s}:s}}return d};var d=new a.Q;9>a.a.C&&(a.g.register=function(a){return function(b){n.createElement(b);return a.apply(this,arguments)}}(a.g.register),n.createDocumentFragment=function(b){return function(){var d=b(),c=a.g.Bc,e;for(e in c)c.hasOwnProperty(e)&&d.createElement(e);return d}}(n.createDocumentFragment))})();(function(b){function d(b,d,c){d=d.template;if(!d)throw Error("Component '"+b+"' has no template");b=a.a.ua(d);a.f.da(c,b)}
function c(a,b,d,f){var h=a.createViewModel;return h?h.call(a,f,{element:b,templateNodes:d}):f}var f=0;a.d.component={init:function(e,g,m,s,r){function p(){var a=k&&k.dispose;"function"===typeof a&&a.call(k);l=k=null}var k,l,t=a.a.V(a.f.childNodes(e));a.a.F.oa(e,p);a.m(function(){var m=a.a.c(g()),q,s;"string"===typeof m?q=m:(q=a.a.c(m.name),s=a.a.c(m.params));if(!q)throw Error("No component name specified");var v=l=++f;a.g.get(q,function(f){if(l===v){p();if(!f)throw Error("Unknown component '"+q+
"'");d(q,f,e);var g=c(f,e,t,s);f=r.createChildContext(g,b,function(a){a.$component=g;a.$componentTemplateNodes=t});k=g;a.eb(f,e)}})},null,{i:e});return{controlsDescendantBindings:!0}}};a.f.Z.component=!0})();var O={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,d){var c=a.a.c(d())||{};a.a.D(c,function(d,c){c=a.a.c(c);var h=!1===c||null===c||c===e;h&&b.removeAttribute(d);8>=a.a.C&&d in O?(d=O[d],h?b.removeAttribute(d):b[d]=c):h||b.setAttribute(d,c.toString());"name"===d&&a.a.rc(b,
h?"":c.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,d,c){function f(){var f=b.checked,e=x?m():f;if(!a.va.Sa()&&(!s||f)){var g=a.l.w(d);if(p){var r=t?g.t():g;l!==e?(f&&(a.a.pa(r,e,!0),a.a.pa(r,l,!1)),l=e):a.a.pa(r,e,f);t&&a.Ba(g)&&g(r)}else a.h.Ea(g,c,"checked",e,!0)}}function g(){var c=a.a.c(d());b.checked=p?0<=a.a.o(c,m()):k?c:m()===c}var m=a.nc(function(){return c.has("checkedValue")?a.a.c(c.get("checkedValue")):c.has("value")?a.a.c(c.get("value")):b.value}),k=
"checkbox"==b.type,s="radio"==b.type;if(k||s){var r=d(),p=k&&a.a.c(r)instanceof Array,t=!(p&&r.push&&r.splice),l=p?m():e,x=s||p;s&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.m(f,null,{i:b});a.a.p(b,"click",f);a.m(g,null,{i:b});r=e}}};a.h.ea.checked=!0;a.d.checkedValue={update:function(b,d){b.value=a.a.c(d())}}})();a.d.css={update:function(b,d){var c=a.a.c(d());null!==c&&"object"==typeof c?a.a.D(c,function(d,c){c=a.a.c(c);a.a.bb(b,d,c)}):(c=a.a.$a(String(c||"")),a.a.bb(b,b.__ko__cssValue,
!1),b.__ko__cssValue=c,a.a.bb(b,c,!0))}};a.d.enable={update:function(b,d){var c=a.a.c(d());c&&b.disabled?b.removeAttribute("disabled"):c||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,d){a.d.enable.update(b,function(){return!a.a.c(d())})}};a.d.event={init:function(b,d,c,f,e){var g=d()||{};a.a.D(g,function(g){"string"==typeof g&&a.a.p(b,g,function(b){var m,p=d()[g];if(p){try{var k=a.a.V(arguments);f=e.$data;k.unshift(f);m=p.apply(f,k)}finally{!0!==m&&(b.preventDefault?b.preventDefault():
b.returnValue=!1)}!1===c.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={ic:function(b){return function(){var d=b(),c=a.a.zb(d);if(!c||"number"==typeof c.length)return{foreach:d,templateEngine:a.W.sb};a.a.c(d);return{foreach:c.data,as:c.as,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:a.W.sb}}},init:function(b,d){return a.d.template.init(b,
a.d.foreach.ic(d))},update:function(b,d,c,f,e){return a.d.template.update(b,a.d.foreach.ic(d),c,f,e)}};a.h.ta.foreach=!1;a.f.Z.foreach=!0;a.d.hasfocus={init:function(b,d,c){function f(f){b.__ko_hasfocusUpdating=!0;var e=b.ownerDocument;if("activeElement"in e){var g;try{g=e.activeElement}catch(p){g=e.body}f=g===b}e=d();a.h.Ea(e,c,"hasfocus",f,!0);b.__ko_hasfocusLastValue=f;b.__ko_hasfocusUpdating=!1}var e=f.bind(null,!0),g=f.bind(null,!1);a.a.p(b,"focus",e);a.a.p(b,"focusin",e);a.a.p(b,"blur",g);a.a.p(b,
"focusout",g)},update:function(b,d){var c=!!a.a.c(d());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===c||(c?b.focus():b.blur(),!c&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.l.w(a.a.Da,null,[b,c?"focusin":"focusout"]))}};a.h.ea.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.ea.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,d){a.a.Cb(b,d())}};ba("if");ba("ifnot",!1,!0);ba("with",!0,!1,function(a,d){return a.createChildContext(d)});var W=
{};a.d.options={init:function(b){if("select"!==a.a.A(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,d,c){function f(){return a.a.Ka(b.options,function(a){return a.selected})}function g(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function m(d,f){if(n&&p)a.j.ha(b,a.a.c(c.get("value")),!0);else if(x.length){var e=0<=a.a.o(x,a.j.u(f[0]));a.a.sc(f[0],e);n&&!e&&a.l.w(a.a.Da,null,
[b,"change"])}}var k=b.multiple,s=0!=b.length&&k?b.scrollTop:null,r=a.a.c(d()),p=c.get("valueAllowUnset")&&c.has("value"),t=c.get("optionsIncludeDestroyed");d={};var l,x=[];p||(k?x=a.a.fb(f(),a.j.u):0<=b.selectedIndex&&x.push(a.j.u(b.options[b.selectedIndex])));r&&("undefined"==typeof r.length&&(r=[r]),l=a.a.Ka(r,function(b){return t||b===e||null===b||!a.a.c(b._destroy)}),c.has("optionsCaption")&&(r=a.a.c(c.get("optionsCaption")),null!==r&&r!==e&&l.unshift(W)));var n=!1;d.beforeRemove=function(a){b.removeChild(a)};
r=m;c.has("optionsAfterRender")&&"function"==typeof c.get("optionsAfterRender")&&(r=function(b,d){m(0,d);a.l.w(c.get("optionsAfterRender"),null,[d[0],b!==W?b:e])});a.a.Bb(b,l,function(d,f,l){l.length&&(x=!p&&l[0].selected?[a.j.u(l[0])]:[],n=!0);f=b.ownerDocument.createElement("option");d===W?(a.a.Za(f,c.get("optionsCaption")),a.j.ha(f,e)):(l=g(d,c.get("optionsValue"),d),a.j.ha(f,a.a.c(l)),d=g(d,c.get("optionsText"),l),a.a.Za(f,d));return[f]},d,r);a.l.w(function(){p?a.j.ha(b,a.a.c(c.get("value")),
!0):(k?x.length&&f().length<x.length:x.length&&0<=b.selectedIndex?a.j.u(b.options[b.selectedIndex])!==x[0]:x.length||0<=b.selectedIndex)&&a.a.Da(b,"change")});a.a.Nc(b);s&&20<Math.abs(s-b.scrollTop)&&(b.scrollTop=s)}};a.d.options.xb=a.a.e.I();a.d.selectedOptions={after:["options","foreach"],init:function(b,d,c){a.a.p(b,"change",function(){var f=d(),e=[];a.a.q(b.getElementsByTagName("option"),function(b){b.selected&&e.push(a.j.u(b))});a.h.Ea(f,c,"selectedOptions",e)})},update:function(b,d){if("select"!=
a.a.A(b))throw Error("values binding applies only to SELECT elements");var c=a.a.c(d()),f=b.scrollTop;c&&"number"==typeof c.length&&a.a.q(b.getElementsByTagName("option"),function(b){var d=0<=a.a.o(c,a.j.u(b));b.selected!=d&&a.a.sc(b,d)});b.scrollTop=f}};a.h.ea.selectedOptions=!0;a.d.style={update:function(b,d){var c=a.a.c(d()||{});a.a.D(c,function(d,c){c=a.a.c(c);if(null===c||c===e||!1===c)c="";b.style[d]=c})}};a.d.submit={init:function(b,c,e,f,g){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");
a.a.p(b,"submit",function(a){var f,e=c();try{f=e.call(g.$data,b)}finally{!0!==f&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Za(b,c())}};a.f.Z.text=!0;(function(){if(k&&k.navigator)var b=function(a){if(a)return parseFloat(a[1])},c=k.opera&&k.opera.version&&parseInt(k.opera.version()),h=k.navigator.userAgent,f=b(h.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),g=b(h.match(/Firefox\/([^ ]*)/));
if(10>a.a.C)var m=a.a.e.I(),t=a.a.e.I(),s=function(b){var c=this.activeElement;(c=c&&a.a.e.get(c,t))&&c(b)},r=function(b,c){var d=b.ownerDocument;a.a.e.get(d,m)||(a.a.e.set(d,m,!0),a.a.p(d,"selectionchange",s));a.a.e.set(b,t,c)};a.d.textInput={init:function(b,h,l){function m(c,d){a.a.p(b,c,d)}function s(){var c=a.a.c(h());if(null===c||c===e)c="";n!==e&&c===n?a.a.setTimeout(s,4):b.value!==c&&(t=c,b.value=c)}function q(){x||(n=b.value,x=a.a.setTimeout(k,4))}function k(){clearTimeout(x);n=x=e;var c=
b.value;t!==c&&(t=c,a.h.Ea(h(),l,"textInput",c))}var t=b.value,x,n,v=9==a.a.C?q:k;10>a.a.C?(m("propertychange",function(a){"value"===a.propertyName&&v(a)}),8==a.a.C&&(m("keyup",k),m("keydown",k)),8<=a.a.C&&(r(b,v),m("dragend",q))):(m("input",k),5>f&&"textarea"===a.a.A(b)?(m("keydown",q),m("paste",q),m("cut",q)):11>c?m("keydown",q):4>g&&(m("DOMAutoComplete",k),m("dragdrop",k),m("drop",k)));m("change",k);a.m(s,null,{i:b})}};a.h.ea.textInput=!0;a.d.textinput={preprocess:function(a,b,c){c("textInput",
a)}}})();a.d.uniqueName={init:function(b,c){if(c()){var e="ko_unique_"+ ++a.d.uniqueName.Ic;a.a.rc(b,e)}}};a.d.uniqueName.Ic=0;a.d.value={after:["options","foreach"],init:function(b,c,e){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var f=["change"],g=e.get("valueUpdate"),m=!1,k=null;g&&("string"==typeof g&&(g=[g]),a.a.ra(f,g),f=a.a.Tb(f));var s=function(){k=null;m=!1;var f=c(),g=a.j.u(b);a.h.Ea(f,e,"value",g)};!a.a.C||"input"!=b.tagName.toLowerCase()||"text"!=b.type||
"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.o(f,"propertychange")||(a.a.p(b,"propertychange",function(){m=!0}),a.a.p(b,"focus",function(){m=!1}),a.a.p(b,"blur",function(){m&&s()}));a.a.q(f,function(c){var d=s;a.a.nd(c,"after")&&(d=function(){k=a.j.u(b);a.a.setTimeout(s,0)},c=c.substring(5));a.a.p(b,c,d)});var r=function(){var f=a.a.c(c()),g=a.j.u(b);if(null!==k&&f===k)a.a.setTimeout(r,0);else if(f!==g)if("select"===a.a.A(b)){var l=e.get("valueAllowUnset"),g=function(){a.j.ha(b,
f,l)};g();l||f===a.j.u(b)?a.a.setTimeout(g,0):a.l.w(a.a.Da,null,[b,"change"])}else a.j.ha(b,f)};a.m(r,null,{i:b})}else a.Ja(b,{checkedValue:c})},update:function(){}};a.h.ea.value=!0;a.d.visible={update:function(b,c){var e=a.a.c(c()),f="none"!=b.style.display;e&&!f?b.style.display="":!e&&f&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,e,f,g,m){return a.d.event.init.call(this,c,function(){var a={};a[b]=e();return a},f,g,m)}}})("click");a.O=function(){};a.O.prototype.renderTemplateSource=
function(){throw Error("Override renderTemplateSource");};a.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.O.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||n;var e=c.getElementById(b);if(!e)throw Error("Cannot find template with ID "+b);return new a.v.n(e)}if(1==b.nodeType||8==b.nodeType)return new a.v.qa(b);throw Error("Unknown template type: "+b);};a.O.prototype.renderTemplate=function(a,c,e,f){a=this.makeTemplateSource(a,
f);return this.renderTemplateSource(a,c,e,f)};a.O.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.O.prototype.rewriteTemplate=function(a,c,e){a=this.makeTemplateSource(a,e);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.O);a.Gb=function(){function b(b,c,d,e){b=a.h.yb(b);for(var h=a.h.ta,g=0;g<b.length;g++){var p=b[g].key;if(h.hasOwnProperty(p)){var m=h[p];if("function"===typeof m){if(p=
m(b[g].value))throw Error(p);}else if(!m)throw Error("This template engine does not support the '"+p+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.Ua(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return e.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,e=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(b,
c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Gb.dd(b,c)},d)},dd:function(a,g){return a.replace(c,function(a,c,d,f,e){return b(e,c,d,g)}).replace(e,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",g)})},Ec:function(b,c){return a.M.wb(function(d,e){var h=d.nextSibling;h&&h.nodeName.toLowerCase()===c&&a.Ja(h,b,e)})}}}();a.b("__tr_ambtns",a.Gb.Ec);(function(){a.v={};a.v.n=function(b){if(this.n=b){var c=a.a.A(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&
b.content&&11===b.content.nodeType?3:4}};a.v.n.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[b];var c=arguments[0];"innerHTML"===b?a.a.Cb(this.n,c):this.n[b]=c};var b=a.a.e.I()+"_";a.v.n.prototype.data=function(c){if(1===arguments.length)return a.a.e.get(this.n,b+c);a.a.e.set(this.n,b+c,arguments[1])};var c=a.a.e.I();a.v.n.prototype.nodes=function(){var b=this.n;if(0==arguments.length)return(a.a.e.get(b,c)||{}).jb||(3===this.ab?
b.content:4===this.ab?b:e);a.a.e.set(b,c,{jb:arguments[0]})};a.v.qa=function(a){this.n=a};a.v.qa.prototype=new a.v.n;a.v.qa.prototype.text=function(){if(0==arguments.length){var b=a.a.e.get(this.n,c)||{};b.Hb===e&&b.jb&&(b.Hb=b.jb.innerHTML);return b.Hb}a.a.e.set(this.n,c,{Hb:arguments[0]})};a.b("templateSources",a.v);a.b("templateSources.domElement",a.v.n);a.b("templateSources.anonymousTemplate",a.v.qa)})();(function(){function b(b,c,d){var f;for(c=a.f.nextSibling(c);b&&(f=b)!==c;)b=a.f.nextSibling(f),
d(f,b)}function c(d,f){if(d.length){var e=d[0],h=d[d.length-1],g=e.parentNode,m=a.Q.instance,k=m.preprocessNode;if(k){b(e,h,function(a,b){var c=a.previousSibling,d=k.call(m,a);d&&(a===e&&(e=d[0]||b),a===h&&(h=d[d.length-1]||c))});d.length=0;if(!e)return;e===h?d.push(e):(d.push(e,h),a.a.za(d,g))}b(e,h,function(b){1!==b.nodeType&&8!==b.nodeType||a.Rb(f,b)});b(e,h,function(b){1!==b.nodeType&&8!==b.nodeType||a.M.yc(b,[f])});a.a.za(d,g)}}function h(a){return a.nodeType?a:0<a.length?a[0]:null}function f(b,
f,e,g,l){l=l||{};var k=(b&&h(b)||e||{}).ownerDocument,t=l.templateEngine||m;a.Gb.Oc(e,t,k);e=t.renderTemplate(e,g,l,k);if("number"!=typeof e.length||0<e.length&&"number"!=typeof e[0].nodeType)throw Error("Template engine must return an array of DOM nodes");k=!1;switch(f){case "replaceChildren":a.f.da(b,e);k=!0;break;case "replaceNode":a.a.qc(b,e);k=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+f);}k&&(c(e,g),l.afterRender&&a.l.w(l.afterRender,null,[e,g.$data]));
return e}function g(b,c,d){return a.H(b)?b():"function"===typeof b?b(c,d):b}var m;a.Db=function(b){if(b!=e&&!(b instanceof a.O))throw Error("templateEngine must inherit from ko.templateEngine");m=b};a.Ab=function(b,c,d,k,l){d=d||{};if((d.templateEngine||m)==e)throw Error("Set a template engine before calling renderTemplate");l=l||"replaceChildren";if(k){var t=h(k);return a.B(function(){var e=c&&c instanceof a.U?c:new a.U(a.a.c(c)),m=g(b,e.$data,e),e=f(k,l,m,e,d);"replaceNode"==l&&(k=e,t=h(k))},null,
{wa:function(){return!t||!a.a.nb(t)},i:t&&"replaceNode"==l?t.parentNode:t})}return a.M.wb(function(f){a.Ab(b,c,d,f,"replaceNode")})};a.kd=function(b,h,m,k,l){function t(a,b){c(b,q);m.afterRender&&m.afterRender(b,a);q=null}function x(a,c){q=l.createChildContext(a,m.as,function(a){a.$index=c});var d=g(b,a,q);return f(null,"ignoreTargetNode",d,q,m)}var q;return a.B(function(){var b=a.a.c(h)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.Ka(b,function(b){return m.includeDestroyed||b===e||null===b||!a.a.c(b._destroy)});
a.l.w(a.a.Bb,null,[k,b,x,m,t])},null,{i:k})};var k=a.a.e.I();a.d.template={init:function(b,c){var d=a.a.c(c());if("string"==typeof d||d.name)a.f.xa(b);else{if("nodes"in d){if(d=d.nodes||[],a.H(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=a.f.childNodes(b);d=a.a.jc(d);(new a.v.qa(b)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,c,d,f,h){var g=c(),m;c=a.a.c(g);d=!0;f=null;"string"==typeof c?c={}:(g=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in
c&&(d=!a.a.c(c.ifnot)),m=a.a.c(c.data));"foreach"in c?f=a.kd(g||b,d&&c.foreach||[],c,b,h):d?(h="data"in c?h.createChildContext(m,c.as):h,f=a.Ab(g||b,h,c,b)):a.f.xa(b);h=f;(m=a.a.e.get(b,k))&&"function"==typeof m.k&&m.k();a.a.e.set(b,k,h&&h.ba()?h:e)}};a.h.ta.template=function(b){b=a.h.yb(b);return 1==b.length&&b[0].unknown||a.h.ad(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.f.Z.template=!0})();a.b("setTemplateEngine",a.Db);a.b("renderTemplate",
a.Ab);a.a.dc=function(a,c,e){if(a.length&&c.length){var f,g,m,k,t;for(f=g=0;(!e||f<e)&&(k=a[g]);++g){for(m=0;t=c[m];++m)if(k.value===t.value){k.moved=t.index;t.moved=k.index;c.splice(m,1);f=m=0;break}f+=m}}};a.a.ib=function(){function b(b,c,f,e,g){var m=Math.min,k=Math.max,t=[],p,x=b.length,l,n=c.length,T=n-x||1,q=x+n+1,U,O,y;for(p=0;p<=x;p++)for(O=U,t.push(U=[]),y=m(n,p+T),l=k(0,p-1);l<=y;l++)U[l]=l?p?b[p-1]===c[l-1]?O[l-1]:m(O[l]||q,U[l-1]||q)+1:l+1:p+1;m=[];k=[];T=[];p=x;for(l=n;p||l;)n=t[p][l]-
1,l&&n===t[p][l-1]?k.push(m[m.length]={status:f,value:c[--l],index:l}):p&&n===t[p-1][l]?T.push(m[m.length]={status:e,value:b[--p],index:p}):(--l,--p,g.sparse||m.push({status:"retained",value:c[l]}));a.a.dc(T,k,!g.dontLimitMoves&&10*x);return m.reverse()}return function(a,c,f){f="boolean"===typeof f?{dontLimitMoves:f}:f||{};a=a||[];c=c||[];return a.length<c.length?b(a,c,"added","deleted",f):b(c,a,"deleted","added",f)}}();a.b("utils.compareArrays",a.a.ib);(function(){function b(b,c,d,g,h){var m=[],
k=a.B(function(){var e=c(d,h,a.a.za(m,b))||[];0<m.length&&(a.a.qc(m,e),g&&a.l.w(g,null,[d,e,h]));m.length=0;a.a.ra(m,e)},null,{i:b,wa:function(){return!a.a.Qb(m)}});return{ca:m,B:k.ba()?k:e}}var c=a.a.e.I(),g=a.a.e.I();a.a.Bb=function(f,m,k,t,x){function n(b,c){B=l[c];u!==c&&(G[b]=B);B.qb(u++);a.a.za(B.ca,f);q.push(B);W.push(B)}function p(b,c){if(b)for(var d=0,f=c.length;d<f;d++)c[d]&&a.a.q(c[d].ca,function(a){b(a,d,c[d].ja)})}m=m||[];t=t||{};var T=a.a.e.get(f,c)===e,l=a.a.e.get(f,c)||[],U=a.a.fb(l,
function(a){return a.ja}),O=a.a.ib(U,m,t.dontLimitMoves),q=[],y=0,u=0,F=[],W=[];m=[];for(var G=[],U=[],B,I=0,Z,D;Z=O[I];I++)switch(D=Z.moved,Z.status){case "deleted":D===e&&(B=l[y],B.B&&(B.B.k(),B.B=e),a.a.za(B.ca,f).length&&(t.beforeRemove&&(q.push(B),W.push(B),B.ja===g?B=null:m[I]=B),B&&F.push.apply(F,B.ca)));y++;break;case "retained":n(I,y++);break;case "added":D!==e?n(I,D):(B={ja:Z.value,qb:a.N(u++)},q.push(B),W.push(B),T||(U[I]=B))}a.a.e.set(f,c,q);p(t.beforeMove,G);a.a.q(F,t.beforeRemove?a.$:
a.removeNode);for(var I=0,T=a.f.firstChild(f),E;B=W[I];I++){B.ca||a.a.extend(B,b(f,k,B.ja,x,B.qb));for(y=0;O=B.ca[y];T=O.nextSibling,E=O,y++)O!==T&&a.f.gc(f,O,E);!B.Wc&&x&&(x(B.ja,B.ca,B.qb),B.Wc=!0)}p(t.beforeRemove,m);for(I=0;I<m.length;++I)m[I]&&(m[I].ja=g);p(t.afterMove,G);p(t.afterAdd,U)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Bb);a.W=function(){this.allowTemplateRewriting=!1};a.W.prototype=new a.O;a.W.prototype.renderTemplateSource=function(b,c,e,f){if(c=(9>a.a.C?0:b.nodes)?
b.nodes():null)return a.a.V(c.cloneNode(!0).childNodes);b=b.text();return a.a.ma(b,f)};a.W.sb=new a.W;a.Db(a.W.sb);a.b("nativeTemplateEngine",a.W);(function(){a.vb=function(){var a=this.$c=function(){if(!g||!g.tmpl)return 0;try{if(0<=g.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,c,e,m){m=m||n;e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var k=b.data("precompiled");
k||(k=b.text()||"",k=g.template(null,"{{ko_with $item.koBindingContext}}"+k+"{{/ko_with}}"),b.data("precompiled",k));b=[c.$data];c=g.extend({koBindingContext:c},e.templateOptions);c=g.tmpl(k,b,c);c.appendTo(m.createElement("div"));g.fragments={};return c};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){n.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(g.tmpl.tag.ko_code={open:"__.push($1 || '');"},
g.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.vb.prototype=new a.O;var b=new a.vb;0<b.$c&&a.Db(b);a.b("jqueryTmplTemplateEngine",a.vb)})()})})()})();
(function(e){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?e(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],e):e(ko,ko.mapping={})})(function(e,k){function n(a,c){var e,g;for(g in c)if(c.hasOwnProperty(g)&&c[g])if(e=k.getType(a[g]),g&&a[g]&&"array"!==e&&"string"!==e)n(a[g],c[g]);else if("array"===k.getType(a[g])&&"array"===k.getType(c[g])){e=a;for(var m=g,b=a[g],d=c[g],h={},f=b.length-1;0<=f;--f)h[b[f]]=b[f];for(f=
d.length-1;0<=f;--f)h[d[f]]=d[f];b=[];d=void 0;for(d in h)b.push(h[d]);e[m]=b}else a[g]=c[g]}function c(a,c){var e={};n(e,a);n(e,c);return e}function g(a,e){for(var g=c({},a),k=J.length-1;0<=k;k--){var x=J[k];g[x]&&(g[""]instanceof Object||(g[""]={}),g[""][x]=g[x],delete g[x])}e&&(g.ignore=m(e.ignore,g.ignore),g.include=m(e.include,g.include),g.copy=m(e.copy,g.copy),g.observe=m(e.observe,g.observe));g.ignore=m(g.ignore,E.ignore);g.include=m(g.include,E.include);g.copy=m(g.copy,E.copy);g.observe=m(g.observe,
E.observe);g.mappedProperties=g.mappedProperties||{};g.copiedProperties=g.copiedProperties||{};return g}function m(a,c){"array"!==k.getType(a)&&(a="undefined"===k.getType(a)?[]:[a]);"array"!==k.getType(c)&&(c="undefined"===k.getType(c)?[]:[c]);return e.utils.arrayGetDistinctValues(a.concat(c))}function x(g,m,t,n,u,b,d){var h="array"===k.getType(e.utils.unwrapObservable(m));b=b||"";if(k.isMapped(g)){var f=e.utils.unwrapObservable(g)[a];t=c(f,t)}var w=d||u,D=function(){return t[n]&&t[n].create instanceof
Function},v=function(a){var b=N,c=e.dependentObservable;e.dependentObservable=function(a,c,d){d=d||{};a&&"object"==typeof a&&(d=a);var f=d.deferEvaluation,g=!1;d.deferEvaluation=!0;a=new Y(a,c,d);if(!f){var m=a,f=e.dependentObservable;e.dependentObservable=Y;a=e.isWriteableObservable(m);e.dependentObservable=f;f=Y({read:function(){g||(e.utils.arrayRemoveItem(b,m),g=!0);return m.apply(m,arguments)},write:a&&function(a){return m(a)},deferEvaluation:!0});f.__DO=m;a=f;b.push(a)}return a};e.dependentObservable.fn=
Y.fn;e.computed=e.dependentObservable;a=e.utils.unwrapObservable(u)instanceof Array?t[n].create({data:a||m,parent:w,skip:K}):t[n].create({data:a||m,parent:w});e.dependentObservable=c;e.computed=e.dependentObservable;return a},s=function(){return t[n]&&t[n].update instanceof Function},r=function(a,b){var c={data:b||m,parent:w,target:e.utils.unwrapObservable(a)};e.isWriteableObservable(a)&&(c.observable=a);return t[n].update(c)};if(d=R.get(m))return d;n=n||"";if(h){var h=[],p=!1,A=function(a){return a};
t[n]&&t[n].key&&(A=t[n].key,p=!0);e.isObservable(g)||(g=e.observableArray([]),g.mappedRemove=function(a){var b="function"==typeof a?a:function(b){return b===A(a)};return g.remove(function(a){return b(A(a))})},g.mappedRemoveAll=function(a){var b=G(a,A);return g.remove(function(a){return-1!=e.utils.arrayIndexOf(b,A(a))})},g.mappedDestroy=function(a){var b="function"==typeof a?a:function(b){return b===A(a)};return g.destroy(function(a){return b(A(a))})},g.mappedDestroyAll=function(a){var b=G(a,A);return g.destroy(function(a){return-1!=
e.utils.arrayIndexOf(b,A(a))})},g.mappedIndexOf=function(a){var b=G(g(),A);a=A(a);return e.utils.arrayIndexOf(b,a)},g.mappedGet=function(a){return g()[g.mappedIndexOf(a)]},g.mappedCreate=function(a){if(-1!==g.mappedIndexOf(a))throw Error("There already is an object with the key that you specified.");var b=D()?v(a):a;s()&&(a=r(b,a),e.isWriteableObservable(b)?b(a):b=a);g.push(b);return b});d=G(e.utils.unwrapObservable(g),A).sort();f=G(m,A);p&&f.sort();p=e.utils.compareArrays(d,f);d={};var l,E=e.utils.unwrapObservable(m),
z={},q=!0,f=0;for(l=E.length;f<l;f++){var C=A(E[f]);if(void 0===C||C instanceof Object){q=!1;break}z[C]=E[f]}var E=[],J=0,f=0;for(l=p.length;f<l;f++){var C=p[f],H,L=b+"["+f+"]";switch(C.status){case "added":var Q=q?z[C.value]:F(e.utils.unwrapObservable(m),C.value,A);H=x(void 0,Q,t,n,g,L,u);D()||(H=e.utils.unwrapObservable(H));L=y(e.utils.unwrapObservable(m),Q,d);H===K?J++:E[L-J]=H;d[L]=!0;break;case "retained":Q=q?z[C.value]:F(e.utils.unwrapObservable(m),C.value,A);H=F(g,C.value,A);x(H,Q,t,n,g,L,
u);L=y(e.utils.unwrapObservable(m),Q,d);E[L]=H;d[L]=!0;break;case "deleted":H=F(g,C.value,A)}h.push({event:C.status,item:H})}g(E);t[n]&&t[n].arrayChanged&&e.utils.arrayForEach(h,function(a){t[n].arrayChanged(a.event,a.item)})}else if(S(m)){g=e.utils.unwrapObservable(g);if(!g){if(D())return p=v(),s()&&(p=r(p)),p;if(s())return r(p);g={}}s()&&(g=r(g));R.save(m,g);if(s())return g;P(m,function(a){var c=b.length?b+"."+a:a;if(-1==e.utils.arrayIndexOf(t.ignore,c))if(-1!=e.utils.arrayIndexOf(t.copy,c))g[a]=
m[a];else if("object"!=typeof m[a]&&"array"!=typeof m[a]&&0<t.observe.length&&-1==e.utils.arrayIndexOf(t.observe,c))g[a]=m[a],t.copiedProperties[c]=!0;else{var d=R.get(m[a]),f=x(g[a],m[a],t,a,g,c,g),d=d||f;if(0<t.observe.length&&-1==e.utils.arrayIndexOf(t.observe,c))g[a]=d(),t.copiedProperties[c]=!0;else{if(e.isWriteableObservable(g[a])){if(d=e.utils.unwrapObservable(d),g[a]()!==d)g[a](d)}else d=void 0===g[a]?d:e.utils.unwrapObservable(d),g[a]=d;t.mappedProperties[c]=!0}}})}else switch(k.getType(m)){case "function":s()?
e.isWriteableObservable(m)?(m(r(m)),g=m):g=r(m):g=m;break;default:if(e.isWriteableObservable(g))return H=s()?r(g):e.utils.unwrapObservable(m),g(H),H;D()||s();g=D()?v():e.observable(e.utils.unwrapObservable(m));s()&&g(r(g))}return g}function y(a,c,e){for(var g=0,m=a.length;g<m;g++)if(!0!==e[g]&&a[g]===c)return g;return null}function u(a,c){var g;c&&(g=c(a));"undefined"===k.getType(g)&&(g=a);return e.utils.unwrapObservable(g)}function F(a,c,g){a=e.utils.unwrapObservable(a);for(var m=0,k=a.length;m<
k;m++){var b=a[m];if(u(b,g)===c)return b}throw Error("When calling ko.update*, the key '"+c+"' was not found!");}function G(a,c){return e.utils.arrayMap(e.utils.unwrapObservable(a),function(a){return c?u(a,c):a})}function P(a,c){if("array"===k.getType(a))for(var e=0;e<a.length;e++)c(e);else for(e in a)c(e)}function S(a){var c=k.getType(a);return("object"===c||"array"===c)&&null!==a}function ea(){var a=[],c=[];this.save=function(g,m){var k=e.utils.arrayIndexOf(a,g);0<=k?c[k]=m:(a.push(g),c.push(m))};
this.get=function(g){g=e.utils.arrayIndexOf(a,g);return 0<=g?c[g]:void 0}}function ba(){var a={},c=function(c){var e;try{e=c}catch(g){e="$$$"}c=a[e];void 0===c&&(c=new ea,a[e]=c);return c};this.save=function(a,e){c(a).save(a,e)};this.get=function(a){return c(a).get(a)}}var a="__ko_mapping__",Y=e.dependentObservable,V=0,N,R,J=["create","update","key","arrayChanged"],K={},D={include:["_destroy"],ignore:[],copy:[],observe:[]},E=D;k.isMapped=function(c){return(c=e.utils.unwrapObservable(c))&&c[a]};k.fromJS=
function(e){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{V++||(N=[],R=new ba);var m,k;2==arguments.length&&(arguments[1][a]?k=arguments[1]:m=arguments[1]);3==arguments.length&&(m=arguments[1],k=arguments[2]);k&&(m=c(m,k[a]));m=g(m);var n=x(k,e,m);k&&(n=k);if(!--V)for(;N.length;){var y=N.pop();y&&(y(),y.__DO.throttleEvaluation=y.throttleEvaluation)}n[a]=c(n[a],m);return n}catch(b){throw V=0,b;}};k.fromJSON=function(a){var c=e.utils.parseJson(a);
arguments[0]=c;return k.fromJS.apply(this,arguments)};k.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};k.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};k.toJS=function(c,m){E||k.resetDefaultOptions();if(0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");
if("array"!==k.getType(E.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==k.getType(E.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==k.getType(E.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");m=g(m,c[a]);return k.visitModel(c,function(a){return e.utils.unwrapObservable(a)},m)};k.toJSON=function(a,c){var g=k.toJS(a,c);return e.utils.stringifyJson(g)};k.defaultOptions=function(){if(0<arguments.length)E=
arguments[0];else return E};k.resetDefaultOptions=function(){E={include:D.include.slice(0),ignore:D.ignore.slice(0),copy:D.copy.slice(0)}};k.getType=function(a){if(a&&"object"===typeof a){if(a.constructor===Date)return"date";if(a.constructor===Array)return"array"}return typeof a};k.visitModel=function(c,m,n){n=n||{};n.visitedObjects=n.visitedObjects||new ba;var x,y=e.utils.unwrapObservable(c);if(S(y))n=g(n,y[a]),m(c,n.parentName),x="array"===k.getType(y)?[]:{};else return m(c,n.parentName);n.visitedObjects.save(c,
x);var b=n.parentName;P(y,function(c){if(!n.ignore||-1==e.utils.arrayIndexOf(n.ignore,c)){var g=y[c],f=n,u=b||"";"array"===k.getType(y)?b&&(u+="["+c+"]"):(b&&(u+="."),u+=c);f.parentName=u;if(-1!==e.utils.arrayIndexOf(n.copy,c)||-1!==e.utils.arrayIndexOf(n.include,c)||!y[a]||!y[a].mappedProperties||y[a].mappedProperties[c]||!y[a].copiedProperties||y[a].copiedProperties[c]||"array"===k.getType(y))switch(k.getType(e.utils.unwrapObservable(g))){case "object":case "array":case "undefined":f=n.visitedObjects.get(g);
x[c]="undefined"!==k.getType(f)?f:k.visitModel(g,m,n);break;default:x[c]=m(g,n.parentName)}}});return x}});
ko.bindingHandlers.foreachprop={transformObject:function(e,k){var n=[],c;for(c in e)e.hasOwnProperty(c)&&n.push({key:c,value:e[c]});k||n.sort(function(c,e){return c.key.localeCompare(e.key)});return n},init:function(e,k,n,c,g){n=n.get("unsorted");k=ko.utils.unwrapObservable(k());k=ko.bindingHandlers.foreachprop.transformObject(k,n);g=g.createChildContext(g.$rawData,null);ko.applyBindingsToNode(e,{foreach:k},g);return{controlsDescendantBindings:!0}}};
function Report(e){var k=this;k.status=ko.observable();k.dateCompleted=ko.observable();k.dateStarted=ko.observable();k.execution=ko.observable();k.executionHref=ko.observable();k.jobId=ko.observable();k.jobDeleted=ko.observable(!1);k.executionId=ko.observable();k.reportId=ko.observable();k.title=ko.observable();k.jobAverageDuration=ko.observable(0);k.duration=ko.observable(0);k.bulkEditSelected=ko.observable(!1);k.durationSimple=ko.computed(function(){return MomentUtil.formatDurationSimple(k.duration())});
k.durationHumanize=ko.computed(function(){return MomentUtil.formatDurationHumanize(k.duration())});k.startTimeFormat=function(e){return MomentUtil.formatTime(k.dateStarted(),e)};k.endTimeSimple=ko.computed(function(){return MomentUtil.formatTimeSimple(k.dateCompleted())});k.statusList="running succeed succeeded failed cancel aborted retry timedout timeout fail".split(" ");k.isCustomStatus=ko.computed(function(){return 0>k.statusList.indexOf(k.status())});k.customStatusString=ko.computed(function(){return k.execution()?
k.execution().status():status()});k.isJob=ko.computed(function(){var e=k.jobId(),c=k.jobDeleted();return e||c});k.isAdhoc=ko.computed(function(){return!k.isJob()});k.jobPercentage=ko.computed(function(){return 0<k.jobAverageDuration()?100*(k.duration()/k.jobAverageDuration()):-1});k.jobPercentageFixed=ko.computed(function(){var e=k.jobPercentage();return 0<=e?e.toFixed(0):"0"});k.jobOverrunDuration=ko.computed(function(){var e=k.jobAverageDuration(),c=k.duration();return 0<e&&c>e?MomentUtil.formatDurationSimple(c-
e):""});k.endTimeFormat=function(e){var c=k.dateCompleted();return MomentUtil.formatTime(c,e)};k.nodeFailCount=ko.computed(function(){var e=ko.utils.unwrapObservable(k.node);if(e&&(e=e.split("/"),3==e.length))return parseInt(e[1])});k.nodeSucceedCount=ko.computed(function(){var e=ko.utils.unwrapObservable(k.node);if(e&&(e=e.split("/"),3==e.length))return parseInt(e[0])});ko.mapping.fromJS(e,{},k)}
function History(e,k,n){var c=this;c.ajaxHistoryLink=e;c.ajaxNowRunningLink=k;c.ajaxBulkDeleteLink=n?n:"object"==typeof appLinks?appLinks.apiExecutionsBulkDelete:null;c.reports=ko.observableArray([]);c.nowrunning=ko.observableArray([]);c.showReports=ko.observable(!1);c.nowRunningEnabled=ko.observable(!0);c.href=ko.observable();c.selected=ko.observable(!1);c.max=ko.observable(20);c.total=ko.observable(0);c.offset=ko.observable(0);c.params=ko.observable();c.reloadInterval=ko.observable(0);c.highlightExecutionId=
ko.observable();c.bulkEditMode=ko.observable(!1);c.bulkEditPrevious=ko.observable(-1);c.bulkEditResults=ko.observable();c.bulkEditProgress=ko.observable(!1);c.results=ko.computed(function(){return c.showReports()?c.reports():c.nowrunning()});c.count=ko.computed(function(){return c.reports().length+c.offset()*c.max()});c.pageCount=ko.computed(function(){return totalPageCount(c.max(),c.total())});c.pages=ko.computed(function(){var e=c.total(),m=c.offset(),k=c.max(),n=c.href();if(1>e||!n)return"";var u=
[],n=n.replace(/[&\?](offset|max)=\d+/ig,"");foreachPage(m,k,e,{maxSteps:10},function(c){var e=_genUrl(n,{offset:c.offset,max:c.max});u.push(ko.utils.extend({url:e,label:c.prevPage?"Previous":c.nextPage?"Next":c.skipped?"\u2026":c.page},c))});return u});c.bulkEditIds=ko.computed(function(){var e=[];ko.utils.arrayForEach(c.reports(),function(c){c.bulkEditSelected()&&e.push(c.executionId())});return e});c.visitPage=function(e){loadHistoryLink(c,c.ajaxHistoryLink,e.url)};c.activateNowRunningTab=function(){jQuery("ul.activity_links > li:first-child").addClass("active");
jQuery("ul.activity_links > li:first-child > a").each(function(e){loadHistoryLink(c,c.ajaxNowRunningLink,this.getAttribute("href"),jQuery(this).data("auto-refresh"))})};c.toggleBulkEdit=function(){c.bulkEditMode(!c.bulkEditMode())};c.rowClicked=function(e,m){if(c.bulkEditMode()){var k=ko.utils.arrayIndexOf(c.reports(),e);if(m&&0<=c.bulkEditPrevious())for(var n=c.bulkEditPrevious(),u=n<k?n:k,F=n<k?k:n,n=e.bulkEditSelected();F>=u&&0<=F;F--)c.reports()[F].bulkEditSelected(!n);else e.bulkEditSelected(!e.bulkEditSelected());
c.bulkEditPrevious(k)}else document.location=e.executionHref()};c.bulkEditToggleAll=function(){ko.utils.arrayForEach(c.reports(),function(c){c.bulkEditSelected(!c.bulkEditSelected())})};c.bulkEditSelectAll=function(){ko.utils.arrayForEach(c.reports(),function(c){c.bulkEditSelected(!0)})};c.bulkEditDeselectAll=function(){ko.utils.arrayForEach(c.reports(),function(c){c.bulkEditSelected(!1)})};c.doBulkDelete=function(e,m){jQuery(e).modal("hide");c.bulkEditProgress(!0);jQuery.ajax({url:c.ajaxBulkDeleteLink,
type:"post",data:JSON.stringify({ids:c.bulkEditIds()}),contentType:"application/json",dataType:"json",beforeSend:_ajaxSendTokens.curry("history_tokens"),success:function(e,g,k){c.bulkEditProgress(!1);c.bulkEditResults(e);e.allsuccessful?c.bulkEditMode(!1):jQuery(m).modal("show");c.reloadData()},error:function(e,g,k){c.bulkEditProgress(!1);c.bulkEditResults({error:"Request did not succeed: "+(e.responseJSON&&e.responseJSON.message?e.responseJSON.message:k)});jQuery(m).modal("show")}}).success(_ajaxReceiveTokens.curry("history_tokens"))};
c.reloadData=function(){loadHistoryLink(c,c.ajaxHistoryLink,c.href())}}var binding={reports:{key:function(e){return ko.utils.unwrapObservable(e.id)},create:function(e){return new Report(e.data)}},nowrunning:{key:function(e){return ko.utils.unwrapObservable(e.id)},create:function(e){return new Report(jQuery.extend({execution:e.data},e.data))}}};
function loadHistoryLink(e,k,n,c){var g=n.substring(n.indexOf("?")+1),m=0<k.indexOf("?")?k+"&"+g:k+"?"+g,x;x=function(k){e.selected(!0);ko.mapping.fromJS(Object.extend(k,{params:g}),binding,e);setTimeout(function(){c&&e.href()==n&&(e.href(n),jQuery.getJSON(m,x))},1E3*c)};e.href(n);jQuery.getJSON(m,x)}
function setupActivityLinks(e,k){var n=jQuery("#"+e);n.on("click","a.activity_link",function(c){c.preventDefault();c=jQuery(this)[0];jQuery("#"+e+" .activity_links > li").removeClass("active");jQuery(c.parentNode).addClass("active");k.showReports(!0);loadHistoryLink(k,k.ajaxHistoryLink,c.getAttribute("href"),jQuery(this).data("auto-refresh"))});n.on("click","a.running_link",function(c){c.preventDefault();c=jQuery(this)[0];k.nowRunningEnabled()&&(jQuery("#"+e+" .activity_links > li").removeClass("active"),
jQuery(c.parentNode).addClass("active"),k.showReports(!1),loadHistoryLink(k,k.ajaxNowRunningLink,c.getAttribute("href"),jQuery(this).data("auto-refresh")))});n.on("click",".autoclick .autoclickable",function(c){c.preventDefault();k.rowClicked(ko.dataFor(this),c.shiftKey);return!1}).on("mousedown",".autoclick .autoclickable",function(c){k.bulkEditMode()&&c.preventDefault()})}
function RDNodeStep(e,k,n){var c=this;c.node=k;c.flow=n;c.stepctx=e.stepctx;c.type=n.workflow.contextType(e.stepctx);c.stepident=n.workflow.renderContextString(e.stepctx);c.stepctxdesc="Workflow Step: "+e.stepctx;c.parameters=ko.observable(e.parameters||null);c.followingOutput=ko.observable(!1);c.outputLineCount=ko.observable(-1);c.startTime=ko.observable(e.startTime||null);c.updateTime=ko.observable(e.updateTime||null);c.endTime=ko.observable(e.endTime||null);c.duration=ko.observable(e.duration||
-1);c.executionState=ko.observable(e.executionState||null);c.parameterizedStep=ko.observable(0<=e.stepctx.indexOf("@"));c.startTimeSimple=ko.pureComputed(function(){return MomentUtil.formatTimeSimple(c.startTime())});c.startTimeFormat=function(e){return MomentUtil.formatTime(c.startTime(),e)};c.endTimeSimple=ko.pureComputed(function(){return MomentUtil.formatTimeSimple(c.endTime())});c.endTimeFormat=function(e){return MomentUtil.formatTime(c.endTime(),e)};c.durationCalc=ko.pureComputed(function(){var e=
c.duration();return 0>e&&c.endTime()&&c.startTime()?moment(c.endTime()).diff(moment(c.startTime())):e});c.durationSimple=ko.pureComputed(function(){return MomentUtil.formatDurationSimple(c.durationCalc())})}RDNodeStep.stateCompare=function(e,k){if(e==k)return!1;var n="SUCCEEDED NONE NOT_STARTED WAITING FAILED ABORTED RUNNING RUNNING_HANDLER".split(" "),c=n.indexOf(e),n=n.indexOf(k);return 0>c?!0:n>c};RDNodeStep.completedStates=["SUCCEEDED","FAILED","ABORTED","NONE_SUCCEEDED","PARTIAL_SUCCEEDED"];
RDNodeStep.runningStates=["RUNNING","RUNNING_HANDLER"];
function RDNode(e,k,n){var c=this;c.flow=n;c.name=e;c.state=ko.observable();c.steps=ko.observableArray([]).extend({rateLimit:200});c.expanded=ko.observable(!1);var g={steps:{key:function(c){return ko.utils.unwrapObservable(c.stepctx)},create:function(e){return new RDNodeStep(e.data,c,n)}}};c.durationMs=ko.observable(-1);c.toggleExpand=function(){c.expanded(!c.expanded());c.expanded()?(n.selectedNodes.push(c.name),n.loadStateForNode(c)):n.selectedNodes.remove(c.name)};c.duration=ko.pureComputed(function(){var e=
c.durationMs();0>e&&ko.utils.arrayForEach(c.steps(),function(c){c.parameterizedStep()||(c=c.duration(),0<=c&&0>e?e=c:0<=c&&(e+=c))});return e});c.durationSimple=ko.pureComputed(function(){return MomentUtil.formatDurationSimple(c.duration())});c.summary=ko.observable();c.summaryState=ko.observable();c.currentStep=ko.observable();c.lastUpdated=ko.observable(null);c.findStepForCtx=function(e){var g=ko.utils.arrayFilter(c.steps(),function(c){return c.stepctx==e});return g&&1==g.length?g[0]:null};c.summaryDescriptionForState=
function(c){var e=c.summaryState;return"RUNNING"==e||"RUNNING_HANDLER"==e?"Running":"SUCCEEDED"==e?"All Steps OK":"FAILED"==e?c.FAILED?c.FAILED+" "+n.pluralize(c.FAILED,"Step")+" FAILED":"Failed":"WAITING"==e&&c.WAITING?"Waiting to run "+(c.WAITING||"some")+" "+n.pluralize(c.WAITING,"Step"):"NOT_STARTED"==e?"No steps were run":"PARTIAL_NOT_STARTED"==e?(c.PARTIAL_NOT_STARTED||"Some")+" "+n.pluralize(c.PARTIAL_NOT_STARTED,"Step")+" not run":"WAITING"==e?"Waiting":"PARTIAL_SUCCEEDED"==e?(c.PARTIAL_SUCCEEDED||
"Some")+" did not succeed":"NONE_SUCCEEDED"==e?"No steps succeeded":"NONE"==e?"No Steps":null};c.summarize=function(){var e=null,g={total:0,SUCCEEDED:0,FAILED:0,WAITING:0,NOT_STARTED:0,RUNNING:0,RUNNING_HANDLER:0,other:0,duration_ms_total:0,pending:c.flow.pendingStepsForNode(c.name)},k="SUCCEEDED FAILED WAITING NOT_STARTED RUNNING RUNNING_HANDLER".split(" ");ko.utils.arrayForEach(c.steps(),function(c){var n=c.executionState();c.parameterizedStep()||(g.total++,0<=k.indexOf(n)&&null!=g[n]?g[n]++:g.other++);
if(!e&&RDNodeStep.stateCompare("NONE",c.executionState())||e&&RDNodeStep.stateCompare(e.executionState(),c.executionState()))e=c});c.currentStep(e);0<g.total?0<g.RUNNING?(c.summary("Running"),c.summaryState("RUNNING")):0<g.RUNNING_HANDLER?(c.summary("Running"),c.summaryState("RUNNING_HANDLER")):g.total==g.SUCCEEDED&&1>g.pending?(c.summary("All Steps OK"),c.summaryState("SUCCEEDED")):0<g.FAILED?(c.summary(g.FAILED+" "+n.pluralize(g.FAILED,"Step")+" FAILED"),c.summaryState("FAILED")):0<g.WAITING?(c.summary("Waiting to run "+
g.WAITING+" "+n.pluralize(g.WAITING,"Step")),c.summaryState("WAITING")):g.NOT_STARTED==g.total&&1>g.pending?(c.summary("No steps were run"),c.summaryState("NOT_STARTED")):0<g.NOT_STARTED?(c.summary(g.NOT_STARTED+" "+n.pluralize(g.NOT_STARTED,"Step")+" not run"),c.summaryState("PARTIAL_NOT_STARTED")):0<g.pending?(c.summary("Waiting"),c.summaryState("WAITING")):0<g.SUCCEEDED?(c.summary(g.total-g.SUCCEEDED+" did not succeed"),c.summaryState("PARTIAL_SUCCEEDED")):(c.summary("No steps succeeded"),c.summaryState("NONE_SUCCEEDED")):
0<g.pending?(c.summary("Waiting"),c.summaryState("WAITING")):(c.summary("No Steps"),c.summaryState("NONE"))};c.currentStepFromData=function(e){c.currentStep(new RDNodeStep(e,c,c.flow))};c.updateSummary=function(e){e.lastUpdated&&c.lastUpdated()==e.lastUpdated&&e.summaryState==c.summaryState()||(c.lastUpdated(e.lastUpdated),c.summaryState(e.summaryState),c.summary(c.summaryDescriptionForState(e)),c.durationMs(e.duration),e.currentStep?c.currentStepFromData(e.currentStep):c.currentStep(null))};c.loadData=
function(e){c.updateSummary(e.summary);c.updateSteps(e.steps)};c.updateSteps=function(e){ko.mapping.fromJS({steps:e},g,this);c.summarize()};k&&c.updateSteps(k)}
function NodeFlowViewModel(e,k,n){var c=this;c.workflow=e;c.errorMessage=ko.observable();c.statusMessage=ko.observable();c.stateLoaded=ko.observable(!1);c.pendingNodeSteps=ko.observable({});c.nodes=ko.observableArray([]).extend({rateLimit:500});c.selectedNodes=ko.observableArray([]);c.followingStep=ko.observable();c.followingControl=null;c.followOutputUrl=k;c.nodeStateUpdateUrl=n;c.completed=ko.observable();c.executionState=ko.observable();c.executionStatusString=ko.observable();c.retryExecutionId=
ko.observable();c.retryExecutionState=ko.observable();c.retryExecutionUrl=ko.observable();c.retryExecutionAttempt=ko.observable();c.retry=ko.observable();c.execDuration=ko.observable();c.jobAverageDuration=ko.observable();c.startTime=ko.observable();c.endTime=ko.observable();c.executionId=ko.observable();c.outputScrollOffset=0;c.activeTab=ko.observable("summary");c.failed=ko.pureComputed(function(){return"FAILED"==c.executionState()});c.totalSteps=ko.pureComputed(function(){return c.workflow.workflow.length});
c.activeNodes=ko.pureComputed(function(){return ko.utils.arrayFilter(c.nodes(),function(c){return"NONE"!=c.summaryState()})});c.totalNodeCount=ko.observable(0);c.nodeIndex={};c.totalNodes=ko.pureComputed(function(){var e=ko.utils.arrayFilter(c.nodes(),function(c){return"NONE"!=c.summaryState()});return e?e.length:0});c.jobPercentage=ko.pureComputed(function(){return 0<c.jobAverageDuration()?100*(c.execDuration()/c.jobAverageDuration()):-1});c.jobPercentageFixed=ko.pureComputed(function(){var e=c.jobPercentage();
return 0<=e?e.toFixed(0):"0"});c.jobOverrunDuration=ko.pureComputed(function(){var e=c.jobAverageDuration(),m=c.execDuration();return 0<e&&m>e?MomentUtil.formatDurationSimple(m-e):""});c.completedNodes=ko.computed(function(){var e=[];ko.utils.arrayForEach(c.nodes(),function(c){0<=RDNodeStep.completedStates.indexOf(c.summaryState())&&e.push(c)});return e});c.succeededNodes=ko.computed(function(){var e=[];ko.utils.arrayForEach(c.nodes(),function(c){"SUCCEEDED"==c.summaryState()&&e.push(c)});return e});
c.runningNodes=ko.computed(function(){var e=[];ko.utils.arrayForEach(c.nodes(),function(c){0<=RDNodeStep.runningStates.indexOf(c.summaryState())&&e.push(c)});return e});c.waitingNodes=ko.computed(function(){var e=[];ko.utils.arrayForEach(c.nodes(),function(c){"WAITING"==c.summaryState()&&e.push(c)});return e});c.notstartedNodes=ko.computed(function(){var e=[];ko.utils.arrayForEach(c.nodes(),function(c){"NOT_STARTED"==c.summaryState()&&e.push(c)});return e});c.partialNodes=ko.computed(function(){var e=
[];ko.utils.arrayForEach(c.nodes(),function(c){"PARTIAL_NOT_STARTED"!=c.summaryState()&&"PARTIAL_SUCCEEDED"!=c.summaryState()||e.push(c)});return e});c.failedNodes=ko.computed(function(){var e=[];ko.utils.arrayForEach(c.nodes(),function(c){"FAILED"==c.summaryState()&&e.push(c)});return e});c.percentageFixed=function(c,e){return 0==e?0:(c/e*100).toFixed(0)};c.stopShowingOutput=function(){c.followingControl&&(c.followingControl.stopFollowingOutput(),c.followingControl=null)};c.showOutput=function(e){var m=
e.node.name,k=e.stepctx,n='.wfnodeoutput[data-node="'+m+'"]',n=jQuery.find(k?n+("[data-stepctx='"+k+"']"):n+"[data-stepctx=]");if(!n||1!=n.length)throw"could not find output area";n=n[0];m={nodename:m};k&&Object.extend(m,{stepctx:k});var u=new FollowControl(null,null,{parentElement:n,extraParams:"&"+Object.toQueryString(m),appLinks:{tailExecutionOutput:c.followOutputUrl},finishedExecutionAction:!1,autoscroll:!1,onAppend:function(){e.outputLineCount(u.getLineCount())}});u.workflow=c.workflow;u.setColNode(!1);
u.setColStep(null==k);u.beginFollowingOutput();return u};c.toggleOutputForNodeStep=function(e,m){c.stopShowingOutput();var k=e.node,n=RDWorkflow.cleanContextId(e.stepctx),u=function(){k.expanded(!0);var e=k.findStepForCtx(n);if(!e)throw"failed to find step for context: "+n+" and node: "+k.name;e.followingOutput(!0);ko.utils.arrayForEach(c.nodes(),function(c){ko.utils.arrayForEach(c.steps(),function(c){c!=e&&c.followingOutput(!1)})});var g=c.showOutput(e);c.followingStep(e);c.followingControl=g;"function"==
typeof m&&m()};if(k.expanded()||e.followingOutput())e.followingOutput()?(e.followingOutput(!1),c.followingStep(null)):u();else return c.loadStateForNode(k).then(u)};c.scrollTo=function(c,e,k){window.scrollTo((c.x?c.x:c.offsetLeft)+(e?e:0),(c.y?c.y:c.offsetTop)+(k?k:0))};c.scrollToNodeStep=function(e,m){var k=$$('.wfnodestep[data-node="'+e+'"][data-stepctx="'+m+'"]');k&&(jQuery("#tab_link_flow a").tab("show"),c.scrollTo($(k[0])))};c.scrollToNode=function(e){if(e=jQuery.find('.wfnodestate.container[data-node="'+
e+'"]'))jQuery("#tab_link_flow a").tab("show"),c.scrollTo(e[0])};c.scrollToOutput=function(e){e.followingOutput()?c.scrollToNode(e.node.name):c.toggleOutputForNodeStep(e,function(){c.scrollToNode(e.node.name)})};c.pluralize=function(c,e,k){return 1==c?e:null!=k?k:e+"s"};c.stepStateForCtx=function(e,m){"string"==typeof m&&(m=RDWorkflow.parseContextId(m));var k=m[0],n=RDWorkflow.workflowIndexForContextId(k),k=RDWorkflow.paramsForContextId(k),n=e.steps[n];k&&n.parameterStates&&n.parameterStates[k]&&
(n=n.parameterStates[k]);return 1<m.length&&n.workflow?c.stepStateForCtx(n.workflow,m.slice(1)):n};c.pendingStepsForNode=function(e){var k=c.pendingNodeSteps();return null!=k[e]?k[e]:null!=k._other?k._other:0};c.countPendingStepsForNodes=function(e,k,n){"undefined"==typeof n&&(n={});for(var y=0;y<e.steps.length;y++){var u=e.steps[y];u.hasSubworkflow&&c.countPendingStepsForNodes(u.workflow,k,n);if(u.hasSubworkflow&&u.nodeStep&&u.parameterStates||u.nodeStep&&!u.hasSubworkflow){var F=null==e.targetNodes||
0==e.targetNodes.length?k:e.targetNodes;null!=u.nodeStates?F=ko.utils.arrayFilter(F,function(c){return null==u.nodeStates[c]}):null!=u.parameterStates&&(F=ko.utils.arrayFilter(F,function(c){return null==u.parameterStates["node="+c]}));ko.utils.arrayForEach(F,function(c){null==n[c]?n[c]=1:n[c]++})}}return n};c.extractNodeStepStates=function(e,k,n){for(var y=k?k.length:0,u=[],F=0;F<y;F++){var G=k[F],P=c.stepStateForCtx(n,G.stepctx).nodeStates[e];P.stepctx=G.stepctx;u.push(P)}return u};c.updateNodes=
function(e){if(e.allNodes){c.stateLoaded(!0);c.pendingNodeSteps(e.completed?{_other:0}:c.countPendingStepsForNodes(e,e.allNodes));var k=e.allNodes,n=k.length;c.totalNodeCount(n);for(var y=0;y<n;y++){var u=k[y],F=e.nodeSummaries[u],G=null;!G&&e.nodeSteps&&e.nodeSteps[u]&&(G=e.nodeSteps[u]);var P=c.findNode(u);P&&G?P.updateSteps(G):P?P.updateSummary(F):(u=new RDNode(u,G,c),u.updateSummary(F),c.nodes.push(u),c.nodeIndex[u.name]=u)}}};c.loadStateForNode=function(e){return jQuery.ajax({url:_genUrl(c.nodeStateUpdateUrl,
{node:e.name}),dataType:"json",success:function(k,n,y){k.error?c.errorMessage("Failed to load state: "+(y.responseJSON&&y.responseJSON.error?y.responseJSON.error:err),y.responseJSON):e.loadData(k)},error:function(e,g,k){c.errorMessage("Failed to load state: "+(e.responseJSON&&e.responseJSON.error?e.responseJSON.error:k),e.responseJSON)}})};c.formatTimeAtDate=function(c){return MomentUtil.formatTimeAtDate(c)};c.formatDurationHumanize=function(c){return MomentUtil.formatDurationHumanize(c)};c.formatDurationMomentHumanize=
function(c){return MomentUtil.formatDurationMomentHumanize(c)};c.addNode=function(e,k){var n=new RDNode(e,k,c);c.nodes.push(n);c.nodeIndex[n.name]=n};c.findNode=function(e){return c.nodeIndex[e]};c.execDurationSimple=ko.pureComputed(function(){return MomentUtil.formatDurationSimple(c.execDuration())});c.execDurationHumanized=ko.pureComputed(function(){return MomentUtil.formatDurationHumanize(c.execDuration())})};