function showError(c){appendHtml($("editerror"),c);$("editerror").show()}function showRowSelected(c,e,f){f=document.getElementsByClassName(f,e);for(e=0;e<f.length;e++)$(f[e]).removeClassName("selected");c&&$(c)&&$(c).addClassName("selected")}var jobEdittedHandler;function _onJobEdit(c){jobEdittedHandler=c}function jobWasEdited(){"function"==typeof jobEdittedHandler&&jobEdittedHandler()}
function postLoadItemEdit(c){c=jQuery(c);c.find("input[type=text]").each(function(c,f){f.observe("keypress",noenter)});0<c.find("input[type=text]").length&&c.find("input[type=text]")[0].focus();c.find("textarea.apply_ace").each(function(c,f){_addAceTextarea(f)})}
function _wfiedit(c,e,f){jobWasEdited();e={num:e,isErrorHandler:f?!0:!1,key:c};getCurSEID()&&(e.scheduledExecutionId=getCurSEID());jQuery("#wfli_"+c).load(_genUrl(appLinks.workflowEdit,e),function(d,a,e){_hideWFItemControls();postLoadItemEdit("#wfli_"+c)})}function _wfiview(c,e,f){e={num:e,edit:!0,key:c,isErrorHandler:f?!0:!1};getCurSEID()&&(e.scheduledExecutionId=getCurSEID());jQuery("#wfli_"+c).load(_genUrl(appLinks.workflowRender,e),_showWFItemControls)}
function _wfisave(c,e,f,d){jobWasEdited();f=jQuery("#"+f+" :input").serialize();jQuery.ajax({type:"POST",url:_genUrl(appLinks.workflowSave),data:f,beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),success:function(a,f,n){f=jQuery("#wfli_"+c);f.html(a);1>f.find("div.wfitemEditForm").size()?(_showWFItemControls(),d&&_hideWFItemControlsAddEH(e)):postLoadItemEdit("#wfli_"+c)}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))}var newitemElem;
function _wfiaddnew(c,e){jobWasEdited();var f={newitemtype:c,newitemnodestep:e?!0:!1};getCurSEID()&&(f.scheduledExecutionId=getCurSEID());clearHtml("wfnewitem");jQuery("#wfnewtypes").hide();_hideWFItemControls();var d=jQuery("#workflowContent"),a=d.find("ol").first(),h=d.find("ol > li").length;f.key=h;d=jQuery('<li><span></span><div></div><ul class="wfhandleritem" style="display:none"><li></li></ul></li>');1==h%2&&d.addClass("alternate");d.data("wfitemnum",h);d.find("div").attr("id","wfivis_"+h);
d.find("ul").data("wfitemnum",h);d.find("ul li").attr("id","wfli_eh_"+h);a.append(d);newitemElem=d.find("span").first()[0];jQuery(newitemElem).attr("id","wfli_"+h);jQuery(newitemElem).load(_genUrl(appLinks.workflowEdit,f),function(){postLoadItemEdit("#wfli_"+h)})}function _addAceTextarea(c){_setupAceTextareaEditor(c,function(){jobWasEdited()})}
function _wfisavenew(c){jobWasEdited();c=jQuery("#"+c+" :input").serialize();jQuery.ajax({type:"POST",url:_genUrl(appLinks.workflowSave),data:c,beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),success:function(c,f,d){jQuery(newitemElem).html(c);0<jQuery(newitemElem).find(".wfitemEditForm").length?postLoadItemEdit(newitemElem):(c=jQuery(newitemElem.parentNode),c.highlight(),jQuery("#wfnewbutton").show(),_showWFItemControls(),jQuery("#workflowDropfinal").data("wfitemnum",parseInt(c.data("wfitemnum"))+
1),newitemElem=null)}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))}function _wficancelnew(){jQuery(newitemElem.parentNode).remove();newitemElem=null;jQuery("#wfnewbutton").show();_showWFItemControls()}function _findParentAttr(c,e){return jQuery(c).closest("["+e+"]").attr(e)}function _evtNewStepChooseType(c){c=c.element();c=_findParentAttr(c,"data-step-type");_wfiaddnew(c,!1)}function _evtNewNodeStepChooseType(c){c=c.element();c=_findParentAttr(c,"data-node-step-type");_wfiaddnew(c,!0)}
function _evtNewStepCancel(c){jQuery("#wfnewtypes").hide();jQuery("#wfnewbutton").show()}function _hideWFItemControls(){jQuery("#workflowContent").find("span.wfitemcontrols").hide();jQuery("#wfundoredo,#wfnewbutton").hide()}function _updateEmptyMessage(){0<jQuery("#workflowContent").find("ol li").length?jQuery("#wfempty").hide():jQuery("#wfempty").show()}
function _showWFItemControls(){jQuery("#workflowContent").find("span.wfitemcontrols").show();jQuery("#wfundoredo,#wfnewbutton").show();_updateWFUndoRedo();_enableDragdrop();_updateEmptyMessage()}function _hideWFItemControlsAddEH(c){jQuery("#wfli_"+c).find(".wfitem_add_errorhandler").hide()}function _evtNewEHChooseType(c){c=c.element();var e=_findParentAttr(c,"data-step-type");_wfiaddNewErrorHandler(c,e,null,!1)}
function _evtNewEHNodeStepType(c){c=c.element();var e=_findParentAttr(c,"data-node-step-type");_wfiaddNewErrorHandler(c,e,null,!0)}function _hideAddNewEHLinks(){jQuery("span.wfitem_add_errorhandler").hide()}function _showAddNewEHLinks(){jQuery("span.wfitem_add_errorhandler").show()}function _evtNewEHCancel(c){jQuery(c.element()).closest("ul.wfhandleritem").hide();_hideAddNewEH();_showWFItemControls()}
function _wficancelnewEH(c){jQuery(c).closest("ul.wfhandleritem").hide();c=jQuery(c).closest("ul.wfhandleritem li").first();clearHtml(c[0]);_showWFItemControls()}function _hideAddNewEH(){var c=jQuery("#wfnewtypes"),e=jQuery("#wfnew_eh_types");e.hide();e.detach();c.append(e)}
function _wfishownewErrorHandler(c,e,f){e=jQuery("#wfnew_eh_types");c=jQuery("#wfli_eh_"+c);clearHtml(c[0]);e.detach();c.append(e);var d=jQuery("#wf_strat_node_first").is(":checked");f=!(f&&d);d=e.find(".step_section");f?d.show():d.hide();e.show();c.parent().show();_hideWFItemControls()}
function _wfiaddNewErrorHandler(c,e,f,d){null==f&&(c=jQuery(c).closest("ul.wfhandleritem"),1==c.length&&(f=c.data("wfitemnum")));c="eh_"+f;e={newitemtype:e,key:c,num:f,isErrorHandler:!0,newitemnodestep:d?!0:!1};getCurSEID()&&(e.scheduledExecutionId=getCurSEID());var a=jQuery("#wfli_"+c);_hideAddNewEH();a.load(_genUrl(appLinks.workflowEdit,e),function(){postLoadItemEdit(a)})}function _doMoveItem(c,e){_ajaxWFAction(appLinks.workflowReorder,{fromnum:c,tonum:e,edit:!0})}
function _doRemoveItem(c,e,f){var d={delnum:e,edit:!0,key:c,isErrorHandler:f};jQuery("#wfivis_"+c).fadeOut("fast",function(a){_ajaxWFAction(appLinks.workflowRemove,d)})}function _doUndoWFAction(){_ajaxWFAction(appLinks.workflowUndo,{edit:!0})}function _doRedoWFAction(){_ajaxWFAction(appLinks.workflowRedo,{edit:!0})}function _doResetWFAction(){_ajaxWFAction(appLinks.workflowRevert,{edit:!0})}
function _ajaxWFAction(c,e){jobWasEdited();getCurSEID()&&(e.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(c),data:e,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_workflow"),success:function(c,d,a){jQuery("#workflowContent").find("ol").html(c);newitemElem=null;jQuery("#wfnewbutton").show();_showWFItemControls()}})}function _updateWFUndoRedo(){var c={};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());jQuery("#wfundoredo").load(_genUrl(appLinks.workflowRenderUndo,c))}
function moveDragItem(c,e){var f=jQuery(c).data("wfitemnum"),d=jQuery(e).data("wfitemnum");d>f&&--d;_doMoveItem(f,d)}
function _enableDragdrop(){$$("#workflowContent ol>li").each(function(c){new Draggable(c,{revert:"failure",ghosting:!1,constraint:"vertical",handle:"dragHandle",scroll:window,onStart:function(c){$("workflowDropfinal").show()},onEnd:function(c){$("workflowDropfinal").hide()}})});$$("#workflowContent ol>li").each(function(c){Droppables.add(c,{hoverclass:"hoverActive",onDrop:moveDragItem});$(c).addClassName("ready")});$$("#workflowDropfinal").each(function(c){Droppables.add(c,{hoverclass:"hoverActive",
onDrop:moveDragItem});$(c).addClassName("ready")})}function _doRevertAction(c){return"workflow"==c?_doResetWFAction():"opts"==c?_doRevertOptsAction():null}function _doRedoAction(c){return"workflow"==c?_doRedoWFAction():"opts"==c?_doRedoOptsAction():null}function _doUndoAction(c){return"workflow"==c?_doUndoWFAction():"opts"==c?_doUndoOptsAction():null}var newoptli;
function _showOptControls(){$$("#optionsContent .opteditcontrols").each(Element.show);$("optnewbutton").show();_updateOptsUndoRedo();_showOptEmptyMessage();clearHtml("optsload")}function _showOptEmptyMessage(){$("optionsContent").down("ul li")?($("optempty").hide(),$("optheader").show()):($("optempty").show(),$("optheader").hide())}function _hideOptControls(){$$("#optionsContent .opteditcontrols").each(Element.hide);$("optnewbutton").hide();clearHtml("optsload")}
function _updateOptsUndoRedo(){var c={};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());jQuery("#optundoredo").load(_genUrl(appLinks.editOptsRenderUndo,c))}function _configureInputRestrictions(c){$(c).select("input").each(function(c){"text"==c.type&&c.observe("keypress",noenter)});$(c).select("input.restrictOptName").each(function(c){"text"==c.type&&c.observe("keypress",function(c){return controlkeycode(c)||onlychars("[a-zA-Z_0-9.\\t-]",c)})})}
function _isjobScheduled(){return"true"==jQuery("#scheduledTrue:checked").val()}function _optedit(c,e){jobWasEdited();var f={name:c};getCurSEID()&&(f.scheduledExecutionId=getCurSEID());f.jobWasScheduled=_isjobScheduled();$("optsload").loading();jQuery.ajax({type:"GET",url:_genUrl(appLinks.editOptsEdit,f),success:function(d,a,c){jQuery(e).html(d);_hideOptControls();_configureInputRestrictions(e)},failure:function(d,a,c){alert("error: "+a)}})}
function _optview(c,e){var f={name:c,edit:!0};getCurSEID()&&(f.scheduledExecutionId=getCurSEID());f.jobWasScheduled=_isjobScheduled();jQuery(e).load(_genUrl(appLinks.editOptsRender,f),_showOptControls)}
function _optsave(c,e,f){jobWasEdited();$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsSave,{jobWasScheduled:_isjobScheduled()}),data:jQuery("#"+c+" :input").serialize(),beforeSend:_ajaxSendTokens.curry(e),success:function(d,a,c){jQuery(f).html(d);1>jQuery(f).find("div.optEditForm").length?(_showOptControls(),jQuery(f).highlight()):(_configureInputRestrictions(f),_hideOptControls())}})}
function _optaddnewIfNone(){var c=$$("#optionsContent ul li");c&&0!=c.length||_optaddnew()}
function _optaddnew(){jobWasEdited();var c={newoption:!0};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());_hideOptControls();var e=$("optionsContent").down("ul"),f=$$("#optionsContent ul li").length;newoptli=new Element("li");1==f%2&&newoptli.addClassName("alternate");newoptli.addClassName("optEntry");var d=new Element("div");d.setAttribute("id","optvis_"+f);newoptli.appendChild(d);e.appendChild(newoptli);$("optsload").loading();jQuery(d).load(_genUrl(appLinks.editOptsEdit,c),null,function(a,
c,e){"success"==c&&(_configureInputRestrictions(d),_hideOptControls());clearHtml("optsload")})}function _optcancelnew(){var c=$("optionsContent").down("ul");$(c).removeChild(newoptli);newoptli=null;_showOptControls()}
function _reloadOpts(){var c={newoption:!0,edit:!0};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());$("optionsContent").down("ul.options");$("optsload").loading();jQuery("#optionsContent").find("ul.options").load(_genUrl(appLinks.editOptsRenderAll,c),function(c,f,d){_showOptControls()})}
function _summarizeOpts(){var c={newoption:!0,edit:!0};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());$("optssummary");$("optsload").loading();jQuery("#optssummary").load(_genUrl(appLinks.editOptsRenderSummary,c),_showOptControls)}
function _optsavenew(c,e){jobWasEdited();var f=jQuery("#"+c+" :input").serialize();$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsSave,{jobWasScheduled:_isjobScheduled()}),data:f,beforeSend:_ajaxSendTokens.curry(e),success:function(c,a,e){jQuery(newoptli).html(c);newoptli.down("div.optEditForm")?newoptli.down("div.optEditForm")&&(_configureInputRestrictions(newoptli),_hideOptControls()):($(newoptli).highlight(),newoptli=null,_showOptControls(),_reloadOpts())}})}
function _doRemoveOption(c,e,f){jobWasEdited();var d={name:c,edit:!0};getCurSEID()&&(d.scheduledExecutionId=getCurSEID());$("optsload").loading();jQuery($(e)).slideUp("fast",function(a){jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRemove),data:d,beforeSend:_ajaxSendTokens.curry(f),success:function(a,c,d){jQuery("#optionsContent").find("ul").html(a);_showOptControls()}})})}
function _doUndoOptsAction(){var c={edit:!0};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsUndo),data:c,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(c,f,d){jQuery("#optionsContent").find("ul").html(c);_showOptControls()}})}
function _doRedoOptsAction(){var c={edit:!0};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRedo),data:c,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(c,f,d){jQuery("#optionsContent").find("ul").html(c);_showOptControls()}})}
function _doRevertOptsAction(){var c={edit:!0};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRevert),data:c,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(c,f,d){jQuery("#optionsContent").find("ul").html(c);_showOptControls()}})}var jobNameFieldId,jobGroupFieldId;
function jobChosen(c,e){jobWasEdited();jobNameFieldId&&jobGroupFieldId&&(jQuery("#"+jobNameFieldId).val(c),jQuery("#"+jobGroupFieldId).val(e));hideJobChooser()}
function loadJobChooser(c,e,f,d){jQuery(c).hasClass("active")?hideJobChooser():(jobNameFieldId=f,jobGroupFieldId=d,jQuery(c).button("loading").addClass("active"),jQuery.ajax({url:_genUrl(appLinks.menuJobsPicker,{jobsjscallback:"true",runAuthRequired:!0}),success:function(a,d,e){jQuery(c).popover({html:!0,container:"body",placement:"left",content:a,trigger:"manual"}).popover("show");jQuery(c).button("reset")},error:function(a,d,e){showError("Error performing request: menuJobsPicker: "+transport);jQuery(c).button("reset")}}))}
function hideJobChooser(){jQuery(".btn.act_choose_job").removeClass("active").button("reset").popover("hide")}function groupChosen(c){jobWasEdited();jQuery("#schedJobGroup").val(c);jQuery("#schedJobGroup").highlight();jQuery("#groupChooseBtn").popover("hide")}
function loadGroupChooser(){var c=jQuery("#groupChooseBtn");c.button("loading");jQuery("#schedEditFrameworkProject").val();"true"==c.data("grouptreeshown")?(c.popover("hide"),c.button("reset")):jQuery.get(appLinks.scheduledExecutionGroupTreeFragment+"?jscallback=true",function(c){var f=jQuery("#groupChooseBtn");f.popover({html:!0,container:"body",placement:"left",content:c,trigger:"manual"}).popover("show");f.button("reset")})}
jQuery(window).load(function(){jQuery("#groupChooseBtn").click(loadGroupChooser);jQuery("#groupChooseBtn").on("shown.bs.popover",function(c){jQuery("#groupChooseBtn").data("grouptreeshown","true")});jQuery("#groupChooseBtn").on("hide.bs.popover",function(c){jQuery("#groupChooseBtn").data("grouptreeshown","false")})});
(function(){(function(c){var e=this||(0,eval)("this"),f=e.document,d=e.navigator,a=e.jQuery,h=e.JSON;(function(a){"function"===typeof define&&define.amd?define(["exports","require"],a):"object"===typeof exports&&"object"===typeof module?a(module.exports||exports):a(e.ko={})})(function(n,t){function y(b,a){return null===b||typeof b in X?b===a:!1}function F(g,a){var d;return function(){d||(d=b.a.setTimeout(function(){d=c;g()},a))}}function U(g,a){var c;return function(){clearTimeout(c);c=b.a.setTimeout(g,
a)}}function W(b,a){a&&a!==V?"beforeChange"===a?this.Kb(b):this.Ha(b,a):this.Lb(b)}function J(b,a){null!==a&&a.k&&a.k()}function aa(b,a){var c=this.Hc,d=c[B];d.R||(this.lb&&this.Ma[a]?(c.Pb(a,b,this.Ma[a]),this.Ma[a]=null,--this.lb):d.r[a]||c.Pb(a,b,d.s?{ia:b}:c.uc(b)))}function ca(g,a,c,d){b.d[g]={init:function(g,e,f,v,u){var p,E;b.m(function(){var fa=b.a.c(e()),G=!c!==!fa,N=!E;if(N||a||G!==p)N&&b.va.Aa()&&(E=b.a.ua(b.f.childNodes(g),!0)),G?(N||b.f.da(g,b.a.ua(E)),b.eb(d?d(u,fa):u,g)):b.f.xa(g),
p=G},null,{i:g});return{controlsDescendantBindings:!0}}};b.h.ta[g]=!1;b.f.Z[g]=!0}var b="undefined"!==typeof n?n:{};b.b=function(g,a){for(var c=g.split("."),d=b,e=0;e<c.length-1;e++)d=d[c[e]];d[c[c.length-1]]=a};b.G=function(b,a,c){b[a]=c};b.version="3.4.0";b.b("version",b.version);b.options={deferUpdates:!1,useOnlyNativeEvents:!1};b.a=function(){function g(b,g){for(var a in b)b.hasOwnProperty(a)&&g(a,b[a])}function l(b,g){if(g)for(var a in g)g.hasOwnProperty(a)&&(b[a]=g[a]);return b}function m(b,
g){b.__proto__=g;return b}function w(g,a,c,d){var e=g[a].match(E)||[];b.a.q(c.match(E),function(g){b.a.pa(e,g,d)});g[a]=e.join(" ")}var Q={__proto__:[]}instanceof Array,z="function"===typeof Symbol,s={},v={};s[d&&/Firefox\/2/i.test(d.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];s.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");g(s,function(b,g){if(g.length)for(var a=0,c=g.length;a<c;a++)v[g[a]]=b});var u={propertychange:!0},
p=f&&function(){for(var b=3,g=f.createElement("div"),a=g.getElementsByTagName("i");g.innerHTML="\x3c!--[if gt IE "+ ++b+"]><i></i><![endif]--\x3e",a[0];);return 4<b?b:c}(),E=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(b,g){for(var a=0,c=b.length;a<c;a++)g(b[a],a)},o:function(b,g){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(b,g);for(var a=0,c=b.length;a<c;a++)if(b[a]===g)return a;return-1},Sb:function(b,g,a){for(var c=
0,d=b.length;c<d;c++)if(g.call(a,b[c],c))return b[c];return null},La:function(g,a){var c=b.a.o(g,a);0<c?g.splice(c,1):0===c&&g.shift()},Tb:function(g){g=g||[];for(var a=[],c=0,d=g.length;c<d;c++)0>b.a.o(a,g[c])&&a.push(g[c]);return a},fb:function(b,g){b=b||[];for(var a=[],c=0,d=b.length;c<d;c++)a.push(g(b[c],c));return a},Ka:function(b,g){b=b||[];for(var a=[],c=0,d=b.length;c<d;c++)g(b[c],c)&&a.push(b[c]);return a},ra:function(b,g){if(g instanceof Array)b.push.apply(b,g);else for(var a=0,c=g.length;a<
c;a++)b.push(g[a]);return b},pa:function(g,a,c){var d=b.a.o(b.a.zb(g),a);0>d?c&&g.push(a):c||g.splice(d,1)},ka:Q,extend:l,Xa:m,Ya:Q?m:l,D:g,Ca:function(b,g){if(!b)return b;var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=g(b[c],c,b));return a},ob:function(g){for(;g.firstChild;)b.removeNode(g.firstChild)},jc:function(g){g=b.a.V(g);for(var a=(g[0]&&g[0].ownerDocument||f).createElement("div"),c=0,d=g.length;c<d;c++)a.appendChild(b.$(g[c]));return a},ua:function(g,a){for(var c=0,d=g.length,e=[];c<d;c++){var l=
g[c].cloneNode(!0);e.push(a?b.$(l):l)}return e},da:function(g,a){b.a.ob(g);if(a)for(var c=0,d=a.length;c<d;c++)g.appendChild(a[c])},qc:function(g,a){var c=g.nodeType?[g]:g;if(0<c.length){for(var d=c[0],e=d.parentNode,l=0,m=a.length;l<m;l++)e.insertBefore(a[l],d);l=0;for(m=c.length;l<m;l++)b.removeNode(c[l])}},za:function(b,g){if(b.length){for(g=8===g.nodeType&&g.parentNode||g;b.length&&b[0].parentNode!==g;)b.splice(0,1);for(;1<b.length&&b[b.length-1].parentNode!==g;)b.length--;if(1<b.length){var a=
b[0],c=b[b.length-1];for(b.length=0;a!==c;)b.push(a),a=a.nextSibling;b.push(c)}}return b},sc:function(b,g){7>p?b.setAttribute("selected",g):b.selected=g},$a:function(b){return null===b||b===c?"":b.trim?b.trim():b.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(b,g){b=b||"";return g.length>b.length?!1:b.substring(0,g.length)===g},Mc:function(b,g){if(b===g)return!0;if(11===b.nodeType)return!1;if(g.contains)return g.contains(3===b.nodeType?b.parentNode:b);if(g.compareDocumentPosition)return 16==
(g.compareDocumentPosition(b)&16);for(;b&&b!=g;)b=b.parentNode;return!!b},nb:function(g){return b.a.Mc(g,g.ownerDocument.documentElement)},Qb:function(g){return!!b.a.Sb(g,b.a.nb)},A:function(b){return b&&b.tagName&&b.tagName.toLowerCase()},Wb:function(g){return b.onError?function(){try{return g.apply(this,arguments)}catch(a){throw b.onError&&b.onError(a),a;}}:g},setTimeout:function(g,a){return setTimeout(b.a.Wb(g),a)},$b:function(g){setTimeout(function(){b.onError&&b.onError(g);throw g;},0)},p:function(g,
c,d){var e=b.a.Wb(d);d=p&&u[c];if(b.options.useOnlyNativeEvents||d||!a)if(d||"function"!=typeof g.addEventListener)if("undefined"!=typeof g.attachEvent){var l=function(b){e.call(g,b)},m="on"+c;g.attachEvent(m,l);b.a.F.oa(g,function(){g.detachEvent(m,l)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else g.addEventListener(c,e,!1);else a(g).bind(c,e)},Da:function(g,c){if(!g||!g.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===
b.a.A(g)&&g.type&&"click"==c.toLowerCase()?(d=g.type,d="checkbox"==d||"radio"==d):d=!1;if(b.options.useOnlyNativeEvents||!a||d)if("function"==typeof f.createEvent)if("function"==typeof g.dispatchEvent)d=f.createEvent(v[c]||"HTMLEvents"),d.initEvent(c,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,g),g.dispatchEvent(d);else throw Error("The supplied element doesn't support dispatchEvent");else if(d&&g.click)g.click();else if("undefined"!=typeof g.fireEvent)g.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");
else a(g).trigger(c)},c:function(g){return b.H(g)?g():g},zb:function(g){return b.H(g)?g.t():g},bb:function(g,a,c){var d;a&&("object"===typeof g.classList?(d=g.classList[c?"add":"remove"],b.a.q(a.match(E),function(b){d.call(g.classList,b)})):"string"===typeof g.className.baseVal?w(g.className,"baseVal",a,c):w(g,"className",a,c))},Za:function(g,a){var d=b.a.c(a);if(null===d||d===c)d="";var e=b.f.firstChild(g);!e||3!=e.nodeType||b.f.nextSibling(e)?b.f.da(g,[g.ownerDocument.createTextNode(d)]):e.data=
d;b.a.Rc(g)},rc:function(b,g){b.name=g;if(7>=p)try{b.mergeAttributes(f.createElement("<input name='"+b.name+"'/>"),!1)}catch(a){}},Rc:function(b){9<=p&&(b=1==b.nodeType?b:b.parentNode,b.style&&(b.style.zoom=b.style.zoom))},Nc:function(b){if(p){var g=b.style.width;b.style.width=0;b.style.width=g}},hd:function(g,a){g=b.a.c(g);a=b.a.c(a);for(var c=[],d=g;d<=a;d++)c.push(d);return c},V:function(b){for(var g=[],a=0,c=b.length;a<c;a++)g.push(b[a]);return g},Yb:function(b){return z?Symbol(b):b},rd:6===p,
sd:7===p,C:p,ec:function(g,a){for(var c=b.a.V(g.getElementsByTagName("input")).concat(b.a.V(g.getElementsByTagName("textarea"))),d="string"==typeof a?function(b){return b.name===a}:function(b){return a.test(b.name)},e=[],l=c.length-1;0<=l;l--)d(c[l])&&e.push(c[l]);return e},ed:function(g){return"string"==typeof g&&(g=b.a.$a(g))?h&&h.parse?h.parse(g):(new Function("return "+g))():null},Eb:function(g,a,c){if(!h||!h.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return h.stringify(b.a.c(g),a,c)},fd:function(a,c,d){d=d||{};var e=d.params||{},l=d.includeFields||this.cc,m=a;if("object"==typeof a&&"form"===b.a.A(a))for(var m=a.action,w=l.length-1;0<=w;w--)for(var p=b.a.ec(a,l[w]),u=p.length-1;0<=u;u--)e[p[u].name]=p[u].value;c=b.a.c(c);var v=f.createElement("form");v.style.display="none";v.action=m;v.method="post";for(var Q in c)a=f.createElement("input"),a.type="hidden",a.name=Q,a.value=b.a.Eb(b.a.c(c[Q])),v.appendChild(a);g(e,function(b,g){var a=f.createElement("input");
a.type="hidden";a.name=b;a.value=g;v.appendChild(a)});f.body.appendChild(v);d.submitter?d.submitter(v):v.submit();setTimeout(function(){v.parentNode.removeChild(v)},0)}}}();b.b("utils",b.a);b.b("utils.arrayForEach",b.a.q);b.b("utils.arrayFirst",b.a.Sb);b.b("utils.arrayFilter",b.a.Ka);b.b("utils.arrayGetDistinctValues",b.a.Tb);b.b("utils.arrayIndexOf",b.a.o);b.b("utils.arrayMap",b.a.fb);b.b("utils.arrayPushAll",b.a.ra);b.b("utils.arrayRemoveItem",b.a.La);b.b("utils.extend",b.a.extend);b.b("utils.fieldsIncludedWithJsonPost",
b.a.cc);b.b("utils.getFormFields",b.a.ec);b.b("utils.peekObservable",b.a.zb);b.b("utils.postJson",b.a.fd);b.b("utils.parseJson",b.a.ed);b.b("utils.registerEventHandler",b.a.p);b.b("utils.stringifyJson",b.a.Eb);b.b("utils.range",b.a.hd);b.b("utils.toggleDomNodeCssClass",b.a.bb);b.b("utils.triggerEvent",b.a.Da);b.b("utils.unwrapObservable",b.a.c);b.b("utils.objectForEach",b.a.D);b.b("utils.addOrRemoveItem",b.a.pa);b.b("utils.setTextContent",b.a.Za);b.b("unwrap",b.a.c);Function.prototype.bind||(Function.prototype.bind=
function(b){var a=this;if(1===arguments.length)return function(){return a.apply(b,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);d.push.apply(d,arguments);return a.apply(b,d)}});b.a.e=new function(){function b(g,z){var f=g[d];if(!f||"null"===f||!e[f]){if(!z)return c;f=g[d]="ko"+a++;e[f]={}}return e[f]}var a=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(a,d){var e=b(a,!1);return e===c?c:e[d]},set:function(a,d,e){if(e!==c||b(a,!1)!==c)b(a,!0)[d]=
e},clear:function(b){var g=b[d];return g?(delete e[g],b[d]=null,!0):!1},I:function(){return a++ +d}}};b.b("utils.domData",b.a.e);b.b("utils.domData.clear",b.a.e.clear);b.a.F=new function(){function g(g,a){var d=b.a.e.get(g,e);d===c&&a&&(d=[],b.a.e.set(g,e,d));return d}function d(a){var c=g(a,!1);if(c)for(var c=c.slice(0),e=0;e<c.length;e++)c[e](a);b.a.e.clear(a);b.a.F.cleanExternalData(a);if(f[a.nodeType])for(c=a.firstChild;a=c;)c=a.nextSibling,8===a.nodeType&&d(a)}var e=b.a.e.I(),w={1:!0,8:!0,9:!0},
f={1:!0,9:!0};return{oa:function(b,a){if("function"!=typeof a)throw Error("Callback must be a function");g(b,!0).push(a)},pc:function(a,d){var l=g(a,!1);l&&(b.a.La(l,d),0==l.length&&b.a.e.set(a,e,c))},$:function(g){if(w[g.nodeType]&&(d(g),f[g.nodeType])){var a=[];b.a.ra(a,g.getElementsByTagName("*"));for(var c=0,e=a.length;c<e;c++)d(a[c])}return g},removeNode:function(g){b.$(g);g.parentNode&&g.parentNode.removeChild(g)},cleanExternalData:function(b){a&&"function"==typeof a.cleanData&&a.cleanData([b])}}};
b.$=b.a.F.$;b.removeNode=b.a.F.removeNode;b.b("cleanNode",b.$);b.b("removeNode",b.removeNode);b.b("utils.domNodeDisposal",b.a.F);b.b("utils.domNodeDisposal.addDisposeCallback",b.a.F.oa);b.b("utils.domNodeDisposal.removeDisposeCallback",b.a.F.pc);(function(){var g=[0,"",""],d=[1,"<table>","</table>"],m=[3,"<table><tbody><tr>","</tr></tbody></table>"],w=[1,"<select multiple='multiple'>","</select>"],Q={thead:d,tbody:d,tfoot:d,tr:[2,"<table><tbody>","</tbody></table>"],td:m,th:m,option:w,optgroup:w},
z=8>=b.a.C;b.a.ma=function(c,d){var l;if(a)if(a.parseHTML)l=a.parseHTML(c,d)||[];else{if((l=a.clean([c],d))&&l[0]){for(var m=l[0];m.parentNode&&11!==m.parentNode.nodeType;)m=m.parentNode;m.parentNode&&m.parentNode.removeChild(m)}}else{(l=d)||(l=f);var m=l.parentWindow||l.defaultView||e,w=b.a.$a(c).toLowerCase(),h=l.createElement("div"),G;G=(w=w.match(/^<([a-z]+)[ >]/))&&Q[w[1]]||g;w=G[0];G="ignored<div>"+G[1]+c+G[2]+"</div>";for("function"==typeof m.innerShiv?h.appendChild(m.innerShiv(G)):(z&&l.appendChild(h),
h.innerHTML=G,z&&h.parentNode.removeChild(h));w--;)h=h.lastChild;l=b.a.V(h.lastChild.childNodes)}return l};b.a.Cb=function(g,d){b.a.ob(g);d=b.a.c(d);if(null!==d&&d!==c)if("string"!=typeof d&&(d=d.toString()),a)a(g).html(d);else for(var e=b.a.ma(d,g.ownerDocument),l=0;l<e.length;l++)g.appendChild(e[l])}})();b.b("utils.parseHtmlFragment",b.a.ma);b.b("utils.setHtml",b.a.Cb);b.M=function(){function g(a,c){if(a)if(8==a.nodeType){var d=b.M.lc(a.nodeValue);null!=d&&c.push({Lc:a,cd:d})}else if(1==a.nodeType)for(var d=
0,e=a.childNodes,l=e.length;d<l;d++)g(e[d],c)}var a={};return{wb:function(b){if("function"!=typeof b)throw Error("You can only pass a function to ko.memoization.memoize()");var g=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);a[g]=b;return"\x3c!--[ko_memo:"+g+"]--\x3e"},xc:function(b,g){var d=a[b];if(d===c)throw Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{return d.apply(null,g||[]),
!0}finally{delete a[b]}},yc:function(a,c){var d=[];g(a,d);for(var e=0,l=d.length;e<l;e++){var f=d[e].Lc,u=[f];c&&b.a.ra(u,c);b.M.xc(d[e].cd,u);f.nodeValue="";f.parentNode&&f.parentNode.removeChild(f)}},lc:function(b){return(b=b.match(/^\[ko_memo\:(.*?)\]$/))?b[1]:null}}}();b.b("memoization",b.M);b.b("memoization.memoize",b.M.wb);b.b("memoization.unmemoize",b.M.xc);b.b("memoization.parseMemoText",b.M.lc);b.b("memoization.unmemoizeDomNodeAndDescendants",b.M.yc);b.Y=function(){function g(){if(d)for(var g=
d,a=0,e;h<d;)if(e=c[h++]){if(h>g){if(5E3<=++a){h=d;b.a.$b(Error("'Too much recursion' after processing "+a+" task groups."));break}g=d}try{e()}catch(l){b.a.$b(l)}}}function a(){g();h=d=c.length=0}var c=[],d=0,Q=1,h=0;return{scheduler:e.MutationObserver?function(b){var g=f.createElement("div");(new MutationObserver(b)).observe(g,{attributes:!0});return function(){g.classList.toggle("foo")}}(a):f&&"onreadystatechange"in f.createElement("script")?function(b){var g=f.createElement("script");g.onreadystatechange=
function(){g.onreadystatechange=null;f.documentElement.removeChild(g);g=null;b()};f.documentElement.appendChild(g)}:function(b){setTimeout(b,0)},Wa:function(g){d||b.Y.scheduler(a);c[d++]=g;return Q++},cancel:function(b){b-=Q-d;b>=h&&b<d&&(c[b]=null)},resetForTesting:function(){var b=d-h;h=d=c.length=0;return b},md:g}}();b.b("tasks",b.Y);b.b("tasks.schedule",b.Y.Wa);b.b("tasks.runEarly",b.Y.md);b.ya={throttle:function(g,a){g.throttleEvaluation=a;var c=null;return b.B({read:g,write:function(d){clearTimeout(c);
c=b.a.setTimeout(function(){g(d)},a)}})},rateLimit:function(b,a){var c,d,e;"number"==typeof a?c=a:(c=a.timeout,d=a.method);b.cb=!1;e="notifyWhenChangesStop"==d?U:F;b.Ta(function(b){return e(b,c)})},deferred:function(g,a){if(!0!==a)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");g.cb||(g.cb=!0,g.Ta(function(a){var d;return function(){b.Y.cancel(d);d=b.Y.Wa(a);g.notifySubscribers(c,"dirty")}}))},notify:function(b,a){b.equalityComparer=
"always"==a?null:y}};var X={undefined:1,"boolean":1,number:1,string:1};b.b("extenders",b.ya);b.vc=function(g,a,c){this.ia=g;this.gb=a;this.Kc=c;this.R=!1;b.G(this,"dispose",this.k)};b.vc.prototype.k=function(){this.R=!0;this.Kc()};b.J=function(){b.a.Ya(this,P);P.rb(this)};var V="change",P={rb:function(b){b.K={};b.Nb=1},X:function(g,a,c){var d=this;c=c||V;var e=new b.vc(d,a?g.bind(a):g,function(){b.a.La(d.K[c],e);d.Ia&&d.Ia(c)});d.sa&&d.sa(c);d.K[c]||(d.K[c]=[]);d.K[c].push(e);return e},notifySubscribers:function(g,
a){a=a||V;a===V&&this.zc();if(this.Pa(a))try{b.l.Ub();for(var c=this.K[a].slice(0),d=0,e;e=c[d];++d)e.R||e.gb(g)}finally{b.l.end()}},Na:function(){return this.Nb},Uc:function(b){return this.Na()!==b},zc:function(){++this.Nb},Ta:function(g){var a=this,c=b.H(a),d,e,f;a.Ha||(a.Ha=a.notifySubscribers,a.notifySubscribers=W);var h=g(function(){a.Mb=!1;c&&f===a&&(f=a());d=!1;a.tb(e,f)&&a.Ha(e=f)});a.Lb=function(b){a.Mb=d=!0;f=b;h()};a.Kb=function(b){d||(e=b,a.Ha(b,"beforeChange"))}},Pa:function(b){return this.K[b]&&
this.K[b].length},Sc:function(g){if(g)return this.K[g]&&this.K[g].length||0;var a=0;b.a.D(this.K,function(b,g){"dirty"!==b&&(a+=g.length)});return a},tb:function(b,a){return!this.equalityComparer||!this.equalityComparer(b,a)},extend:function(a){var c=this;a&&b.a.D(a,function(a,g){var d=b.ya[a];"function"==typeof d&&(c=d(c,g)||c)});return c}};b.G(P,"subscribe",P.X);b.G(P,"extend",P.extend);b.G(P,"getSubscriptionsCount",P.Sc);b.a.ka&&b.a.Xa(P,Function.prototype);b.J.fn=P;b.hc=function(b){return null!=
b&&"function"==typeof b.X&&"function"==typeof b.notifySubscribers};b.b("subscribable",b.J);b.b("isSubscribable",b.hc);b.va=b.l=function(){function a(b){d.push(e);e=b}function c(){e=d.pop()}var d=[],e,f=0;return{Ub:a,end:c,oc:function(a){if(e){if(!b.hc(a))throw Error("Only subscribable things can act as dependencies");e.gb.call(e.Gc,a,a.Cc||(a.Cc=++f))}},w:function(b,d,e){try{return a(),b.apply(d,e||[])}finally{c()}},Aa:function(){if(e)return e.m.Aa()},Sa:function(){if(e)return e.Sa}}}();b.b("computedContext",
b.va);b.b("computedContext.getDependenciesCount",b.va.Aa);b.b("computedContext.isInitial",b.va.Sa);b.b("ignoreDependencies",b.qd=b.l.w);var T=b.a.Yb("_latestValue");b.N=function(a){function c(){if(0<arguments.length)return c.tb(c[T],arguments[0])&&(c.ga(),c[T]=arguments[0],c.fa()),this;b.l.oc(c);return c[T]}c[T]=a;b.a.ka||b.a.extend(c,b.J.fn);b.J.fn.rb(c);b.a.Ya(c,M);b.options.deferUpdates&&b.ya.deferred(c,!0);return c};var M={equalityComparer:y,t:function(){return this[T]},fa:function(){this.notifySubscribers(this[T])},
ga:function(){this.notifySubscribers(this[T],"beforeChange")}};b.a.ka&&b.a.Xa(M,b.J.fn);var K=b.N.gd="__ko_proto__";M[K]=b.N;b.Oa=function(a,d){return null===a||a===c||a[K]===c?!1:a[K]===d?!0:b.Oa(a[K],d)};b.H=function(a){return b.Oa(a,b.N)};b.Ba=function(a){return"function"==typeof a&&a[K]===b.N||"function"==typeof a&&a[K]===b.B&&a.Vc?!0:!1};b.b("observable",b.N);b.b("isObservable",b.H);b.b("isWriteableObservable",b.Ba);b.b("isWritableObservable",b.Ba);b.b("observable.fn",M);b.G(M,"peek",M.t);b.G(M,
"valueHasMutated",M.fa);b.G(M,"valueWillMutate",M.ga);b.la=function(a){a=a||[];if("object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");a=b.N(a);b.a.Ya(a,b.la.fn);return a.extend({trackArrayChanges:!0})};b.la.fn={remove:function(a){for(var c=this.t(),d=[],e="function"!=typeof a||b.H(a)?function(b){return b===a}:a,f=0;f<c.length;f++){var h=c[f];e(h)&&(0===d.length&&this.ga(),d.push(h),c.splice(f,1),f--)}d.length&&
this.fa();return d},removeAll:function(a){if(a===c){var d=this.t(),e=d.slice(0);this.ga();d.splice(0,d.length);this.fa();return e}return a?this.remove(function(c){return 0<=b.a.o(a,c)}):[]},destroy:function(a){var c=this.t(),d="function"!=typeof a||b.H(a)?function(b){return b===a}:a;this.ga();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.fa()},destroyAll:function(a){return a===c?this.destroy(function(){return!0}):a?this.destroy(function(c){return 0<=b.a.o(a,c)}):[]},indexOf:function(a){var c=
this();return b.a.o(c,a)},replace:function(b,a){var c=this.indexOf(b);0<=c&&(this.ga(),this.t()[c]=a,this.fa())}};b.a.ka&&b.a.Xa(b.la.fn,b.N.fn);b.a.q("pop push reverse shift sort splice unshift".split(" "),function(a){b.la.fn[a]=function(){var b=this.t();this.ga();this.Vb(b,a,arguments);var c=b[a].apply(b,arguments);this.fa();return c===b?this:c}});b.a.q(["slice"],function(a){b.la.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});b.b("observableArray",b.la);b.ya.trackArrayChanges=function(a,
c){function d(){if(!e){e=!0;var c=a.notifySubscribers;a.notifySubscribers=function(b,a){a&&a!==V||++s;return c.apply(this,arguments)};var l=[].concat(a.t()||[]);f=null;h=a.X(function(c){c=[].concat(c||[]);if(a.Pa("arrayChange")){var d;if(!f||1<s)f=b.a.ib(l,c,a.hb);d=f}l=c;f=null;s=0;d&&d.length&&a.notifySubscribers(d,"arrayChange")})}}a.hb={};c&&"object"==typeof c&&b.a.extend(a.hb,c);a.hb.sparse=!0;if(!a.Vb){var e=!1,f=null,h,s=0,v=a.sa,u=a.Ia;a.sa=function(b){v&&v.call(a,b);"arrayChange"===b&&d()};
a.Ia=function(b){u&&u.call(a,b);"arrayChange"!==b||a.Pa("arrayChange")||(h.k(),e=!1)};a.Vb=function(a,c,d){function g(b,a,c){return l[l.length]={status:b,value:a,index:c}}if(e&&!s){var l=[],m=a.length,u=d.length,h=0;switch(c){case "push":h=m;case "unshift":for(c=0;c<u;c++)g("added",d[c],h+c);break;case "pop":h=m-1;case "shift":m&&g("deleted",a[h],h);break;case "splice":c=Math.min(Math.max(0,0>d[0]?m+d[0]:d[0]),m);for(var m=1===u?m:Math.min(c+(d[1]||0),m),u=c+u-2,h=Math.max(m,u),v=[],z=[],q=2;c<h;++c,
++q)c<m&&z.push(g("deleted",a[c],c)),c<u&&v.push(g("added",d[q],c));b.a.dc(z,v);break;default:return}f=l}}}};var B=b.a.Yb("_state");b.m=b.B=function(a,d,e){function f(){if(0<arguments.length){if("function"===typeof h)h.apply(z.pb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}b.l.oc(f);(z.S||z.s&&f.Qa())&&f.aa();return z.T}"object"===typeof a?e=a:(e=e||{},a&&(e.read=
a));if("function"!=typeof e.read)throw Error("Pass a function that returns the value of the ko.computed");var h=e.write,z={T:c,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:e.read,pb:d||e.owner,i:e.disposeWhenNodeIsRemoved||e.i||null,wa:e.disposeWhen||e.wa,mb:null,r:{},L:0,bc:null};f[B]=z;f.Vc="function"===typeof h;b.a.ka||b.a.extend(f,b.J.fn);b.J.fn.rb(f);b.a.Ya(f,C);e.pure?(z.Va=!0,z.s=!0,b.a.extend(f,r)):e.deferEvaluation&&b.a.extend(f,H);b.options.deferUpdates&&b.ya.deferred(f,!0);z.i&&(z.Fb=!0,z.i.nodeType||
(z.i=null));z.s||e.deferEvaluation||f.aa();z.i&&f.ba()&&b.a.F.oa(z.i,z.mb=function(){f.k()});return f};var C={equalityComparer:y,Aa:function(){return this[B].L},Pb:function(b,a,c){if(this[B].Va&&a===this)throw Error("A 'pure' computed must not be called recursively");this[B].r[b]=c;c.Ga=this[B].L++;c.na=a.Na()},Qa:function(){var b,a,c=this[B].r;for(b in c)if(c.hasOwnProperty(b)&&(a=c[b],a.ia.Uc(a.na)))return!0},bd:function(){this.Fa&&!this[B].Ra&&this.Fa()},ba:function(){return this[B].S||0<this[B].L},
ld:function(){this.Mb||this.ac()},uc:function(b){if(b.cb&&!this[B].i){var a=b.X(this.bd,this,"dirty"),c=b.X(this.ld,this);return{ia:b,k:function(){a.k();c.k()}}}return b.X(this.ac,this)},ac:function(){var a=this,c=a.throttleEvaluation;c&&0<=c?(clearTimeout(this[B].bc),this[B].bc=b.a.setTimeout(function(){a.aa(!0)},c)):a.Fa?a.Fa():a.aa(!0)},aa:function(a){var c=this[B],d=c.wa;if(!c.Ra&&!c.R){if(c.i&&!b.a.nb(c.i)||d&&d()){if(!c.Fb){this.k();return}}else c.Fb=!1;c.Ra=!0;try{this.Qc(a)}finally{c.Ra=!1}c.L||
this.k()}},Qc:function(a){var d=this[B],e=d.Va?c:!d.L,f={Hc:this,Ma:d.r,lb:d.L};b.l.Ub({Gc:f,gb:aa,m:this,Sa:e});d.r={};d.L=0;f=this.Pc(d,f);this.tb(d.T,f)&&(d.s||this.notifySubscribers(d.T,"beforeChange"),d.T=f,d.s?this.zc():a&&this.notifySubscribers(d.T));e&&this.notifySubscribers(d.T,"awake")},Pc:function(a,c){try{var d=a.jd;return a.pb?d.call(a.pb):d()}finally{b.l.end(),c.lb&&!a.s&&b.a.D(c.Ma,J),a.S=!1}},t:function(){var b=this[B];(b.S&&!b.L||b.s&&this.Qa())&&this.aa();return b.T},Ta:function(a){b.J.fn.Ta.call(this,
a);this.Fa=function(){this.Kb(this[B].T);this[B].S=!0;this.Lb(this)}},k:function(){var a=this[B];!a.s&&a.r&&b.a.D(a.r,function(b,a){a.k&&a.k()});a.i&&a.mb&&b.a.F.pc(a.i,a.mb);a.r=null;a.L=0;a.R=!0;a.S=!1;a.s=!1;a.i=null}},r={sa:function(a){var c=this,d=c[B];if(!d.R&&d.s&&"change"==a){d.s=!1;if(d.S||c.Qa())d.r=null,d.L=0,d.S=!0,c.aa();else{var e=[];b.a.D(d.r,function(b,a){e[a.Ga]=b});b.a.q(e,function(b,a){var g=d.r[b],e=c.uc(g.ia);e.Ga=a;e.na=g.na;d.r[b]=e})}d.R||c.notifySubscribers(d.T,"awake")}},
Ia:function(a){var d=this[B];d.R||"change"!=a||this.Pa("change")||(b.a.D(d.r,function(b,a){a.k&&(d.r[b]={ia:a.ia,Ga:a.Ga,na:a.na},a.k())}),d.s=!0,this.notifySubscribers(c,"asleep"))},Na:function(){var a=this[B];a.s&&(a.S||this.Qa())&&this.aa();return b.J.fn.Na.call(this)}},H={sa:function(b){"change"!=b&&"beforeChange"!=b||this.t()}};b.a.ka&&b.a.Xa(C,b.J.fn);var q=b.N.gd;b.m[q]=b.N;C[q]=b.m;b.Xc=function(a){return b.Oa(a,b.m)};b.Yc=function(a){return b.Oa(a,b.m)&&a[B]&&a[B].Va};b.b("computed",b.m);
b.b("dependentObservable",b.m);b.b("isComputed",b.Xc);b.b("isPureComputed",b.Yc);b.b("computed.fn",C);b.G(C,"peek",C.t);b.G(C,"dispose",C.k);b.G(C,"isActive",C.ba);b.G(C,"getDependenciesCount",C.Aa);b.nc=function(a,c){if("function"===typeof a)return b.m(a,c,{pure:!0});a=b.a.extend({},a);a.pure=!0;return b.m(a,c)};b.b("pureComputed",b.nc);(function(){function a(b,f,h){h=h||new e;b=f(b);if("object"!=typeof b||null===b||b===c||b instanceof RegExp||b instanceof Date||b instanceof String||b instanceof
Number||b instanceof Boolean)return b;var s=b instanceof Array?[]:{};h.save(b,s);d(b,function(d){var e=f(b[d]);switch(typeof e){case "boolean":case "number":case "string":case "function":s[d]=e;break;case "object":case "undefined":var p=h.get(e);s[d]=p!==c?p:a(e,f,h)}});return s}function d(b,a){if(b instanceof Array){for(var c=0;c<b.length;c++)a(c);"function"==typeof b.toJSON&&a("toJSON")}else for(c in b)a(c)}function e(){this.keys=[];this.Ib=[]}b.wc=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");
return a(c,function(a){for(var c=0;b.H(a)&&10>c;c++)a=a();return a})};b.toJSON=function(a,c,d){a=b.wc(a);return b.a.Eb(a,c,d)};e.prototype={save:function(a,c){var d=b.a.o(this.keys,a);0<=d?this.Ib[d]=c:(this.keys.push(a),this.Ib.push(c))},get:function(a){a=b.a.o(this.keys,a);return 0<=a?this.Ib[a]:c}}})();b.b("toJS",b.wc);b.b("toJSON",b.toJSON);(function(){b.j={u:function(a){switch(b.a.A(a)){case "option":return!0===a.__ko__hasDomDataOptionValue__?b.a.e.get(a,b.d.options.xb):7>=b.a.C?a.getAttributeNode("value")&&
a.getAttributeNode("value").specified?a.value:a.text:a.value;case "select":return 0<=a.selectedIndex?b.j.u(a.options[a.selectedIndex]):c;default:return a.value}},ha:function(a,d,e){switch(b.a.A(a)){case "option":switch(typeof d){case "string":b.a.e.set(a,b.d.options.xb,c);"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__;a.value=d;break;default:b.a.e.set(a,b.d.options.xb,d),a.__ko__hasDomDataOptionValue__=!0,a.value="number"===typeof d?d:""}break;case "select":if(""===d||
null===d)d=c;for(var f=-1,h=0,z=a.options.length,s;h<z;++h)if(s=b.j.u(a.options[h]),s==d||""==s&&d===c){f=h;break}if(e||0<=f||d===c&&1<a.size)a.selectedIndex=f;break;default:if(null===d||d===c)d="";a.value=d}}}})();b.b("selectExtensions",b.j);b.b("selectExtensions.readValue",b.j.u);b.b("selectExtensions.writeValue",b.j.ha);b.h=function(){function a(c){c=b.a.$a(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var d=[],g=c.match(e),m,l=[],s=0;if(g){g.push(",");for(var N=0,k;k=g[N];++N){var x=k.charCodeAt(0);
if(44===x){if(0>=s){d.push(m&&l.length?{key:m,value:l.join("")}:{unknown:m||l.join("")});m=s=0;l=[];continue}}else if(58===x){if(!s&&!m&&1===l.length){m=l.pop();continue}}else 47===x&&N&&1<k.length?(x=g[N-1].match(f))&&!h[x[0]]&&(c=c.substr(c.indexOf(k)+1),g=c.match(e),g.push(","),N=-1,k="/"):40===x||123===x||91===x?++s:41===x||125===x||93===x?--s:m||l.length||34!==x&&39!==x||(k=k.slice(1,-1));l.push(k)}}return d}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,
e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,f=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},s={};return{ta:[],ea:s,yb:a,Ua:function(e,f){function p(a,e){var g;if(!N){var f=b.getBindingHandler(a);if(f&&f.preprocess&&!(e=f.preprocess(e,a,p)))return;if(f=s[a])g=e,0<=b.a.o(c,g)?g=!1:(f=g.match(d),g=null===f?!1:f[1]?"Object("+f[1]+")"+f[2]:g),f=g;f&&w.push("'"+a+"':function(_z){"+g+"=_z}")}Q&&(e="function(){return "+e+" }");h.push("'"+
a+"':"+e)}f=f||{};var h=[],w=[],Q=f.valueAccessors,N=f.bindingParams,k="string"===typeof e?a(e):e;b.a.q(k,function(b){p(b.key||b.unknown,b.value)});w.length&&p("_ko_property_writers","{"+w.join(",")+" }");return h.join(",")},ad:function(b,a){for(var c=0;c<b.length;c++)if(b[c].key==a)return!0;return!1},Ea:function(a,c,d,e,g){if(a&&b.H(a))!b.Ba(a)||g&&a.t()===e||a(e);else if((a=c.get("_ko_property_writers"))&&a[d])a[d](e)}}}();b.b("expressionRewriting",b.h);b.b("expressionRewriting.bindingRewriteValidators",
b.h.ta);b.b("expressionRewriting.parseObjectLiteral",b.h.yb);b.b("expressionRewriting.preProcessBindings",b.h.Ua);b.b("expressionRewriting._twoWayBindings",b.h.ea);b.b("jsonExpressionRewriting",b.h);b.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",b.h.Ua);(function(){function a(b){return 8==b.nodeType&&z.test(h?b.text:b.nodeValue)}function c(b){return 8==b.nodeType&&s.test(h?b.text:b.nodeValue)}function d(b,e){for(var f=b,h=1,m=[];f=f.nextSibling;){if(c(f)&&(h--,0===h))return m;m.push(f);
a(f)&&h++}if(!e)throw Error("Cannot find closing comment tag to match: "+b.nodeValue);return null}function e(b,a){var c=d(b,a);return c?0<c.length?c[c.length-1].nextSibling:b.nextSibling:null}var h=f&&"\x3c!--test--\x3e"===f.createComment("test").text,z=h?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=h?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,v={ul:!0,ol:!0};b.f={Z:{},childNodes:function(b){return a(b)?d(b):b.childNodes},xa:function(c){if(a(c)){c=b.f.childNodes(c);for(var d=
0,e=c.length;d<e;d++)b.removeNode(c[d])}else b.a.ob(c)},da:function(c,d){if(a(c)){b.f.xa(c);for(var e=c.nextSibling,f=0,h=d.length;f<h;f++)e.parentNode.insertBefore(d[f],e)}else b.a.da(c,d)},mc:function(b,c){a(b)?b.parentNode.insertBefore(c,b.nextSibling):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c)},gc:function(c,d,e){e?a(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):b.f.mc(c,d)},firstChild:function(b){return a(b)?!b.nextSibling||
c(b.nextSibling)?null:b.nextSibling:b.firstChild},nextSibling:function(b){a(b)&&(b=e(b));return b.nextSibling&&c(b.nextSibling)?null:b.nextSibling},Tc:a,pd:function(b){return(b=(h?b.text:b.nodeValue).match(z))?b[1]:null},kc:function(d){if(v[b.a.A(d)]){var f=d.firstChild;if(f){do if(1===f.nodeType){var h;h=f.firstChild;var m=null;if(h){do if(m)m.push(h);else if(a(h)){var s=e(h,!0);s?h=s:m=[h]}else c(h)&&(m=[h]);while(h=h.nextSibling)}if(h=m)for(m=f.nextSibling,s=0;s<h.length;s++)m?d.insertBefore(h[s],
m):d.appendChild(h[s])}while(f=f.nextSibling)}}}}})();b.b("virtualElements",b.f);b.b("virtualElements.allowedBindings",b.f.Z);b.b("virtualElements.emptyNode",b.f.xa);b.b("virtualElements.insertAfter",b.f.gc);b.b("virtualElements.prepend",b.f.mc);b.b("virtualElements.setDomNodeChildren",b.f.da);(function(){b.Q=function(){this.Fc={}};b.a.extend(b.Q.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute("data-bind")||b.g.getComponentNameForNode(a);case 8:return b.f.Tc(a);
default:return!1}},getBindings:function(a,c){var d=this.getBindingsString(a,c),d=d?this.parseBindingsString(d,c,a):null;return b.g.Ob(d,a,c,!1)},getBindingAccessors:function(a,c){var d=this.getBindingsString(a,c),d=d?this.parseBindingsString(d,c,a,{valueAccessors:!0}):null;return b.g.Ob(d,a,c,!0)},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return b.f.pd(a);default:return null}},parseBindingsString:function(a,c,d,e){try{var f=this.Fc,h=a+(e&&e.valueAccessors||
""),s;if(!(s=f[h])){var v,u="with($context){with($data||{}){return{"+b.h.Ua(a,e)+"}}}";v=new Function("$context","$element",u);s=f[h]=v}return s(c,d)}catch(p){throw p.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+p.message,p;}}});b.Q.instance=new b.Q})();b.b("bindingProvider",b.Q);(function(){function d(b){return function(){return b}}function f(b){return b()}function h(a){return b.a.Ca(b.l.w(a),function(b,c){return function(){return a()[c]}})}function w(a,c,e){return"function"===
typeof a?h(a.bind(null,c,e)):b.a.Ca(a,d)}function Q(b,a){return h(this.getBindings.bind(this,b,a))}function q(a,c,d){var e,g=b.f.firstChild(c),f=b.Q.instance,h=f.preprocessNode;if(h){for(;e=g;)g=b.f.nextSibling(e),h.call(f,e);g=b.f.firstChild(c)}for(;e=g;)g=b.f.nextSibling(e),s(a,e,d)}function s(a,c,d){var e=!0,g=1===c.nodeType;g&&b.f.kc(c);if(g&&d||b.Q.instance.nodeHasBindings(c))e=u(c,null,a,d).shouldBindDescendants;e&&!E[b.a.A(c)]&&q(a,c,!g)}function v(a){var c=[],d={},e=[];b.a.D(a,function O(g){if(!d[g]){var f=
b.getBindingHandler(g);f&&(f.after&&(e.push(g),b.a.q(f.after,function(c){if(a[c]){if(-1!==b.a.o(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));O(c)}}),e.length--),c.push({key:g,fc:f}));d[g]=!0}});return c}function u(a,d,e,g){var h=b.a.e.get(a,r);if(!d){if(h)throw Error("You cannot apply bindings multiple times to the same element.");b.a.e.set(a,r,!0)}!h&&g&&b.tc(a,e);var p;if(d&&"function"!==typeof d)p=d;else{var m=b.Q.instance,u=m.getBindingAccessors||
Q,w=b.B(function(){(p=d?d(e,a):u.call(m,a,e))&&e.P&&e.P();return p},null,{i:a});p&&w.ba()||(w=null)}var s;if(p){var E=w?function(b){return function(){return f(w()[b])}}:function(b){return p[b]},q=function(){return b.a.Ca(w?w():p,f)};q.get=function(b){return p[b]&&f(E(b))};q.has=function(b){return b in p};g=v(p);b.a.q(g,function(d){var g=d.fc.init,f=d.fc.update,h=d.key;if(8===a.nodeType&&!b.f.Z[h])throw Error("The binding '"+h+"' cannot be used with virtual elements");try{"function"==typeof g&&b.l.w(function(){var b=
g(a,E(h),q,e.$data,e);if(b&&b.controlsDescendantBindings){if(s!==c)throw Error("Multiple bindings ("+s+" and "+h+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");s=h}}),"function"==typeof f&&b.B(function(){f(a,E(h),q,e.$data,e)},null,{i:a})}catch(m){throw m.message='Unable to process binding "'+h+": "+p[h]+'"\nMessage: '+m.message,m;}})}return{shouldBindDescendants:s===c}}function p(a){return a&&a instanceof b.U?a:new b.U(a)}
b.d={};var E={script:!0,textarea:!0,template:!0};b.getBindingHandler=function(a){return b.d[a]};b.U=function(a,d,e,g){var f=this,h="function"==typeof a&&!b.H(a),p,m=b.B(function(){var c=h?a():a,p=b.a.c(c);d?(d.P&&d.P(),b.a.extend(f,d),m&&(f.P=m)):(f.$parents=[],f.$root=p,f.ko=b);f.$rawData=c;f.$data=p;e&&(f[e]=p);g&&g(f,d,p);return f.$data},null,{wa:function(){return p&&!b.a.Qb(p)},i:!0});m.ba()&&(f.P=m,m.equalityComparer=null,p=[],m.Ac=function(a){p.push(a);b.a.F.oa(a,function(a){b.a.La(p,a);p.length||
(m.k(),f.P=m=c)})})};b.U.prototype.createChildContext=function(a,c,d){return new b.U(a,this,c,function(b,a){b.$parentContext=a;b.$parent=a.$data;b.$parents=(a.$parents||[]).slice(0);b.$parents.unshift(b.$parent);d&&d(b)})};b.U.prototype.extend=function(a){return new b.U(this.P||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;b.a.extend(c,"function"==typeof a?a():a)})};var r=b.a.e.I(),n=b.a.e.I();b.tc=function(a,c){if(2==arguments.length)b.a.e.set(a,n,c),c.P&&c.P.Ac(a);else return b.a.e.get(a,
n)};b.Ja=function(a,c,d){1===a.nodeType&&b.f.kc(a);return u(a,c,p(d),!0)};b.Dc=function(a,c,d){d=p(d);return b.Ja(a,w(c,d,a),d)};b.eb=function(b,a){1!==a.nodeType&&8!==a.nodeType||q(p(b),a,!0)};b.Rb=function(b,c){!a&&e.jQuery&&(a=e.jQuery);if(c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||e.document.body;s(p(b),c,!0)};b.kb=function(a){switch(a.nodeType){case 1:case 8:var d=b.tc(a);if(d)return d;
if(a.parentNode)return b.kb(a.parentNode)}return c};b.Jc=function(a){return(a=b.kb(a))?a.$data:c};b.b("bindingHandlers",b.d);b.b("applyBindings",b.Rb);b.b("applyBindingsToDescendants",b.eb);b.b("applyBindingAccessorsToNode",b.Ja);b.b("applyBindingsToNode",b.Dc);b.b("contextFor",b.kb);b.b("dataFor",b.Jc)})();(function(a){function c(e,l){var u=f.hasOwnProperty(e)?f[e]:a,p;u?u.X(l):(u=f[e]=new b.J,u.X(l),d(e,function(a,c){var d=!(!c||!c.synchronous);h[e]={definition:a,Zc:d};delete f[e];p||d?u.notifySubscribers(a):
b.Y.Wa(function(){u.notifySubscribers(a)})}),p=!0)}function d(b,a){e("getConfig",[b],function(c){c?e("loadComponent",[b,c],function(b){a(b,c)}):a(null,null)})}function e(c,d,f,h){h||(h=b.g.loaders.slice(0));var m=h.shift();if(m){var l=m[c];if(l){var q=!1;if(l.apply(m,d.concat(function(b){q?f(null):null!==b?f(b):e(c,d,f,h)}))!==a&&(q=!0,!m.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,h)}else f(null)}
var f={},h={};b.g={get:function(d,e){var f=h.hasOwnProperty(d)?h[d]:a;f?f.Zc?b.l.w(function(){e(f.definition)}):b.Y.Wa(function(){e(f.definition)}):c(d,e)},Xb:function(b){delete h[b]},Jb:e};b.g.loaders=[];b.b("components",b.g);b.b("components.get",b.g.get);b.b("components.clearCachedDefinition",b.g.Xb)})();(function(){function a(c,d,e,g){function f(){0===--m&&g(h)}var h={},m=2,l=e.template;e=e.viewModel;l?q(d,l,function(a){b.g.Jb("loadTemplate",[c,a],function(b){h.template=b;f()})}):f();e?q(d,e,function(a){b.g.Jb("loadViewModel",
[c,a],function(b){h[v]=b;f()})}):f()}function c(b,a,d){if("function"===typeof a)d(function(b){return new a(b)});else if("function"===typeof a[v])d(a[v]);else if("instance"in a){var e=a.instance;d(function(){return e})}else"viewModel"in a?c(b,a.viewModel,d):b("Unknown viewModel value: "+a)}function d(a){switch(b.a.A(a)){case "script":return b.a.ma(a.text);case "textarea":return b.a.ma(a.value);case "template":if(h(a.content))return b.a.ua(a.content.childNodes)}return b.a.ua(a.childNodes)}function h(b){return e.DocumentFragment?
b instanceof DocumentFragment:b&&11===b.nodeType}function q(b,a,c){"string"===typeof a.require?t||e.require?(t||e.require)([a.require],c):b("Uses require, but no AMD loader is present"):c(a)}function z(b){return function(a){throw Error("Component '"+b+"': "+a);}}var s={};b.g.register=function(a,c){if(!c)throw Error("Invalid configuration for "+a);if(b.g.ub(a))throw Error("Component "+a+" is already registered");s[a]=c};b.g.ub=function(b){return s.hasOwnProperty(b)};b.g.od=function(a){delete s[a];
b.g.Xb(a)};b.g.Zb={getConfig:function(b,a){a(s.hasOwnProperty(b)?s[b]:null)},loadComponent:function(b,c,d){var e=z(b);q(e,c,function(c){a(b,e,c,d)})},loadTemplate:function(a,c,g){a=z(a);if("string"===typeof c)g(b.a.ma(c));else if(c instanceof Array)g(c);else if(h(c))g(b.a.V(c.childNodes));else if(c.element)if(c=c.element,e.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)g(d(c));else if("string"===typeof c){var l=f.getElementById(c);l?g(d(l)):a("Cannot find element with ID "+c)}else a("Unknown element type: "+
c);else a("Unknown template value: "+c)},loadViewModel:function(b,a,d){c(z(b),a,d)}};var v="createViewModel";b.b("components.register",b.g.register);b.b("components.isRegistered",b.g.ub);b.b("components.unregister",b.g.od);b.b("components.defaultLoader",b.g.Zb);b.g.loaders.push(b.g.Zb);b.g.Bc=s})();(function(){function a(d,e){var g=d.getAttribute("params");if(g){var g=c.parseBindingsString(g,e,d,{valueAccessors:!0,bindingParams:!0}),g=b.a.Ca(g,function(a){return b.m(a,null,{i:d})}),f=b.a.Ca(g,function(a){var c=
a.t();return a.ba()?b.m({read:function(){return b.a.c(a())},write:b.Ba(c)&&function(b){a()(b)},i:d}):c});f.hasOwnProperty("$raw")||(f.$raw=g);return f}return{$raw:{}}}b.g.getComponentNameForNode=function(a){var c=b.a.A(a);if(b.g.ub(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+a||8>=b.a.C&&a.tagName===c))return c};b.g.Ob=function(c,d,e,f){if(1===d.nodeType){var h=b.g.getComponentNameForNode(d);if(h){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var l={name:h,params:a(d,e)};c.component=f?function(){return l}:l}}return c};var c=new b.Q;9>b.a.C&&(b.g.register=function(b){return function(a){f.createElement(a);return b.apply(this,arguments)}}(b.g.register),f.createDocumentFragment=function(a){return function(){var c=a(),d=b.g.Bc,e;for(e in d)d.hasOwnProperty(e)&&c.createElement(e);return c}}(f.createDocumentFragment))})();(function(a){function c(a,d,e){d=d.template;if(!d)throw Error("Component '"+a+"' has no template");a=b.a.ua(d);b.f.da(e,a)}
function d(b,a,c,e){var g=b.createViewModel;return g?g.call(b,e,{element:a,templateNodes:c}):e}var e=0;b.d.component={init:function(f,h,q,v,u){function p(){var b=r&&r.dispose;"function"===typeof b&&b.call(r);n=r=null}var r,n,H=b.a.V(b.f.childNodes(f));b.a.F.oa(f,p);b.m(function(){var v=b.a.c(h()),k,q;"string"===typeof v?k=v:(k=b.a.c(v.name),q=b.a.c(v.params));if(!k)throw Error("No component name specified");var s=n=++e;b.g.get(k,function(e){if(n===s){p();if(!e)throw Error("Unknown component '"+k+
"'");c(k,e,f);var h=d(e,f,H,q);e=u.createChildContext(h,a,function(b){b.$component=h;b.$componentTemplateNodes=H});r=h;b.eb(e,f)}})},null,{i:f});return{controlsDescendantBindings:!0}}};b.f.Z.component=!0})();var D={"class":"className","for":"htmlFor"};b.d.attr={update:function(a,d){var e=b.a.c(d())||{};b.a.D(e,function(d,e){e=b.a.c(e);var f=!1===e||null===e||e===c;f&&a.removeAttribute(d);8>=b.a.C&&d in D?(d=D[d],f?a.removeAttribute(d):a[d]=e):f||a.setAttribute(d,e.toString());"name"===d&&b.a.rc(a,
f?"":e.toString())})}};(function(){b.d.checked={after:["value","attr"],init:function(a,d,e){function f(){var c=a.checked,h=H?q():c;if(!b.va.Sa()&&(!v||c)){var w=b.l.w(d);if(p){var s=r?w.t():w;n!==h?(c&&(b.a.pa(s,h,!0),b.a.pa(s,n,!1)),n=h):b.a.pa(s,h,c);r&&b.Ba(w)&&w(s)}else b.h.Ea(w,e,"checked",h,!0)}}function h(){var c=b.a.c(d());a.checked=p?0<=b.a.o(c,q()):s?c:q()===c}var q=b.nc(function(){return e.has("checkedValue")?b.a.c(e.get("checkedValue")):e.has("value")?b.a.c(e.get("value")):a.value}),s=
"checkbox"==a.type,v="radio"==a.type;if(s||v){var u=d(),p=s&&b.a.c(u)instanceof Array,r=!(p&&u.push&&u.splice),n=p?q():c,H=v||p;v&&!a.name&&b.d.uniqueName.init(a,function(){return!0});b.m(f,null,{i:a});b.a.p(a,"click",f);b.m(h,null,{i:a});u=c}}};b.h.ea.checked=!0;b.d.checkedValue={update:function(a,c){a.value=b.a.c(c())}}})();b.d.css={update:function(a,c){var d=b.a.c(c());null!==d&&"object"==typeof d?b.a.D(d,function(c,d){d=b.a.c(d);b.a.bb(a,c,d)}):(d=b.a.$a(String(d||"")),b.a.bb(a,a.__ko__cssValue,
!1),a.__ko__cssValue=d,b.a.bb(a,d,!0))}};b.d.enable={update:function(a,c){var d=b.a.c(c());d&&a.disabled?a.removeAttribute("disabled"):d||a.disabled||(a.disabled=!0)}};b.d.disable={update:function(a,c){b.d.enable.update(a,function(){return!b.a.c(c())})}};b.d.event={init:function(a,c,d,e,f){var h=c()||{};b.a.D(h,function(h){"string"==typeof h&&b.a.p(a,h,function(a){var g,p=c()[h];if(p){try{var q=b.a.V(arguments);e=f.$data;q.unshift(e);g=p.apply(e,q)}finally{!0!==g&&(a.preventDefault?a.preventDefault():
a.returnValue=!1)}!1===d.get(h+"Bubble")&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())}})})}};b.d.foreach={ic:function(a){return function(){var c=a(),d=b.a.zb(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:b.W.sb};b.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:b.W.sb}}},init:function(a,c){return b.d.template.init(a,
b.d.foreach.ic(c))},update:function(a,c,d,e,f){return b.d.template.update(a,b.d.foreach.ic(c),d,e,f)}};b.h.ta.foreach=!1;b.f.Z.foreach=!0;b.d.hasfocus={init:function(a,c,d){function e(f){a.__ko_hasfocusUpdating=!0;var h=a.ownerDocument;if("activeElement"in h){var q;try{q=h.activeElement}catch(p){q=h.body}f=q===a}h=c();b.h.Ea(h,d,"hasfocus",f,!0);a.__ko_hasfocusLastValue=f;a.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),h=e.bind(null,!1);b.a.p(a,"focus",f);b.a.p(a,"focusin",f);b.a.p(a,"blur",h);b.a.p(a,
"focusout",h)},update:function(a,c){var d=!!b.a.c(c());a.__ko_hasfocusUpdating||a.__ko_hasfocusLastValue===d||(d?a.focus():a.blur(),!d&&a.__ko_hasfocusLastValue&&a.ownerDocument.body.focus(),b.l.w(b.a.Da,null,[a,d?"focusin":"focusout"]))}};b.h.ea.hasfocus=!0;b.d.hasFocus=b.d.hasfocus;b.h.ea.hasFocus=!0;b.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c){b.a.Cb(a,c())}};ca("if");ca("ifnot",!1,!0);ca("with",!0,!1,function(b,a){return b.createChildContext(a)});var R=
{};b.d.options={init:function(a){if("select"!==b.a.A(a))throw Error("options binding applies only to SELECT elements");for(;0<a.length;)a.remove(0);return{controlsDescendantBindings:!0}},update:function(a,d,e){function f(){return b.a.Ka(a.options,function(b){return b.selected})}function h(b,a,c){var d=typeof a;return"function"==d?a(b):"string"==d?b[a]:c}function q(c,d){if(t&&p)b.j.ha(a,b.a.c(e.get("value")),!0);else if(G.length){var f=0<=b.a.o(G,b.j.u(d[0]));b.a.sc(d[0],f);t&&!f&&b.l.w(b.a.Da,null,
[a,"change"])}}var r=a.multiple,v=0!=a.length&&r?a.scrollTop:null,u=b.a.c(d()),p=e.get("valueAllowUnset")&&e.has("value"),n=e.get("optionsIncludeDestroyed");d={};var H,G=[];p||(r?G=b.a.fb(f(),b.j.u):0<=a.selectedIndex&&G.push(b.j.u(a.options[a.selectedIndex])));u&&("undefined"==typeof u.length&&(u=[u]),H=b.a.Ka(u,function(a){return n||a===c||null===a||!b.a.c(a._destroy)}),e.has("optionsCaption")&&(u=b.a.c(e.get("optionsCaption")),null!==u&&u!==c&&H.unshift(R)));var t=!1;d.beforeRemove=function(b){a.removeChild(b)};
u=q;e.has("optionsAfterRender")&&"function"==typeof e.get("optionsAfterRender")&&(u=function(a,d){q(0,d);b.l.w(e.get("optionsAfterRender"),null,[d[0],a!==R?a:c])});b.a.Bb(a,H,function(d,f,l){l.length&&(G=!p&&l[0].selected?[b.j.u(l[0])]:[],t=!0);f=a.ownerDocument.createElement("option");d===R?(b.a.Za(f,e.get("optionsCaption")),b.j.ha(f,c)):(l=h(d,e.get("optionsValue"),d),b.j.ha(f,b.a.c(l)),d=h(d,e.get("optionsText"),l),b.a.Za(f,d));return[f]},d,u);b.l.w(function(){p?b.j.ha(a,b.a.c(e.get("value")),
!0):(r?G.length&&f().length<G.length:G.length&&0<=a.selectedIndex?b.j.u(a.options[a.selectedIndex])!==G[0]:G.length||0<=a.selectedIndex)&&b.a.Da(a,"change")});b.a.Nc(a);v&&20<Math.abs(v-a.scrollTop)&&(a.scrollTop=v)}};b.d.options.xb=b.a.e.I();b.d.selectedOptions={after:["options","foreach"],init:function(a,c,d){b.a.p(a,"change",function(){var e=c(),f=[];b.a.q(a.getElementsByTagName("option"),function(a){a.selected&&f.push(b.j.u(a))});b.h.Ea(e,d,"selectedOptions",f)})},update:function(a,c){if("select"!=
b.a.A(a))throw Error("values binding applies only to SELECT elements");var d=b.a.c(c()),e=a.scrollTop;d&&"number"==typeof d.length&&b.a.q(a.getElementsByTagName("option"),function(a){var c=0<=b.a.o(d,b.j.u(a));a.selected!=c&&b.a.sc(a,c)});a.scrollTop=e}};b.h.ea.selectedOptions=!0;b.d.style={update:function(a,d){var e=b.a.c(d()||{});b.a.D(e,function(d,e){e=b.a.c(e);if(null===e||e===c||!1===e)e="";a.style[d]=e})}};b.d.submit={init:function(a,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");
b.a.p(a,"submit",function(b){var d,e=c();try{d=e.call(f.$data,a)}finally{!0!==d&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}})}};b.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c){b.a.Za(a,c())}};b.f.Z.text=!0;(function(){if(e&&e.navigator)var a=function(b){if(b)return parseFloat(b[1])},d=e.opera&&e.opera.version&&parseInt(e.opera.version()),f=e.navigator.userAgent,h=a(f.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),q=a(f.match(/Firefox\/([^ ]*)/));
if(10>b.a.C)var r=b.a.e.I(),s=b.a.e.I(),v=function(a){var c=this.activeElement;(c=c&&b.a.e.get(c,s))&&c(a)},u=function(a,c){var d=a.ownerDocument;b.a.e.get(d,r)||(b.a.e.set(d,r,!0),b.a.p(d,"selectionchange",v));b.a.e.set(a,s,c)};b.d.textInput={init:function(a,e,f){function g(c,d){b.a.p(a,c,d)}function m(){var d=b.a.c(e());if(null===d||d===c)d="";H!==c&&d===H?b.a.setTimeout(m,4):a.value!==d&&(s=d,a.value=d)}function v(){n||(H=a.value,n=b.a.setTimeout(r,4))}function r(){clearTimeout(n);H=n=c;var d=
a.value;s!==d&&(s=d,b.h.Ea(e(),f,"textInput",d))}var s=a.value,n,H,z=9==b.a.C?v:r;10>b.a.C?(g("propertychange",function(b){"value"===b.propertyName&&z(b)}),8==b.a.C&&(g("keyup",r),g("keydown",r)),8<=b.a.C&&(u(a,z),g("dragend",v))):(g("input",r),5>h&&"textarea"===b.a.A(a)?(g("keydown",v),g("paste",v),g("cut",v)):11>d?g("keydown",v):4>q&&(g("DOMAutoComplete",r),g("dragdrop",r),g("drop",r)));g("change",r);b.m(m,null,{i:a})}};b.h.ea.textInput=!0;b.d.textinput={preprocess:function(b,a,c){c("textInput",
b)}}})();b.d.uniqueName={init:function(a,c){if(c()){var d="ko_unique_"+ ++b.d.uniqueName.Ic;b.a.rc(a,d)}}};b.d.uniqueName.Ic=0;b.d.value={after:["options","foreach"],init:function(a,c,d){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var e=["change"],f=d.get("valueUpdate"),h=!1,q=null;f&&("string"==typeof f&&(f=[f]),b.a.ra(e,f),e=b.a.Tb(e));var r=function(){q=null;h=!1;var e=c(),f=b.j.u(a);b.h.Ea(e,d,"value",f)};!b.a.C||"input"!=a.tagName.toLowerCase()||"text"!=a.type||
"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=b.a.o(e,"propertychange")||(b.a.p(a,"propertychange",function(){h=!0}),b.a.p(a,"focus",function(){h=!1}),b.a.p(a,"blur",function(){h&&r()}));b.a.q(e,function(c){var d=r;b.a.nd(c,"after")&&(d=function(){q=b.j.u(a);b.a.setTimeout(r,0)},c=c.substring(5));b.a.p(a,c,d)});var u=function(){var e=b.a.c(c()),f=b.j.u(a);if(null!==q&&e===q)b.a.setTimeout(u,0);else if(e!==f)if("select"===b.a.A(a)){var h=d.get("valueAllowUnset"),f=function(){b.j.ha(a,
e,h)};f();h||e===b.j.u(a)?b.a.setTimeout(f,0):b.l.w(b.a.Da,null,[a,"change"])}else b.j.ha(a,e)};b.m(u,null,{i:a})}else b.Ja(a,{checkedValue:c})},update:function(){}};b.h.ea.value=!0;b.d.visible={update:function(a,c){var d=b.a.c(c()),e="none"!=a.style.display;d&&!e?a.style.display="":!d&&e&&(a.style.display="none")}};(function(a){b.d[a]={init:function(c,d,e,f,h){return b.d.event.init.call(this,c,function(){var b={};b[a]=d();return b},e,f,h)}}})("click");b.O=function(){};b.O.prototype.renderTemplateSource=
function(){throw Error("Override renderTemplateSource");};b.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};b.O.prototype.makeTemplateSource=function(a,c){if("string"==typeof a){c=c||f;var d=c.getElementById(a);if(!d)throw Error("Cannot find template with ID "+a);return new b.v.n(d)}if(1==a.nodeType||8==a.nodeType)return new b.v.qa(a);throw Error("Unknown template type: "+a);};b.O.prototype.renderTemplate=function(b,a,c,d){b=this.makeTemplateSource(b,
d);return this.renderTemplateSource(b,a,c,d)};b.O.prototype.isTemplateRewritten=function(b,a){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(b,a).data("isRewritten")};b.O.prototype.rewriteTemplate=function(b,a,c){b=this.makeTemplateSource(b,c);a=a(b.text());b.text(a);b.data("isRewritten",!0)};b.b("templateEngine",b.O);b.Gb=function(){function a(c,d,e,f){c=b.h.yb(c);for(var g=b.h.ta,h=0;h<c.length;h++){var q=c[h].key;if(g.hasOwnProperty(q)){var r=g[q];if("function"===typeof r){if(q=
r(c[h].value))throw Error(q);}else if(!r)throw Error("This template engine does not support the '"+q+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+b.h.Ua(c,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(a,
c,d){c.isTemplateRewritten(a,d)||c.rewriteTemplate(a,function(a){return b.Gb.dd(a,c)},d)},dd:function(b,e){return b.replace(c,function(b,c,d,f,h){return a(h,c,d,e)}).replace(d,function(b,c){return a(c,"\x3c!-- ko --\x3e","#comment",e)})},Ec:function(a,c){return b.M.wb(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&b.Ja(f,a,e)})}}}();b.b("__tr_ambtns",b.Gb.Ec);(function(){b.v={};b.v.n=function(a){if(this.n=a){var c=b.a.A(a);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&
a.content&&11===a.content.nodeType?3:4}};b.v.n.prototype.text=function(){var a=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[a];var c=arguments[0];"innerHTML"===a?b.a.Cb(this.n,c):this.n[a]=c};var a=b.a.e.I()+"_";b.v.n.prototype.data=function(c){if(1===arguments.length)return b.a.e.get(this.n,a+c);b.a.e.set(this.n,a+c,arguments[1])};var d=b.a.e.I();b.v.n.prototype.nodes=function(){var a=this.n;if(0==arguments.length)return(b.a.e.get(a,d)||{}).jb||(3===this.ab?
a.content:4===this.ab?a:c);b.a.e.set(a,d,{jb:arguments[0]})};b.v.qa=function(b){this.n=b};b.v.qa.prototype=new b.v.n;b.v.qa.prototype.text=function(){if(0==arguments.length){var a=b.a.e.get(this.n,d)||{};a.Hb===c&&a.jb&&(a.Hb=a.jb.innerHTML);return a.Hb}b.a.e.set(this.n,d,{Hb:arguments[0]})};b.b("templateSources",b.v);b.b("templateSources.domElement",b.v.n);b.b("templateSources.anonymousTemplate",b.v.qa)})();(function(){function a(c,d,e){var f;for(d=b.f.nextSibling(d);c&&(f=c)!==d;)c=b.f.nextSibling(f),
e(f,c)}function d(c,e){if(c.length){var f=c[0],h=c[c.length-1],q=f.parentNode,r=b.Q.instance,l=r.preprocessNode;if(l){a(f,h,function(b,a){var c=b.previousSibling,d=l.call(r,b);d&&(b===f&&(f=d[0]||a),b===h&&(h=d[d.length-1]||c))});c.length=0;if(!f)return;f===h?c.push(f):(c.push(f,h),b.a.za(c,q))}a(f,h,function(a){1!==a.nodeType&&8!==a.nodeType||b.Rb(e,a)});a(f,h,function(a){1!==a.nodeType&&8!==a.nodeType||b.M.yc(a,[e])});b.a.za(c,q)}}function e(b){return b.nodeType?b:0<b.length?b[0]:null}function f(a,
c,g,h,r){r=r||{};var n=(a&&e(a)||g||{}).ownerDocument,H=r.templateEngine||q;b.Gb.Oc(g,H,n);g=H.renderTemplate(g,h,r,n);if("number"!=typeof g.length||0<g.length&&"number"!=typeof g[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(c){case "replaceChildren":b.f.da(a,g);n=!0;break;case "replaceNode":b.a.qc(a,g);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+c);}n&&(d(g,h),r.afterRender&&b.l.w(r.afterRender,null,[g,h.$data]));
return g}function h(a,c,d){return b.H(a)?a():"function"===typeof a?a(c,d):a}var q;b.Db=function(a){if(a!=c&&!(a instanceof b.O))throw Error("templateEngine must inherit from ko.templateEngine");q=a};b.Ab=function(a,d,g,r,l){g=g||{};if((g.templateEngine||q)==c)throw Error("Set a template engine before calling renderTemplate");l=l||"replaceChildren";if(r){var n=e(r);return b.B(function(){var c=d&&d instanceof b.U?d:new b.U(b.a.c(d)),q=h(a,c.$data,c),c=f(r,l,q,c,g);"replaceNode"==l&&(r=c,n=e(r))},null,
{wa:function(){return!n||!b.a.nb(n)},i:n&&"replaceNode"==l?n.parentNode:n})}return b.M.wb(function(c){b.Ab(a,d,g,c,"replaceNode")})};b.kd=function(a,e,g,q,r){function n(a,b){d(b,k);g.afterRender&&g.afterRender(b,a);k=null}function m(b,c){k=r.createChildContext(b,g.as,function(a){a.$index=c});var d=h(a,b,k);return f(null,"ignoreTargetNode",d,k,g)}var k;return b.B(function(){var a=b.a.c(e)||[];"undefined"==typeof a.length&&(a=[a]);a=b.a.Ka(a,function(a){return g.includeDestroyed||a===c||null===a||!b.a.c(a._destroy)});
b.l.w(b.a.Bb,null,[q,a,m,g,n])},null,{i:q})};var r=b.a.e.I();b.d.template={init:function(a,c){var d=b.a.c(c());if("string"==typeof d||d.name)b.f.xa(a);else{if("nodes"in d){if(d=d.nodes||[],b.H(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=b.f.childNodes(a);d=b.a.jc(d);(new b.v.qa(a)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(a,d,e,f,g){var h=d(),q;d=b.a.c(h);e=!0;f=null;"string"==typeof d?d={}:(h=d.name,"if"in d&&(e=b.a.c(d["if"])),e&&"ifnot"in
d&&(e=!b.a.c(d.ifnot)),q=b.a.c(d.data));"foreach"in d?f=b.kd(h||a,e&&d.foreach||[],d,a,g):e?(g="data"in d?g.createChildContext(q,d.as):g,f=b.Ab(h||a,g,d,a)):b.f.xa(a);g=f;(q=b.a.e.get(a,r))&&"function"==typeof q.k&&q.k();b.a.e.set(a,r,g&&g.ba()?g:c)}};b.h.ta.template=function(a){a=b.h.yb(a);return 1==a.length&&a[0].unknown||b.h.ad(a,"name")?null:"This template engine does not support anonymous templates nested within its templates"};b.f.Z.template=!0})();b.b("setTemplateEngine",b.Db);b.b("renderTemplate",
b.Ab);b.a.dc=function(a,b,c){if(a.length&&b.length){var d,e,f,h,q;for(d=e=0;(!c||d<c)&&(h=a[e]);++e){for(f=0;q=b[f];++f)if(h.value===q.value){h.moved=q.index;q.moved=h.index;b.splice(f,1);d=f=0;break}d+=f}}};b.a.ib=function(){function a(c,d,e,f,g){var h=Math.min,q=Math.max,r=[],n,H=c.length,t,D=d.length,y=D-H||1,k=H+D+1,x,R,F;for(n=0;n<=H;n++)for(R=x,r.push(x=[]),F=h(D,n+y),t=q(0,n-1);t<=F;t++)x[t]=t?n?c[n-1]===d[t-1]?R[t-1]:h(R[t]||k,x[t-1]||k)+1:t+1:n+1;h=[];q=[];y=[];n=H;for(t=D;n||t;)D=r[n][t]-
1,t&&D===r[n][t-1]?q.push(h[h.length]={status:e,value:d[--t],index:t}):n&&D===r[n-1][t]?y.push(h[h.length]={status:f,value:c[--n],index:n}):(--t,--n,g.sparse||h.push({status:"retained",value:d[t]}));b.a.dc(y,q,!g.dontLimitMoves&&10*H);return h.reverse()}return function(b,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};b=b||[];c=c||[];return b.length<c.length?a(b,c,"added","deleted",d):a(c,b,"deleted","added",d)}}();b.b("utils.compareArrays",b.a.ib);(function(){function a(d,e,f,g,h){var q=[],
r=b.B(function(){var a=e(f,h,b.a.za(q,d))||[];0<q.length&&(b.a.qc(q,a),g&&b.l.w(g,null,[f,a,h]));q.length=0;b.a.ra(q,a)},null,{i:d,wa:function(){return!b.a.Qb(q)}});return{ca:q,B:r.ba()?r:c}}var d=b.a.e.I(),e=b.a.e.I();b.a.Bb=function(f,h,q,r,n){function H(a,c){A=y[c];B!==c&&(J[a]=A);A.qb(B++);b.a.za(A.ca,f);k.push(A);C.push(A)}function t(a,c){if(a)for(var d=0,e=c.length;d<e;d++)c[d]&&b.a.q(c[d].ca,function(b){a(b,d,c[d].ja)})}h=h||[];r=r||{};var D=b.a.e.get(f,d)===c,y=b.a.e.get(f,d)||[],R=b.a.fb(y,
function(a){return a.ja}),F=b.a.ib(R,h,r.dontLimitMoves),k=[],x=0,B=0,I=[],C=[];h=[];for(var J=[],R=[],A,L=0,Y,Z;Y=F[L];L++)switch(Z=Y.moved,Y.status){case "deleted":Z===c&&(A=y[x],A.B&&(A.B.k(),A.B=c),b.a.za(A.ca,f).length&&(r.beforeRemove&&(k.push(A),C.push(A),A.ja===e?A=null:h[L]=A),A&&I.push.apply(I,A.ca)));x++;break;case "retained":H(L,x++);break;case "added":Z!==c?H(L,Z):(A={ja:Y.value,qb:b.N(B++)},k.push(A),C.push(A),D||(R[L]=A))}b.a.e.set(f,d,k);t(r.beforeMove,J);b.a.q(I,r.beforeRemove?b.$:
b.removeNode);for(var L=0,D=b.f.firstChild(f),K;A=C[L];L++){A.ca||b.a.extend(A,a(f,q,A.ja,n,A.qb));for(x=0;F=A.ca[x];D=F.nextSibling,K=F,x++)F!==D&&b.f.gc(f,F,K);!A.Wc&&n&&(n(A.ja,A.ca,A.qb),A.Wc=!0)}t(r.beforeRemove,h);for(L=0;L<h.length;++L)h[L]&&(h[L].ja=e);t(r.afterMove,J);t(r.afterAdd,R)}})();b.b("utils.setDomNodeChildrenFromArrayMapping",b.a.Bb);b.W=function(){this.allowTemplateRewriting=!1};b.W.prototype=new b.O;b.W.prototype.renderTemplateSource=function(a,c,d,e){if(c=(9>b.a.C?0:a.nodes)?
a.nodes():null)return b.a.V(c.cloneNode(!0).childNodes);a=a.text();return b.a.ma(a,e)};b.W.sb=new b.W;b.Db(b.W.sb);b.b("nativeTemplateEngine",b.W);(function(){b.vb=function(){var b=this.$c=function(){if(!a||!a.tmpl)return 0;try{if(0<=a.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(b){}return 1}();this.renderTemplateSource=function(c,d,e,h){h=h||f;e=e||{};if(2>b)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var g=c.data("precompiled");
g||(g=c.text()||"",g=a.template(null,"{{ko_with $item.koBindingContext}}"+g+"{{/ko_with}}"),c.data("precompiled",g));c=[d.$data];d=a.extend({koBindingContext:d},e.templateOptions);d=a.tmpl(g,c,d);d.appendTo(h.createElement("div"));a.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){f.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<b&&(a.tmpl.tag.ko_code={open:"__.push($1 || '');"},
a.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};b.vb.prototype=new b.O;var c=new b.vb;0<c.$c&&b.Db(c);b.b("jqueryTmplTemplateEngine",b.vb)})()})})()})();
(function(c){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?c(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],c):c(ko,ko.mapping={})})(function(c,e){function f(a,b){var c,d;for(d in b)if(b.hasOwnProperty(d)&&b[d])if(c=e.getType(a[d]),d&&a[d]&&"array"!==c&&"string"!==c)f(a[d],b[d]);else if("array"===e.getType(a[d])&&"array"===e.getType(b[d])){c=a;for(var h=d,g=a[d],n=b[d],t={},w=g.length-1;0<=w;--w)t[g[w]]=g[w];for(w=
n.length-1;0<=w;--w)t[n[w]]=n[w];g=[];n=void 0;for(n in t)g.push(t[n]);c[h]=g}else a[d]=b[d]}function d(a,b){var c={};f(c,a);f(c,b);return c}function a(a,b){for(var c=d({},a),e=M.length-1;0<=e;e--){var f=M[e];c[f]&&(c[""]instanceof Object||(c[""]={}),c[""][f]=c[f],delete c[f])}b&&(c.ignore=h(b.ignore,c.ignore),c.include=h(b.include,c.include),c.copy=h(b.copy,c.copy),c.observe=h(b.observe,c.observe));c.ignore=h(c.ignore,C.ignore);c.include=h(c.include,C.include);c.copy=h(c.copy,C.copy);c.observe=h(c.observe,
C.observe);c.mappedProperties=c.mappedProperties||{};c.copiedProperties=c.copiedProperties||{};return c}function h(a,b){"array"!==e.getType(a)&&(a="undefined"===e.getType(a)?[]:[a]);"array"!==e.getType(b)&&(b="undefined"===e.getType(b)?[]:[b]);return c.utils.arrayGetDistinctValues(a.concat(b))}function n(a,f,h,D,y,g,l){var m="array"===e.getType(c.utils.unwrapObservable(f));g=g||"";if(e.isMapped(a)){var w=c.utils.unwrapObservable(a)[b];h=d(w,h)}var B=l||y,z=function(){return h[D]&&h[D].create instanceof
Function},s=function(a){var b=P,d=c.dependentObservable;c.dependentObservable=function(a,d,e){e=e||{};a&&"object"==typeof a&&(e=a);var f=e.deferEvaluation,h=!1;e.deferEvaluation=!0;a=new X(a,d,e);if(!f){var g=a,f=c.dependentObservable;c.dependentObservable=X;a=c.isWriteableObservable(g);c.dependentObservable=f;f=X({read:function(){h||(c.utils.arrayRemoveItem(b,g),h=!0);return g.apply(g,arguments)},write:a&&function(a){return g(a)},deferEvaluation:!0});f.__DO=g;a=f;b.push(a)}return a};c.dependentObservable.fn=
X.fn;c.computed=c.dependentObservable;a=c.utils.unwrapObservable(y)instanceof Array?h[D].create({data:a||f,parent:B,skip:K}):h[D].create({data:a||f,parent:B});c.dependentObservable=d;c.computed=c.dependentObservable;return a},v=function(){return h[D]&&h[D].update instanceof Function},u=function(a,b){var d={data:b||f,parent:B,target:c.utils.unwrapObservable(a)};c.isWriteableObservable(a)&&(d.observable=a);return h[D].update(d)};if(l=T.get(f))return l;D=D||"";if(m){var m=[],p=!1,E=function(a){return a};
h[D]&&h[D].key&&(E=h[D].key,p=!0);c.isObservable(a)||(a=c.observableArray([]),a.mappedRemove=function(b){var c="function"==typeof b?b:function(a){return a===E(b)};return a.remove(function(a){return c(E(a))})},a.mappedRemoveAll=function(b){var d=U(b,E);return a.remove(function(a){return-1!=c.utils.arrayIndexOf(d,E(a))})},a.mappedDestroy=function(b){var c="function"==typeof b?b:function(a){return a===E(b)};return a.destroy(function(a){return c(E(a))})},a.mappedDestroyAll=function(b){var d=U(b,E);return a.destroy(function(a){return-1!=
c.utils.arrayIndexOf(d,E(a))})},a.mappedIndexOf=function(b){var d=U(a(),E);b=E(b);return c.utils.arrayIndexOf(d,b)},a.mappedGet=function(b){return a()[a.mappedIndexOf(b)]},a.mappedCreate=function(b){if(-1!==a.mappedIndexOf(b))throw Error("There already is an object with the key that you specified.");var d=z()?s(b):b;v()&&(b=u(d,b),c.isWriteableObservable(d)?d(b):d=b);a.push(d);return d});l=U(c.utils.unwrapObservable(a),E).sort();w=U(f,E);p&&w.sort();p=c.utils.compareArrays(l,w);l={};var C,G=c.utils.unwrapObservable(f),
N={},k=!0,w=0;for(C=G.length;w<C;w++){var x=E(G[w]);if(void 0===x||x instanceof Object){k=!1;break}N[x]=G[w]}var G=[],M=0,w=0;for(C=p.length;w<C;w++){var x=p[w],I,O=g+"["+w+"]";switch(x.status){case "added":var S=k?N[x.value]:F(c.utils.unwrapObservable(f),x.value,E);I=n(void 0,S,h,D,a,O,y);z()||(I=c.utils.unwrapObservable(I));O=t(c.utils.unwrapObservable(f),S,l);I===K?M++:G[O-M]=I;l[O]=!0;break;case "retained":S=k?N[x.value]:F(c.utils.unwrapObservable(f),x.value,E);I=F(a,x.value,E);n(I,S,h,D,a,O,
y);O=t(c.utils.unwrapObservable(f),S,l);G[O]=I;l[O]=!0;break;case "deleted":I=F(a,x.value,E)}m.push({event:x.status,item:I})}a(G);h[D]&&h[D].arrayChanged&&c.utils.arrayForEach(m,function(a){h[D].arrayChanged(a.event,a.item)})}else if(J(f)){a=c.utils.unwrapObservable(a);if(!a){if(z())return p=s(),v()&&(p=u(p)),p;if(v())return u(p);a={}}v()&&(a=u(a));T.save(f,a);if(v())return a;W(f,function(b){var d=g.length?g+"."+b:b;if(-1==c.utils.arrayIndexOf(h.ignore,d))if(-1!=c.utils.arrayIndexOf(h.copy,d))a[b]=
f[b];else if("object"!=typeof f[b]&&"array"!=typeof f[b]&&0<h.observe.length&&-1==c.utils.arrayIndexOf(h.observe,d))a[b]=f[b],h.copiedProperties[d]=!0;else{var e=T.get(f[b]),l=n(a[b],f[b],h,b,a,d,a),e=e||l;if(0<h.observe.length&&-1==c.utils.arrayIndexOf(h.observe,d))a[b]=e(),h.copiedProperties[d]=!0;else{if(c.isWriteableObservable(a[b])){if(e=c.utils.unwrapObservable(e),a[b]()!==e)a[b](e)}else e=void 0===a[b]?e:c.utils.unwrapObservable(e),a[b]=e;h.mappedProperties[d]=!0}}})}else switch(e.getType(f)){case "function":v()?
c.isWriteableObservable(f)?(f(u(f)),a=f):a=u(f):a=f;break;default:if(c.isWriteableObservable(a))return I=v()?u(a):c.utils.unwrapObservable(f),a(I),I;z()||v();a=z()?s():c.observable(c.utils.unwrapObservable(f));v()&&a(u(a))}return a}function t(a,b,c){for(var d=0,e=a.length;d<e;d++)if(!0!==c[d]&&a[d]===b)return d;return null}function y(a,b){var d;b&&(d=b(a));"undefined"===e.getType(d)&&(d=a);return c.utils.unwrapObservable(d)}function F(a,b,d){a=c.utils.unwrapObservable(a);for(var e=0,f=a.length;e<
f;e++){var h=a[e];if(y(h,d)===b)return h}throw Error("When calling ko.update*, the key '"+b+"' was not found!");}function U(a,b){return c.utils.arrayMap(c.utils.unwrapObservable(a),function(a){return b?y(a,b):a})}function W(a,b){if("array"===e.getType(a))for(var c=0;c<a.length;c++)b(c);else for(c in a)b(c)}function J(a){var b=e.getType(a);return("object"===b||"array"===b)&&null!==a}function aa(){var a=[],b=[];this.save=function(d,e){var f=c.utils.arrayIndexOf(a,d);0<=f?b[f]=e:(a.push(d),b.push(e))};
this.get=function(d){d=c.utils.arrayIndexOf(a,d);return 0<=d?b[d]:void 0}}function ca(){var a={},b=function(b){var c;try{c=b}catch(d){c="$$$"}b=a[c];void 0===b&&(b=new aa,a[c]=b);return b};this.save=function(a,c){b(a).save(a,c)};this.get=function(a){return b(a).get(a)}}var b="__ko_mapping__",X=c.dependentObservable,V=0,P,T,M=["create","update","key","arrayChanged"],K={},B={include:["_destroy"],ignore:[],copy:[],observe:[]},C=B;e.isMapped=function(a){return(a=c.utils.unwrapObservable(a))&&a[b]};e.fromJS=
function(c){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{V++||(P=[],T=new ca);var e,f;2==arguments.length&&(arguments[1][b]?f=arguments[1]:e=arguments[1]);3==arguments.length&&(e=arguments[1],f=arguments[2]);f&&(e=d(e,f[b]));e=a(e);var h=n(f,c,e);f&&(h=f);if(!--V)for(;P.length;){var t=P.pop();t&&(t(),t.__DO.throttleEvaluation=t.throttleEvaluation)}h[b]=d(h[b],e);return h}catch(g){throw V=0,g;}};e.fromJSON=function(a){var b=c.utils.parseJson(a);
arguments[0]=b;return e.fromJS.apply(this,arguments)};e.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};e.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};e.toJS=function(d,f){C||e.resetDefaultOptions();if(0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");
if("array"!==e.getType(C.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==e.getType(C.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==e.getType(C.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");f=a(f,d[b]);return e.visitModel(d,function(a){return c.utils.unwrapObservable(a)},f)};e.toJSON=function(a,b){var d=e.toJS(a,b);return c.utils.stringifyJson(d)};e.defaultOptions=function(){if(0<arguments.length)C=
arguments[0];else return C};e.resetDefaultOptions=function(){C={include:B.include.slice(0),ignore:B.ignore.slice(0),copy:B.copy.slice(0)}};e.getType=function(a){if(a&&"object"===typeof a){if(a.constructor===Date)return"date";if(a.constructor===Array)return"array"}return typeof a};e.visitModel=function(d,f,h){h=h||{};h.visitedObjects=h.visitedObjects||new ca;var n,t=c.utils.unwrapObservable(d);if(J(t))h=a(h,t[b]),f(d,h.parentName),n="array"===e.getType(t)?[]:{};else return f(d,h.parentName);h.visitedObjects.save(d,
n);var g=h.parentName;W(t,function(a){if(!h.ignore||-1==c.utils.arrayIndexOf(h.ignore,a)){var d=t[a],r=h,y=g||"";"array"===e.getType(t)?g&&(y+="["+a+"]"):(g&&(y+="."),y+=a);r.parentName=y;if(-1!==c.utils.arrayIndexOf(h.copy,a)||-1!==c.utils.arrayIndexOf(h.include,a)||!t[b]||!t[b].mappedProperties||t[b].mappedProperties[a]||!t[b].copiedProperties||t[b].copiedProperties[a]||"array"===e.getType(t))switch(e.getType(c.utils.unwrapObservable(d))){case "object":case "array":case "undefined":r=h.visitedObjects.get(d);
n[a]="undefined"!==e.getType(r)?r:e.visitModel(d,f,h);break;default:n[a]=f(d,h.parentName)}}});return n}});
ko.bindingHandlers.foreachprop={transformObject:function(c,e){var f=[],d;for(d in c)c.hasOwnProperty(d)&&f.push({key:d,value:c[d]});e||f.sort(function(a,c){return a.key.localeCompare(c.key)});return f},init:function(c,e,f,d,a){f=f.get("unsorted");e=ko.utils.unwrapObservable(e());e=ko.bindingHandlers.foreachprop.transformObject(e,f);a=a.createChildContext(a.$rawData,null);ko.applyBindingsToNode(c,{foreach:e},a);return{controlsDescendantBindings:!0}}};
ko.bindingHandlers.executeOnEnter={init:function(c,e,f,d,a){var h=f.get("executeOnEnter");jQuery(c).keypress(function(c){return 13===(c.which?c.which:c.keyCode)?(h.call(a.$data,c),!1):!0})}};function WorkflowEditor(){var c=this;c.steps=ko.observable({});c.step=function(e){return c.steps()[e]};c.bindKey=function(e,f,d){d=new ScriptStep(d);c.steps()[e]=d;ko.applyBindings(d,document.getElementById(f))}}
function ScriptStep(c){var e=this;e.invocationString=ko.observable("");e.fileExtension=ko.observable("");e.args=ko.observable("");e.argsQuoted=ko.observable(!1);e.argStringAsQuoted=ko.computed(function(){var c=e.argsQuoted()?'"':"";return e.args()?c+e.args()+c:""});e.fileExtensionDotted=ko.computed(function(){var c=e.fileExtension();return c?"."==c.charAt(0)?c:"."+c:""});e.scriptfileText=ko.computed(function(){return e.fileExtensionDotted()?"scriptfile"+e.fileExtensionDotted():"scriptfile"});e.argStringAsQuotedWithScriptfile=
ko.computed(function(){var c=e.argsQuoted()?'"':"";return c+"<em>"+e.scriptfileText()+"</em> "+e.args()+c});e.invocationPreviewHtml=ko.computed(function(){var c="";return c=e.invocationString()&&0<=e.invocationString().indexOf("${scriptfile}")?c+(e.invocationString().split("${scriptfile}").join("<em>"+e.scriptfileText()+"</em>")+" "+e.argStringAsQuoted()):e.invocationString()?c+(e.invocationString()+" "+e.argStringAsQuotedWithScriptfile()):c+e.argStringAsQuotedWithScriptfile()});ko.mapping.fromJS(c,
{},this)}
function NodeFilterLinkParams(c){var e=this;e.linkicon=c.linkicon||"";e.classnames=c.classnames||"";e.filterval=c.filterval||"";e.filterkey=c.filterkey||"";e.filter=c.filter||"";e.linktext=c.linktext||"";e.textcss=c.textcss||"";e.suffix=c.suffix||"";e.tag=c.tag;e.title=c.title||"";e.filterData=function(c){return e.filter?{"data-node-filter":ko.unwrap(e.filter),href:c.linkForFilterString(ko.unwrap(e.filter))}:{"data-node-filter":c.escapeFilter(e.filterkey+":")+" "+c.escapeFilter(ko.unwrap(e.filterval)),href:c.linkForFilterParams(e.filterkey,
ko.unwrap(e.filterval))}};e.attributes=function(c){c=e.filterData(c);e.tag&&(c["data-node-tag"]=ko.unwrap(e.tag));e.title&&(c.title=ko.unwrap(e.title));return c};e.viewtext=function(){return(e.linktext?ko.unwrap(e.linktext):e.filter?ko.unwrap(e.filter):ko.unwrap(e.filterval))+ko.unwrap(e.suffix)}}ko.components.register("node-filter-link",{viewModel:NodeFilterLinkParams,template:'<a  class="nodefilterlink"  href="#"  data-bind="attr: attributes($root),  css: classnames"  >     <span data-bind="if: linkicon"><i data-bind="css: linkicon"></i></span><span data-bind="if: !linkicon"><span data-bind="text: viewtext(), css: textcss"></span></span></a>'});
ko.bindingHandlers.bootstrapPopover={init:function(c,e,f,d,a){f.get("bootstrapPopoverContentRef")?_initPopoverContentRef(null,{element:c,contentRef:ko.unwrap(f.get("bootstrapPopoverContentRef"))}):f.get("bootstrapPopoverContentFor")&&_initPopoverContentFor(null,{element:c,target:ko.unwrap(f.get("bootstrapPopoverContentFor"))})}};ko.bindingHandlers.bootstrapTooltip={init:function(c,e,f,d,a){jQuery(c).tooltip({})}};
ko.bindingHandlers.messageTemplate={init:function(c,e,f,d,a){e=jQuery(c).text();jQuery(c).data("ko-message-template",e);return{controlsDescendantBindings:!0}},update:function(c,e,f,d,a){f=f.get("messageTemplatePluralize");d=ko.utils.unwrapObservable(e());e=jQuery(c).data("ko-message-template");a=null;f&&(a=e.split("|"),e=a[0],a=a[1]);var h=[];"object"!=typeof d?h=[d]:jQuery.isArray(d)?h=d:"object"==typeof d&&(h=ko.utils.unwrapObservable(d.value),jQuery.isArray(h)||(h=[h]));for(d=0;d<h.length;d++)h[d]=
ko.utils.unwrapObservable(h[d]);f&&1!=h[0]&&(e=a);f=e.replace(/\{(\d+)\}/g,function(a,c,d,e){a=parseInt(c);return 0<=a&&a<h.length?h[a]:e});ko.utils.setTextContent(c,f)}};var NODE_FILTER_ALL=".*";
function NodeSummary(c){var e=this;e.error=ko.observable();e.tags=ko.observableArray();e.filters=ko.observableArray();e.defaultFilter=ko.observable();e.totalCount=ko.observable(0);e.baseUrl=c.baseUrl?c.baseUrl:"";e.filterToDelete=ko.observable();e.reload=function(){jQuery.ajax({url:_genUrl(appLinks.frameworkNodeSummaryAjax),type:"GET",error:function(c,d,a){e.error("Recent commands list: request failed for "+requrl+": "+a+", "+d)}}).success(function(c){ko.mapping.fromJS(c,{},e)})};e.linkForTagFilter=
function(c){return _genUrl(e.baseUrl,{filter:"tags:"+c.tag()})};e.linkForFilterName=function(c){return _genUrl(e.baseUrl,{filterName:c.name()})};e.linkForNodeFilters=function(c){return _genUrl(e.baseUrl,c.getPageParams())};e.findFilterByName=function(c){var d=ko.utils.arrayFilter(e.filters(),function(a){return a.name()==c});return d&&1==d.length?d[0]:null};e.removeDefault=function(){setFilter("nodes","!").success(function(c,d,a){e.defaultFilter(null)})};e.setDefaultAll=function(){e.setDefault(NODE_FILTER_ALL)};
e.setDefault=function(c){var d=null;if("string"==typeof c)if(c==NODE_FILTER_ALL)d=c;else{c=e.findFilterByName(c);if(!c)return;d=c.name()}else d=c.name();setFilter("nodes",d).success(function(a,c,f){e.defaultFilter(d)})};e.deleteFilterConfirm=function(c){if("string"==typeof c&&(c=e.findFilterByName(c),!c))return;e.filterToDelete(c);jQuery("#deleteFilterKOModal").modal("show")};e.deleteFilter=function(c){jQuery("#deleteFilterKOModal").modal("hide");jQuery.ajax({url:_genUrl(appLinks.frameworkDeleteNodeFilterAjax,
{filtername:c.name()}),beforeSend:_ajaxSendTokens.curry("ajaxDeleteFilterTokens")}).success(function(d,a,h){e.filterToDelete(null);e.filters.remove(c)}).success(_ajaxReceiveTokens.curry("ajaxDeleteFilterTokens"))};c&&ko.mapping.fromJS(c,{},e)}var CSSColors="aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" ");
function NodeEntry(c){c&&ko.mapping.fromJS(c,{},this)}function TagSummary(c){this.tag=ko.observable(c.tag);this.value=ko.observable(c.value);c&&ko.mapping.fromJS(c,{},this)}
function NodeSet(c){var e=this;e.nodes=ko.observableArray([]);e.tagsummary=ko.observableArray([]);var f={nodes:{create:function(c){return new NodeEntry(c.data)}},tagsummary:{key:function(c){return ko.utils.unwrapObservable(c.tag)},create:function(c){return new TagSummary(c.data)}}};e.glyphiconCss=function(c){return c.match(/^glyphicon-[a-z-]+$/)?"glyphicon "+c:""};e.glyphiconBadges=function(c){var a=[];if(c["ui:badges"]){c=c["ui:badges"]().split(/,\s*/g);for(var e=0;e<c.length;e++)c[e].match(/^glyphicon-[a-z-]+$/)&&
a.push(c[e])}return a};e.isAnsiFg=function(c){return null!=c&&"string"==typeof c&&c.match(/^ansi-fg-(light-)?(black|green|red|yellow|blue|magenta|cyan|white)$/)};e.isStyleFg=function(c){return null!=c&&"string"==typeof c&&c.match(/^#[0-9a-fA-F]{3,6}$/)||0<=CSSColors.indexOf(c)};e.isAnsiBg=function(c){return null!=c&&"string"==typeof c&&c.match(/^ansi-bg-(black|green|red|yellow|blue|magenta|cyan|white|default)$/)};e.isStyleBg=function(c){return null!=c&&"string"==typeof c&&c.match(/^#[0-9a-fA-F]{3,6}$/)||
0<=CSSColors.indexOf(c)};e.iconFgCss=function(c){var a=c["ui:icon:color"]?c["ui:icon:color"]():null;c=c["ui:color"]?c["ui:color"]():null;return e.isAnsiFg(a)?a:e.isAnsiFg(c)?c:null};e.iconBgCss=function(c){var a=c["ui:icon:bgcolor"]?c["ui:icon:bgcolor"]():null;c=c["ui:bgcolor"]?c["ui:bgcolor"]():null;return e.isAnsiBg(a)?a:e.isAnsiBg(c)?c:null};e.iconCss=function(c){var a=[],f=e.iconFgCss(c);f&&a.push(f);(c=e.iconBgCss(c))&&a.push(c);return a.join(" ")};e.nodeFgCss=function(c){c=c["ui:color"]?c["ui:color"]():
null;return e.isAnsiFg(c)?c:null};e.nodeBgCss=function(c){c=c["ui:bgcolor"]?c["ui:bgcolor"]():null;return e.isAnsiBg(c)?c:null};e.nodeCss=function(c){var a=[],f=e.nodeFgCss(c);f&&a.push(f);(c=e.nodeBgCss(c))&&a.push(c);return a.join(" ")};e.iconStyle=function(c){var a={};if(!e.iconFgCss(c)){var f=c["ui:icon:color"]?c["ui:icon:color"]():null,n=c["ui:color"]?c["ui:color"]():null;e.isStyleFg(f)?a.color=f:e.isStyleFg(n)&&(a.color=n)}e.iconBgCss(c)||(f=c["ui:icon:bgcolor"]?c["ui:icon:bgcolor"]():null,
c=c["ui:bgcolor"]?c["ui:bgcolor"]():null,e.isStyleBg(f)?a["background-color"]=f:e.isStyleBg(c)&&(a["background-color"]=c));return a};e.nodeStyle=function(c){var a={},f=c["ui:color"]?c["ui:color"]():null;!e.nodeFgCss(c)&&e.isStyleFg(f)&&(a.color=f);f=c["ui:bgcolor"]?c["ui:bgcolor"]():null;!e.nodeBgCss(c)&&e.isStyleBg(f)&&(a["background-color"]=f);return a};e.startsWith=function(c,a){return c.length>=a.length&&c.substring(0,a.length)==a};e.attributesInNamespace=function(c,a){var f=[],n;for(n in c)e.startsWith(n,
a+":")&&c[n]()&&f.push({name:n,value:c[n](),shortname:n.substring(a.length+1)});f.sort(function(a,c){return a.shortname.localeCompare(c.shortname)});return f};e.attributeNamespaceNames=function(c){var a=[],e;for(e in c)(c=e.match(/^(\w+):.+$/))&&1<c.length&&0>a.indexOf(c[1])&&a.push(c[1]);a.sort();return a};e.attributeNamespaces=function(c){var a={},e=[],f;for(f in c){var t=f.match(/^(\w+):.+$/);t&&1<t.length&&(a[t[1]]||(a[t[1]]=[],e.push(t[1])),a[t[1]].push({name:f,value:c[f](),shortname:f.substring(t[1].length+
1)}))}e.sort();c=[];for(f=0;f<e.length;f++)t=a[e[f]],t.sort(function(a,c){return a.shortname.localeCompare(c.shortname)}),c.push({ns:e[f],values:t});return c};e.OsAttributeNames="nodename hostname username description tags osFamily osName osVersion osArch".split(" ");e.displayAttributes=function(c){var a={},f;for(f in c)0>f.indexOf(":")&&0>e.OsAttributeNames.indexOf(f)&&(a[f]=c[f]);return a};e.expandNodeAttributes=function(c,a){return a.replace(/\$\{node\.([a-zA-Z-.]+)\}/g,function(a,e,f,y){return c[e]?
c[e]()||"":y})};e.convertTagSummary=function(c){var a=[],e;for(e in c)a.push({tag:e,value:c[e]});return a};e.loadJS=function(c){ko.mapping.fromJS({nodes:c.nodes,tagsummary:e.convertTagSummary(c.tagsummary)},f,e)};c&&e.loadJS(c)}
function NodeFilters(c,e,f,d){var a=this;a.baseRunUrl=c;a.baseSaveJobUrl=e;a.baseNodesPageUrl=f;a.filterName=ko.observable(d.filterName);a.filter=ko.observable(d.filter);a.filterAll=ko.observable(d.filterAll);a.nodeExcludePrecedence=ko.observable(null==d.nodeExcludePrecedence||d.nodeExcludePrecedence?"true":"false");a.nodefilterLinkId=d.nodefilterLinkId;a.total=ko.observable(0);a.allcount=ko.observable(0);a.loading=ko.observable(!1);a.error=ko.observable(null);a.project=ko.observable(d.project);a.page=
ko.observable(d.page?d.page:0);a.pagingMax=ko.observable(d.pagingMax?d.pagingMax:20);a.paging=ko.observable(null!=d.paging?d.paging?!0:!1:!1);a.maxShown=ko.observable(d.maxShown);a.view=ko.observable(d.view);a.emptyMode=ko.observable(d.emptyMode?d.emptyMode:"localnode");a.emptyMessage=ko.observable(d.emptyMessage?d.emptyMessage:"No match");a.hideAll=ko.observable(null!=d.hideAll?d.hideAll?!0:!1:!1);a.nodeSummary=ko.observable(d.nodeSummary?d.nodeSummary:null);a.nodeSet=ko.observable(new NodeSet);
a.truncated=ko.observable(!1);a.loaded=ko.observable(!1);a.browse=ko.observable(!1);a.colkeys=ko.observableArray([]);this.pageDisplay=ko.computed({read:function(){return a.page()+1},write:function(c){a.page(c-1);a.browse(!0);a.updateMatchedNodes()},owner:a});a.filterColumns=ko.pureComputed(function(){return ko.utils.arrayFilter(a.colkeys(),function(c){return!a.nodeSet().startsWith(c,"ui:")})});a.useDefaultColumns=ko.pureComputed(function(){return 1>a.filterColumns().size()});a.totalColumnsCount=ko.pureComputed(function(){return a.useDefaultColumns()?
5:2+a.filterColumns().size()});a.isFilterNameAll=ko.pureComputed(function(){return a.filterName()==NODE_FILTER_ALL});a.filterNameDisplay=ko.pureComputed(function(){return a.isFilterNameAll()?"All Nodes":a.filterName()});a.canSaveFilter=ko.pureComputed(function(){return!a.filterName()&&a.filterWithoutAll()});a.canDeleteFilter=ko.pureComputed(function(){return a.filterName()&&!a.isFilterNameAll()});a.canSetDefaultFilter=ko.pureComputed(function(){return a.filterName()&&a.filterName()!=a.nodeSummary().defaultFilter()});
a.canRemoveDefaultFilter=ko.pureComputed(function(){return a.filterName()&&a.filterName()==a.nodeSummary().defaultFilter()});a.deleteFilter=function(){a.nodeSummary().deleteFilterConfirm(a.filterName())};a.setDefaultFilter=function(){a.nodeSummary().setDefault(a.filterName())};a.pageRemaining=ko.computed(function(){return 0>=a.total()||0>a.page()?0:a.allcount()-(a.page()+1)*a.pagingMax()});a.hasMoreNodes=ko.computed(function(){return 0<a.pageRemaining()});a.hasMultiplePages=ko.computed(function(){return a.pageRemaining()>
a.pagingMax()});a.hasPaging=ko.computed(function(){return a.paging()&&a.total()>a.pagingMax()});a.maxPages=ko.pureComputed(function(){return a.paging()&&Math.ceil(a.total()/a.pagingMax())});a.pageNumbersSkipped=ko.computed(function(){for(var c=[],d=a.page(),e=a.maxPages(),f=0;f<e;f++)f>=d-3&&f<=d+3||3>f||f>=e-3?c.push(f):f!=d-3-1&&f!=d+3+1||c.push("..");return c});a.nodesTitle=ko.computed(function(){return 1==a.allcount()?d.nodesTitleSingular||"Node":d.nodesTitlePlural||"Nodes"});a.filterWithoutAll=
ko.computed({read:function(){return a.filterAll()&&a.filter()==NODE_FILTER_ALL&&a.hideAll()?"":a.filter()},write:function(c){a.filter(c)},owner:this});a.filterIsSet=ko.pureComputed(function(){return!!a.filterWithoutAll()||!!a.filterName()});a.filter.subscribe(function(c){""==c&&a.hideAll()?a.filterAll(!0):c==NODE_FILTER_ALL&&a.filterAll(!0)});a.filter.subscribe(function(c){""==c&&"blank"==a.emptyMode()&&a.clear()});a.filter.subscribe(function(c){c===NODE_FILTER_ALL?a.filterName(NODE_FILTER_ALL):""!=
c&&a.filterName()&&a.filterName(null)});a.nodeExcludePrecedence.subscribe(function(c){a.updateMatchedNodes()});a.loading.subscribe(function(c){c||a.loaded(!0)});a.hasNodes=ko.computed(function(){return 0!=a.allcount()});a.runCommand=function(){document.location=_genUrl(a.baseRunUrl,{filter:a.filter(),filterName:a.filterName()?a.filterName():""})};a.saveJob=function(){document.location=_genUrl(a.baseSaveJobUrl,{filter:a.filter(),filterName:a.filterName()?a.filterName():""})};a.nodesPageView=function(){document.location=
_genUrl(a.baseNodesPageUrl,{filter:a.filter(),filterName:a.filterName()?a.filterName():""})};a.clear=function(){a.page(0);a.total(0);a.allcount(-1)};a.reset=function(){a.clear();a.filterAll(!1);a.filterWithoutAll(null);a.filterName(null)};a.useFilterString=function(c){a.filterAll(!1);a.filterWithoutAll(c);a.filterName(null);a.clear();a.updateMatchedNodes()};a.getPageParams=function(){return{filter:a.filter()||"",filterName:a.filterName()||"",filterAll:a.filterAll()||"",page:a.page()||0,max:a.pagingMax()||
20}};a.getPageUrl=function(){return a.nodeSummary().linkForNodeFilters(a)};a.escapeFilter=function(a){if(""!=a&&!a.match(/[ '"\r\n]/))return null==a?"":a;var c='"';null!=a&&(c+=a.replace(/"/g,'""'));return c+'"'};a.paramsAsfilter=function(c){var d=[],e;for(e in c)d.push(a.escapeFilter(e+":")),d.push(a.escapeFilter(c[e]));return d.join(" ")};a.linkForFilterString=function(c){return _genUrl(a.baseNodesPageUrl,{filter:c})};a.linkForFilterParams=function(c,d){var e;"object"==typeof c?e=a.paramsAsfilter(c):
"string"==typeof c&&"string"==typeof d&&(e={},e[c]=d,e=a.paramsAsfilter(e));return a.linkForFilterString(e)};a.triggerNodeRemoteEdit=function(c){doRemoteEdit(c.nodename(),a.project(),a.nodeSet().expandNodeAttributes(c.attributes,c.attributes.remoteUrl()))};a.setPageParams=function(c){a.filterAll(c.filterAll);a.filter(c.filter);a.filterName(c.filterName);a.clear();a.page(c.page||0);a.pagingMax(c.max||20);a.updateMatchedNodes()};a.selectNodeFilterLink=function(c,d){var e=a.filter(),f=jQuery(c).data("node-filter-name"),
F=jQuery(c).data("node-filter"),U=jQuery(c).data("node-tag");F&&0<=F.indexOf("&")&&(F=html_unescape(F));var W=jQuery(c).data("node-filter-all"),J=e?e.indexOf("tags: "):-1;if(d&&U&&0<=J){for(var F=e.substring(0,J),e=e.substring(J+6),aa="";0==e.indexOf(" ");)e=e.substring(1);J=e.indexOf(" ");0<J&&(aa=e.substring(J),e=e.substring(0,J));F=F+"tags: "+e+"+"+U+aa}else F&&!f&&e&&!W&&e!=NODE_FILTER_ALL?F=e+" "+F:W&&(F=NODE_FILTER_ALL);a.filterAll(W);a.filter(F);a.filterName(f);a.clear();a.updateMatchedNodes()};
a.updateNodesNextPage=function(){a.page()||a.page(0);a.page(a.page()+1);a.updateMatchedNodes()};a.browseNodesPage=function(c){if(a.page()!=c){if(!c||c>=a.maxPages()||0>c)c=0;a.pageDisplay(c+1)}};a.browseNodesPageNext=function(){a.page()+1<a.maxPages()&&a.browseNodesPage(a.page()+1)};a.browseNodesPagePrev=function(){0<a.page()&&a.browseNodesPage(a.page()-1)};a.browseNodesPageUrl=function(c){var d=a.getPageParams();0<=c&&c<a.maxPages()?d.page=c:d.page=0;return _genUrl(a.baseNodesPageUrl,d)};a.browseNodesPagePrevUrl=
function(){return a.browseNodesPageUrl(a.page()-1)};a.browseNodesPageNextUrl=function(){return a.browseNodesPageUrl(a.page()+1)};a.updateNodesRemainingPages=function(){a.page(-1);a.updateMatchedNodes()};a.loadJS=function(c){ko.mapping.fromJS(c,{},a)};a.pagingMax.subscribe(function(){a.updateMatchedNodes()});a.newFilterText=function(){a.page(0);a.updateMatchedNodes()};a.updateMatchedNodes=function(){if((a.filter()||"blank"!=a.emptyMode())&&a.project()){var c=a.filterName()?{filterName:a.filterName()}:
a.filter()?{filter:a.filter()}:{},d=a.page(),e={view:a.view()?a.view():"table",declarenone:!0,fullresults:!0,expanddetail:!0,inlinepaging:!1,nodefilterLinkId:a.nodefilterLinkId};a.paging()&&(e.page=d,e.max=a.pagingMax(),e.inlinepaging=!0,0!=d&&(e.view="tableContent"));a.maxShown()&&(e.maxShown=a.maxShown());c=Object.extend(e,c);if("localnode"==a.emptyMode()&&!a.filter())c.localNodeOnly="true";else if("blank"==a.emptyMode()&&!a.filter()){a.clear();return}d=a.nodeExcludePrecedence();c.nodeExcludePrecedence=
"string"==typeof d&&"false"===d||"boolean"==typeof d&&!d?"false":"true";a.loading(!0);var f=_genUrl(appLinks.frameworkNodesQueryAjax,c);jQuery.ajax({type:"GET",dataType:"json",url:f,error:function(c,d,e){a.loading(!1);"function"==typeof errcallback&&a.error("Failed "+f+": "+e+", "+d)},success:function(c,d,e){a.loading(!1);a.nodeSet().loadJS({nodes:c.allnodes,tagsummary:c.tagsummary});a.loadJS({allcount:c.allcount,total:c.total,truncated:c.truncated,colkeys:c.colkeys})}})}}}
function OptionEditor(c){var e=this;e.name=ko.observable(c.name);e.bashVarPrefix=c.bashVarPrefix?c.bashVarPrefix:"";e.tobashvar=function(c){return e.bashVarPrefix+"OPTION_"+c.toUpperCase().replace(/[^a-zA-Z0-9_]/g,"_").replace(/[{}$]/,"")};e.bashVarPreview=ko.computed(function(){return e.tobashvar(e.name())})}
(function(c){function e(a,b){return function(c){return y(a.call(this,c),b)}}function f(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function a(a){V(a);n(this,a)}function h(a){var b=aa(a),c=b.year||0,d=b.month||0,e=b.week||0,f=b.day||0,g=b.hour||0,h=b.minute||0,n=b.second||0,b=b.millisecond||0;this._input=a;this._milliseconds=+b+1E3*n+6E4*h+36E5*g;this._days=+f+7*e;this._months=+d+12*c;this._data={};this._bubble()}function n(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function t(a){return 0>a?Math.ceil(a):Math.floor(a)}function y(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function F(a,b,c,d){var e,f,g=b._milliseconds,h=b._days;b=b._months;g&&a._d.setTime(+a._d+g*c);(h||b)&&(e=a.minute(),f=a.hour());h&&a.date(a.date()+h*c);b&&a.month(a.month()+b*c);g&&!d&&k.updateOffset(a);(h||b)&&(a.minute(e),a.hour(f))}function U(a){return"[object Array]"===
Object.prototype.toString.call(a)}function W(a,c,d){var e,f=Math.min(a.length,c.length),g=Math.abs(a.length-c.length),h=0;for(e=0;f>e;e++)(d&&a[e]!==c[e]||!d&&b(a[e])!==b(c[e]))&&h++;return h+g}function J(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=ua[a]||va[b]||b}return a}function aa(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=J(c),b&&(d[b]=a[c]));return d}function ca(a){var b,d;if(0===a.indexOf("week"))b=7,d="day";else{if(0!==a.indexOf("month"))return;b=12;d="month"}k[a]=function(e,
f){var g,h,n=k.fn._lang[a],l=[];if("number"==typeof e&&(f=e,e=c),h=function(a){a=k().utc().set(d,a);return n.call(k.fn._lang,a,e||"")},null!=f)return h(f);for(g=0;b>g;g++)l.push(h(g));return l}}function b(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a)),b}function X(a){return 0===a%4&&0!==a%100||0===a%400}function V(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[O]||11<a._a[O]?O:1>a._a[S]||a._a[S]>(new Date(Date.UTC(a._a[I],a._a[O]+1,0))).getUTCDate()?S:0>a._a[A]||23<
a._a[A]?A:0>a._a[L]||59<a._a[L]?L:0>a._a[Y]||59<a._a[Y]?Y:0>a._a[Z]||999<a._a[Z]?Z:-1,a._pf._overflowDayOfYear&&(I>b||b>S)&&(b=S),a._pf.overflow=b)}function P(a){a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function T(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,
a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function M(a){return a?a.toLowerCase().replace("_","-"):a}function K(a){var b,c,d,e,f=0,g=function(a){if(!ea[a]&&la)try{require("./lang/"+a)}catch(b){}return ea[a]};if(!a)return k.fn._lang;if(!U(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){e=M(a[f]).split("-");b=e.length;for(d=(d=M(a[f+1]))?d.split("-"):null;0<b;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&W(e,d,!0)>=b-1)break;
b--}f++}return k.fn._lang}function B(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function C(a){var b,c,d=a.match(ma);b=0;for(c=d.length;c>b;b++)d[b]=ba[d[b]]?ba[d[b]]:B(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function r(a,b){return a.isValid()?(b=H(b,a.lang()),ha[b]||(ha[b]=C(b)),ha[b](a)):a.lang().invalidDate()}function H(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(ga.lastIndex=0;0<=
d&&ga.test(a);)a=a.replace(ga,c),ga.lastIndex=0,--d;return a}function q(a,b){switch(a){case "DDDD":return wa;case "YYYY":case "GGGG":case "gggg":return xa;case "YYYYY":case "GGGGG":case "ggggg":return ya;case "S":case "SS":case "SSS":case "DDD":return za;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Aa;case "a":case "A":return K(b._l)._meridiemParse;case "X":return Ba;case "Z":case "ZZ":return ia;case "T":return Ca;case "SSSS":return Da;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "ww":case "W":case "WW":case "e":case "E":return Ea;
default:var c=RegExp,d;d=m(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new c(d)}}function D(a){a=((ia.exec(a)||[])[0]+"").match(Fa)||["-",0,0];var c=+(60*a[1])+b(a[2]);return"+"===a[0]?-c:c}function R(a){var c,d,e,f,h,n,l,m,q,p=[];if(!a._d){d=g(a);a._w&&null==a._a[S]&&null==a._a[O]&&(f=function(b){return b?3>b.length?68<parseInt(b,10)?"19"+b:"20"+b:b:null==a._a[I]?k().weekYear():a._a[I]},h=a._w,null!=h.GG||null!=h.W||null!=h.E?n=u(f(h.GG),h.W||1,h.E,4,1):(l=K(a._l),m=null!=
h.d?z(h.d,l):null!=h.e?parseInt(h.e,10)+l._week.dow:0,q=parseInt(h.w,10)||1,null!=h.d&&m<l._week.dow&&q++,n=u(f(h.gg),q,m,l._week.doy,l._week.dow)),a._a[I]=n.year,a._dayOfYear=n.dayOfYear);a._dayOfYear&&(e=null==a._a[I]?d[I]:a._a[I],a._dayOfYear>(X(e)?366:365)&&(a._pf._overflowDayOfYear=!0),c=Q(e,0,a._dayOfYear),a._a[O]=c.getUTCMonth(),a._a[S]=c.getUTCDate());for(c=0;3>c&&null==a._a[c];++c)a._a[c]=p[c]=d[c];for(;7>c;c++)a._a[c]=p[c]=null==a._a[c]?2===c?1:0:a._a[c];p[A]+=b((a._tzm||0)/60);p[L]+=b((a._tzm||
0)%60);a._d=(a._useUTC?Q:w).apply(null,p)}}function g(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function l(a){a._a=[];a._pf.empty=!0;var c,d,e,f,g;c=K(a._l);var h=""+a._i,n=h.length,l=0;e=H(a._f,c).match(ma)||[];for(c=0;c<e.length;c++)if(f=e[c],(d=(q(f,a).exec(h)||[])[0])&&(g=h.substr(0,h.indexOf(d)),0<g.length&&a._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),l+=d.length),ba[f]){d?a._pf.empty=!1:a._pf.unusedTokens.push(f);
var k=a,p=void 0,m=k._a;switch(f){case "M":case "MM":null!=d&&(m[O]=b(d)-1);break;case "MMM":case "MMMM":p=K(k._l).monthsParse(d);null!=p?m[O]=p:k._pf.invalidMonth=d;break;case "D":case "DD":null!=d&&(m[S]=b(d));break;case "DDD":case "DDDD":null!=d&&(k._dayOfYear=b(d));break;case "YY":m[I]=b(d)+(68<b(d)?1900:2E3);break;case "YYYY":case "YYYYY":m[I]=b(d);break;case "a":case "A":k._isPm=K(k._l).isPM(d);break;case "H":case "HH":case "h":case "hh":m[A]=b(d);break;case "m":case "mm":m[L]=b(d);break;case "s":case "ss":m[Y]=
b(d);break;case "S":case "SS":case "SSS":case "SSSS":m[Z]=b(1E3*("0."+d));break;case "X":k._d=new Date(1E3*parseFloat(d));break;case "Z":case "ZZ":k._useUTC=!0;k._tzm=D(d);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":f=f.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":f=f.substr(0,2),d&&(k._w=k._w||{},k._w[f]=d)}}else a._strict&&!d&&a._pf.unusedTokens.push(f);a._pf.charsLeftOver=n-l;0<h.length&&a._pf.unusedInput.push(h);
a._isPm&&12>a._a[A]&&(a._a[A]+=12);!1===a._isPm&&12===a._a[A]&&(a._a[A]=0);R(a);V(a)}function m(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function w(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);return 1970>a&&b.setFullYear(a),b}function Q(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function z(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,
10);return a}function s(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function v(a,b,c){var d;b=c-b;c-=a.day();return c>b&&(c-=7),b-7>c&&(c+=7),d=k(a).add("d",c),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function u(a,b,c,d,e){var f,g,h=(new Date(Date.UTC(a,0))).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0),g=7*(b-1)+(c-e)+f+1,{year:0<g?a:a-1,dayOfYear:0<g?g:(X(a-1)?366:365)+g}}function p(b){var d=b._i,e=b._f;"undefined"==typeof b._pf&&P(b);if(null===d)b=k.invalid({nullInput:!0});else{"string"==
typeof d&&(b._i=d=K().preparse(d));if(k.isMoment(d))b=n({},d),b._d=new Date(+d._d);else if(e)if(U(e)){var f=b,g,h,m;if(0===f._f.length)f._pf.invalidFormat=!0,f._d=new Date(0/0);else{for(d=0;d<f._f.length;d++)e=0,g=n({},f),P(g),g._f=f._f[d],l(g),T(g)&&(e+=g._pf.charsLeftOver,e+=10*g._pf.unusedTokens.length,g._pf.score=e,(null==m||m>e)&&(m=e,h=g));n(f,h||g)}}else l(b);else if(g=b,h=g._i,m=ra.exec(h),h===c)g._d=new Date;else if(m)g._d=new Date(+m[1]);else if("string"==typeof h)if(m=g._i,f=Ga.exec(m)){g._pf.iso=
!0;for(h=4;0<h;h--)if(f[h]){g._f=Ha[h-1]+(f[6]||" ");break}for(h=0;4>h;h++)if(na[h][1].exec(m)){g._f+=na[h][0];break}ia.exec(m)&&(g._f+="Z");l(g)}else g._d=new Date(m);else U(h)?(g._a=h.slice(0),R(g)):"[object Date]"===Object.prototype.toString.call(h)||h instanceof Date?g._d=new Date(+h):"object"==typeof h?g._d||(f=aa(g._i),g._a=[f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond],R(g)):g._d=new Date(h);b=new a(b)}return b}function E(a,b){k.fn[a]=k.fn[a+"s"]=function(a){var c=this._isUTC?
"UTC":"";return null!=a?(this._d["set"+c+b](a),k.updateOffset(this),this):this._d["get"+c+b]()}}function fa(a){k.duration.fn[a]=function(){return this._data[a]}}function G(a,b){k.duration.fn["as"+a]=function(){return+this/b}}function N(a){var b=!1,c=k;"undefined"==typeof ender&&(this.moment=a?function(){return!b&&console&&console.warn&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),c.apply(null,arguments)}:k)}for(var k,x,
da=Math.round,I=0,O=1,S=2,A=3,L=4,Y=5,Z=6,ea={},la="undefined"!=typeof module&&module.exports,ra=/^\/?Date\((\-?\d+)/i,sa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ta=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ma=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ga=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,
Ea=/\d\d?/,za=/\d{1,3}/,wa=/\d{3}/,xa=/\d{1,4}/,ya=/[+\-]?\d{1,6}/,Da=/\d+/,Aa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ia=/Z|[\+\-]\d\d:?\d\d/i,Ca=/T/i,Ba=/[\+\-]?\d+(\.\d{1,3})?/,Ga=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,Ha=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],na=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],
["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Fa=/([\+\-]|\d\d)/gi,ja=["Date","Hours","Minutes","Seconds","Milliseconds"],ka={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},ua={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},va={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},
ha={},oa="DDD w W M D d".split(" "),pa="MDHhmswW".split(""),ba={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},
W:function(){return this.isoWeek()},YY:function(){return y(this.year()%100,2)},YYYY:function(){return y(this.year(),4)},YYYYY:function(){return y(this.year(),5)},gg:function(){return y(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return y(this.weekYear(),5)},GG:function(){return y(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return y(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},
a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return b(this.milliseconds()/100)},SS:function(){return y(b(this.milliseconds()/10),2)},SSS:function(){return y(this.milliseconds(),3)},SSSS:function(){return y(this.milliseconds(),3)},Z:function(){var a=
-this.zone(),c="+";return 0>a&&(a=-a,c="-"),c+y(b(a/60),2)+":"+y(b(a)%60,2)},ZZ:function(){var a=-this.zone(),c="+";return 0>a&&(a=-a,c="-"),c+y(b(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},qa=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];oa.length;)x=oa.pop(),ba[x+"o"]=f(ba[x],x);for(;pa.length;)x=pa.pop(),ba[x+x]=e(ba[x],2);ba.DDDD=e(ba.DDD,3);n(d.prototype,{set:function(a){var b,c;for(c in a)b=a[c],
"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=k.utc([2E3,b]),d="^"+this.months(c,"")+"|^"+
this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,
c,d;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=k([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==
typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",
a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return v(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});k=function(a,b,d,e){return"boolean"==typeof d&&(e=d,d=c),p({_i:a,_f:b,_l:d,_strict:e,_isUTC:!1})};k.utc=function(a,b,d,e){return"boolean"==typeof d&&(e=d,d=c),p({_useUTC:!0,_isUTC:!0,_l:d,_i:a,_f:b,_strict:e}).utc()};k.unix=function(a){return k(1E3*a)};k.duration=
function(a,c){var d,e,f,g=k.isDuration(a),n="number"==typeof a,l=g?a._input:n?{}:a,m=null;return n?c?l[c]=a:l.milliseconds=a:(m=sa.exec(a))?(d="-"===m[1]?-1:1,l={y:0,d:b(m[S])*d,h:b(m[A])*d,m:b(m[L])*d,s:b(m[Y])*d,ms:b(m[Z])*d}):(m=ta.exec(a))&&(d="-"===m[1]?-1:1,f=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*d},l={y:f(m[2]),M:f(m[3]),d:f(m[4]),h:f(m[5]),m:f(m[6]),s:f(m[7]),w:f(m[8])}),e=new h(l),g&&a.hasOwnProperty("_lang")&&(e._lang=a._lang),e};k.version="2.4.0";k.defaultFormat=
"YYYY-MM-DDTHH:mm:ssZ";k.updateOffset=function(){};k.lang=function(a,b){var c,e;a?(b?(e=M(a),b.abbr=e,ea[e]||(ea[e]=new d),ea[e].set(b)):null===b?(delete ea[a],a="en"):ea[a]||K(a),e=(c=k.duration.fn._lang=k.fn._lang=K(a),c._abbr)):e=k.fn._lang._abbr;return e};k.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),K(a)};k.isMoment=function(b){return b instanceof a};k.isDuration=function(a){return a instanceof h};for(x=qa.length-1;0<=x;--x)ca(qa[x]);k.normalizeUnits=function(a){return J(a)};
k.invalid=function(a){var b=k.utc(0/0);return null!=a?n(b._pf,a):b._pf.userInvalidated=!0,b};k.parseZone=function(a){return k(a).parseZone()};n(k.fn=a.prototype,{clone:function(){return k(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return r(k(this).utc(),
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return T(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<W(this._a,(this._isUTC?k.utc(this._a):k(this._a)).toArray()):!1},parsingFlags:function(){return n({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},
format:function(a){a=r(this,a||k.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;return c="string"==typeof a?k.duration(+b,a):k.duration(a,b),F(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?k.duration(+b,a):k.duration(a,b),F(this,c,-1),this},diff:function(a,b,c){var d,e;a=this._isUTC?k(a).zone(this._offset||0):k(a).local();var f=6E4*(this.zone()-a.zone());return b=J(b),"year"===b||"month"===b?(d=432E5*(this.daysInMonth()+a.daysInMonth()),e=12*(this.year()-
a.year())+(this.month()-a.month()),e+=(this-k(this).startOf("month")-(a-k(a).startOf("month")))/d,e-=6E4*(this.zone()-k(this).startOf("month").zone()-(a.zone()-k(a).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-a,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===b?(d-f)/864E5:"week"===b?(d-f)/6048E5:d),c?e:t(e)},from:function(a,b){return k.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(k(),a)},calendar:function(){var a=
this.diff(k().zone(this.zone()).startOf("day"),"days",!0),a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){return X(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=z(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,
c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),k.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=J(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===
a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=J(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+k(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+k(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+k(a).startOf(b)},min:function(a){return a=
k.apply(null,arguments),this>a?this:a},max:function(a){return a=k.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=D(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&F(this,k.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&
this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?k(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){var a=this.year(),b=this.month();return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},dayOfYear:function(a){var b=da((k(this).startOf("day")-k(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=v(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=v(this,1,4).year;
return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=v(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=J(a),this[a]()},set:function(a,b){return a=J(a),"function"==typeof this[a]&&this[a](b),this},
lang:function(a){return a===c?this._lang:(this._lang=K(a),this)}});for(x=0;x<ja.length;x++)E(ja[x].toLowerCase().replace(/s$/,""),ja[x]);E("year","FullYear");k.fn.days=k.fn.day;k.fn.months=k.fn.month;k.fn.weeks=k.fn.week;k.fn.isoWeeks=k.fn.isoWeek;k.fn.toJSON=k.fn.toISOString;n(k.duration.fn=h.prototype,{_bubble:function(){var a,b;a=this._milliseconds;b=this._days;var c=this._months,d=this._data;d.milliseconds=a%1E3;a=t(a/1E3);d.seconds=a%60;a=t(a/60);d.minutes=a%60;a=t(a/60);d.hours=a%24;b+=t(a/
24);d.days=b%30;c+=t(b/30);d.months=c%12;b=t(c/12);d.years=b},weeks:function(){return t(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*b(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=da(Math.abs(b)/1E3),f=da(e/60),g=da(f/60),h=da(g/24),n=da(h/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===g&&["h"]||22>g&&["hh",g]||1===h&&["d"]||25>=h&&["dd",h]||45>=h&&["M"]||345>h&&["MM",da(h/30)]||1===n&&["y"]||
["yy",n];c=(e[2]=c,e[3]=0<b,e[4]=d,s.apply({},e));return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=k.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=k.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=J(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=
J(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:k.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(x in ka)ka.hasOwnProperty(x)&&(G(x,ka[x]),fa(x.toLowerCase()));
G("Weeks",6048E5);k.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};k.lang("en",{ordinal:function(a){var c=a%10,c=1===b(a%100/10)?"th":1===c?"st":2===c?"nd":3===c?"rd":"th";return a+c}});la?(module.exports=k,N(!0)):"function"==typeof define&&define.amd?define("moment",function(a,b,d){return!0!==d.config().noGlobal&&N(d.config().noGlobal===c),k}):N()}).call(this);
var MomentUtil=function(){var c={duration:function(c,f){return(f?moment(f):moment()).diff(moment(c))},formatTime:function(c,f){var d=moment(c);return c&&d.isValid()?d.format(f):""},formatTimeSimple:function(e){return c.formatTime(e,"h:mm:ss a")},formatTimeAtDate:function(c){var f=moment(c);if(!c||!f.isValid())return"";c=moment();var d=c.diff(f),d=moment.duration(d);return 1>d.asDays()&&c.month()==f.month()?f.format("h:mm a"):1>d.asDays()&&c.month()!=f.month()?f.format("h:mm a"):1>d.asWeeks()?f.format("ddd h:mm a"):
f.year()!=c.year()?f.format("MMM do YYYY h a"):f.format("M/d ha")},formatDurationSimple:function(c){if(0>c)return"";c=moment.duration(c);var f=0;1<=c.asYears()&&(f=Math.floor(c.asYears()),c=c.subtract(f,"years"));var d=0;1<=c.asDays()&&(d=Math.floor(c.asDays()),c=c.subtract(d,"days"));var a=c.minutes(),h=c.seconds();return(0<f?f+"y ":"")+(0<d?d+"d ":"")+c.hours()+"."+(10>a?"0"+a:a)+":"+(10>h?"0"+h:h)},formatDurationHumanize:function(c){if(0>c)return"";var f=moment.duration(c),d=[];0<f.days()&&d.push(f.days()+
"d");0<f.hours()&&d.push(f.hours()+"h");0<f.minutes()&&d.push(f.minutes()+"m");0<f.seconds()?(c=f.seconds(),0<f.milliseconds()&&c++,d.push(c+"s")):1E3>c&&d.push("0s");return d.join(" ")},formatDurationMomentHumanize:function(c){return 0>c?"":moment.duration(c).humanize()}};return c}();
function StorageResource(){var c=this;c.meta=ko.observable({});c.wasDownloaded=ko.observable(!1);c.downloadError=ko.observable(null);c.metaValue=function(e){return c.meta()&&c.meta()[e]?c.meta()[e]():null};c.wasModified=ko.computed(function(){return c.meta()&&c.meta()["Rundeck-content-creation-time"]&&c.meta()["Rundeck-content-modify-time"]()?c.meta()["Rundeck-content-creation-time"]()!=c.meta()["Rundeck-content-modify-time"]():!1});c.isPrivateKey=ko.computed(function(){return c.meta()&&c.meta()["Rundeck-key-type"]&&
"private"==c.meta()["Rundeck-key-type"]()?!0:!1});c.isPublicKey=ko.computed(function(){return c.meta()&&c.meta()["Rundeck-key-type"]&&"public"==c.meta()["Rundeck-key-type"]()?!0:!1});c.isPassword=ko.computed(function(){return c.meta()&&c.meta()["Rundeck-data-type"]&&"password"==c.meta()["Rundeck-data-type"]()?!0:!1});c.contentSize=ko.computed(function(){return c.meta()&&c.meta()["Rundeck-content-size"]&&c.meta()["Rundeck-content-size"]()?c.meta()["Rundeck-content-size"]():""});c.createdUsername=ko.computed(function(){return c.meta()&&
c.meta()["Rundeck-auth-created-username"]&&c.meta()["Rundeck-auth-created-username"]()?c.meta()["Rundeck-auth-created-username"]():""});c.createdTime=ko.computed(function(){var e="";c.meta()&&c.meta()["Rundeck-content-creation-time"]&&c.meta()["Rundeck-content-creation-time"]()&&(e=MomentUtil.formatTimeAtDate(c.meta()["Rundeck-content-creation-time"]()));return e});c.modifiedTime=ko.computed(function(){var e="";c.meta()&&c.meta()["Rundeck-content-modify-time"]&&c.meta()["Rundeck-content-modify-time"]()&&
(e=MomentUtil.formatTimeAtDate(c.meta()["Rundeck-content-modify-time"]()));return e});c.modifiedTimeAgoText=ko.computed(function(){var e="";c.meta()&&c.meta()["Rundeck-content-modify-time"]&&c.meta()["Rundeck-content-modify-time"]()&&(e=c.meta()["Rundeck-content-modify-time"](),e=MomentUtil.formatDurationHumanize(MomentUtil.duration(e)));return e});c.modifiedUsername=ko.computed(function(){return c.meta()&&c.meta()["Rundeck-auth-modified-username"]&&c.meta()["Rundeck-auth-modified-username"]()?c.meta()["Rundeck-auth-modified-username"]():
""});c.modifiedTimeAgo=function(e){var f=c.modifiedTimeAgoText();return f?f+" "+e:""}}function StorageDir(c,e,f){var d=this;d.load=function(){c.loadDir(d.name())}}
function StorageUpload(c){var e=this;e.storage=c;e.modifyMode=ko.observable(!1);e.keyType=ko.observable("private");e.inputType=ko.observable("text");e.file=ko.observable("");e.textArea=ko.observable("");e.password=ko.observable("");e.fileName=ko.observable("");e.fileInputName=ko.computed(function(){var c=e.file();return c?0<=c.lastIndexOf("/")?c.substring(c.lastIndexOf("/")+1):0<=c.lastIndexOf("\\")?c.substring(c.lastIndexOf("\\")+1):c:""});e.validInput=ko.computed(function(){var c=e.inputType(),
d=e.file(),a=e.textArea(),h=e.password();return"text"==c?a||h?!0:!1:d?!0:!1});e.inputFullpath=ko.computed(function(){var c=e.fileName(),d=e.fileInputName(),a=e.storage.absolutePath(e.storage.inputPath());return(a?a.lastIndexOf("/")==a.length-1?a:a+"/":"")+(c?c:d)});e.inputType.subscribe(function(c){"text"==c?e.file(""):(e.textArea(""),e.password(""))});e.keyType.subscribe(function(c){"password"==c?(e.textArea(""),e.inputType("text")):e.password("")})}
function StorageBrowser(c,e,f){var d=this;d.baseUrl=c;d.fileSelect=f;d.rootPath=ko.observable(e);d.staticRoot=ko.observable(!1);d.errorMsg=ko.observable();d.path=ko.observable("");d.inputPath=ko.observable("");d.selectedPath=ko.observable();d.selectedResource=ko.observable();d.selectedIsDownloadable=ko.observable(!1);d.fileFilter=ko.observable();d.fieldTarget=ko.observable();d.resources=ko.observableArray([]);d.loading=ko.observable(!1);d.invalid=ko.observable(!1);d.browseMode=ko.observable("browse");
d.allowUpload=ko.observable(!1);d.allowSelection=ko.observable(!0);d.allowNotFound=ko.observable(!1);d.notFound=ko.observable(!1);d.files=ko.computed(function(){return ko.utils.arrayFilter(d.resources(),function(a){return"file"==a.type()}).sort(function(a,c){return a.path()==c.path()?0:a.path()<c.path()?-1:1})});d.filteredFiles=ko.computed(function(){return ko.utils.arrayFilter(d.files(),function(a){if(d.fileFilter()){var c=d.fileFilter().split("=");if(1<c.length){var e=c[1];return a.metaValue(c[0])==
e}}return!0})});d.directories=ko.computed(function(){return ko.utils.arrayFilter(d.resources(),function(a){return"directory"==a.type()}).sort(function(a,c){return a.path()==c.path()?0:a.path()<c.path()?-1:1})});d.selectedPathUrl=ko.computed(function(){return _genUrl(appLinks.storageKeysBrowse,{resourcePath:d.selectedPath()})});d.cleanPath=function(a){if(null!=a)for(;0==a.indexOf("/");)a=a.substring(1);else return"";return a};d.relativePath=function(a){var c=d.rootPath();if(!d.staticRoot())return a;
var e="";a&&c&&(a=d.cleanPath(a),e=d.cleanPath(a.substring(c.length)));return e};d.absolutePath=function(a){var c=d.rootPath();return d.staticRoot()?c+"/"+a:a};d.dirNameString=function(a){return 0<=a.lastIndexOf("/")?a.substring(a.lastIndexOf("/")+1):a};d.parentDirString=function(a){return null!=a&&0<=a.lastIndexOf("/")?a.substring(0,a.lastIndexOf("/")):""};d.dirName=function(a){return"string"==typeof a?d.dirNameString(a):"directory"==a.type()?d.dirNameString(a.path()):a.name()};d.upPath=ko.computed(function(){return d.path()!=
d.rootPath()&&d.path()!=d.rootPath()+"/"?0<=d.path().indexOf("/")?d.path().substring(0,d.path().lastIndexOf("/")):d.rootPath():null});d.loadDir=function(a){var c="string"==typeof a?a:a.path();a!=d.path()&&d.selectedPath(null);d.path(c)};d.initialLoad=function(){d.path(d.rootPath())};d.selectFile=function(a){if(d.allowSelection()){var c=!1;d.selectedPath()==a.path()?(d.selectedPath(null),d.selectedResource(null)):(d.selectedPath(a.path()),d.selectedResource(a),c="private"!=a.metaValue("Rundeck-key-type")&&
"password"!=a.metaValue("Rundeck-data-type"));d.selectedIsDownloadable(c)}};d.actionUploadModify=function(){d.selectedResource()&&(d.upload.fileName(d.selectedResource().name()),d.inputPath(d.relativePath(d.parentDirString(d.selectedResource().path()))),d.upload.keyType(d.selectedResource().isPrivateKey()?"private":d.selectedResource().isPublicKey()?"public":"password"),d.upload.modifyMode(!0),jQuery("#storageuploadkey").modal("show"))};d.actionUpload=function(){d.upload.modifyMode(!1);d.upload.fileName("");
jQuery("#storageuploadkey").modal("show")};d.actionLoadContents=function(a,c){d.selectedResource()&&d.selectedResource().isPublicKey()&&(jQuery(c).button("loading"),jQuery.ajax({url:_genUrl(appLinks.storageKeysDownload,{relativePath:d.relativePath(d.selectedPath())}),success:function(e,f){jQuery(c).button("reset");var y=jQuery("#"+a);setText(y[0],e);d.selectedResource().wasDownloaded(!0)},error:function(a,e,f){jQuery(c).button("reset");d.selectedResource().downloadError(f+" : "+a.responseText)}}))};
d.download=function(){d.selectedPath()&&(document.location=_genUrl(appLinks.storageKeysDownload,{relativePath:d.relativePath(d.selectedPath())}))};d.delete=function(){d.selectedPath()&&jQuery.ajax({dataType:"json",method:"post",url:_genUrl(appLinks.storageKeysDelete,{relativePath:d.relativePath(d.selectedPath())}),beforeSend:_ajaxSendTokens.curry("storage_browser_token"),data:{},success:function(a,c,e){d.selectedPath(null);d.loadPath(d.path())},error:function(a,c,e){d.loading(!1);404==a.status?d.pathNotFound(val):
a.responseJSON&&a.responseJSON.message?d.errorMsg(a.responseJSON.message):d.errorMsg(c+": "+e)}}).success(_ajaxReceiveTokens.curry("storage_browser_token"))};d.browseToInputPath=function(){d.path(d.absolutePath(d.inputPath()))};d.pathNotFound=function(a){d.notFound(!0);d.allowNotFound()?(d.resources([]),d.selectedPath(null),d.inputPath(d.relativePath(a))):(d.invalid(!0),d.errorMsg("Path not found: "+a))};d.loadPath=function(a){var c={resources:{key:function(a){return ko.utils.unwrapObservable(a.path)},
create:function(a){var c=new StorageResource;return ko.mapping.fromJS(a.data,{},c)}}};d.loading(!0);d.inputPath(d.relativePath(a));jQuery.ajax({dataType:"json",url:_genUrl(d.baseUrl,{relativePath:d.relativePath(a)}),data:{},success:function(e,f,y){d.loading(!1);"file"==e.type?(d.selectedPath(a),d.inputPath(d.relativePath(d.parentDirString(a))),d.browseToInputPath()):(d.errorMsg(null),d.invalid(!1),d.notFound(!1),e.resources||(e.resources=[]),ko.mapping.fromJS(e,c,d),d.selectedPath()&&((e=ko.utils.arrayFirst(d.resources(),
function(a){return a.path()==d.selectedPath()}))?(d.selectedPath(null),d.selectFile(e)):d.selectedPath(null)))},error:function(c,e,f){d.loading(!1);404==c.status?d.pathNotFound(a):d.errorMsg(e+": "+f)}})};d.path.subscribe(function(a){d.loadPath(a)});d.selectedResource.subscribe(function(a){a&&a.wasDownloaded(!1)},null,"beforeChange");d.browse=function(a,c,e){a&&d.rootPath(d.cleanPath(a));c?d.fileFilter(c):d.fileFilter(null);e?(a=d.cleanPath(e),d.selectedPath(a),d.path(d.parentDirString(a))):d.initialLoad()};
d.pathInRoot=ko.computed(function(){d.rootPath();d.staticRoot();var a=d.path();return d.relativePath(a)});d.selectedPathInRoot=ko.computed(function(){d.rootPath();d.staticRoot();var a=d.selectedPath();return d.relativePath(a)});d.upload=new StorageUpload(d)};