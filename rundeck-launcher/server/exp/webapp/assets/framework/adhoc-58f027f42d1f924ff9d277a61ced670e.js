(function(e){function d(a,c){return function(b){return v(a.call(this,b),c)}}function h(a,c){return function(b){return this.lang().ordinal(a.call(this,b),c)}}function f(){}function b(a){Q(a);u(this,a)}function l(a){var c=aa(a),b=c.year||0,g=c.month||0,p=c.week||0,k=c.day||0,d=c.hour||0,m=c.minute||0,f=c.second||0,c=c.millisecond||0;this._input=a;this._milliseconds=+c+1E3*f+6E4*m+36E5*d;this._days=+k+7*p;this._months=+g+12*b;this._data={};this._bubble()}function u(a,c){for(var b in c)c.hasOwnProperty(b)&&
(a[b]=c[b]);return c.hasOwnProperty("toString")&&(a.toString=c.toString),c.hasOwnProperty("valueOf")&&(a.valueOf=c.valueOf),a}function x(a){return 0>a?Math.ceil(a):Math.floor(a)}function v(a,c){for(var b=a+"";b.length<c;)b="0"+b;return b}function D(a,c,b,g){var p,k,d=c._milliseconds,m=c._days;c=c._months;d&&a._d.setTime(+a._d+d*b);(m||c)&&(p=a.minute(),k=a.hour());m&&a.date(a.date()+m*b);c&&a.month(a.month()+c*b);d&&!g&&q.updateOffset(a);(m||c)&&(a.minute(p),a.hour(k))}function U(a){return"[object Array]"===
Object.prototype.toString.call(a)}function V(c,b,p){var g,k=Math.min(c.length,b.length),d=Math.abs(c.length-b.length),m=0;for(g=0;k>g;g++)(p&&c[g]!==b[g]||!p&&a(c[g])!==a(b[g]))&&m++;return m+d}function F(a){if(a){var c=a.toLowerCase().replace(/(.)s$/,"$1");a=ra[a]||sa[c]||c}return a}function aa(a){var c,b,g={};for(b in a)a.hasOwnProperty(b)&&(c=F(b),c&&(g[c]=a[b]));return g}function ca(a){var c,b;if(0===a.indexOf("week"))c=7,b="day";else{if(0!==a.indexOf("month"))return;c=12;b="month"}q[a]=function(g,
p){var k,d,m=q.fn._lang[a],f=[];if("number"==typeof g&&(p=g,g=e),d=function(a){a=q().utc().set(b,a);return m.call(q.fn._lang,a,g||"")},null!=p)return d(p);for(k=0;c>k;k++)f.push(d(k));return f}}function a(a){a=+a;var c=0;return 0!==a&&isFinite(a)&&(c=0<=a?Math.floor(a):Math.ceil(a)),c}function W(a){return 0===a%4&&0!==a%100||0===a%400}function Q(a){var c;a._a&&-2===a._pf.overflow&&(c=0>a._a[M]||11<a._a[M]?M:1>a._a[R]||a._a[R]>(new Date(Date.UTC(a._a[H],a._a[M]+1,0))).getUTCDate()?R:0>a._a[z]||23<
a._a[z]?z:0>a._a[K]||59<a._a[K]?K:0>a._a[X]||59<a._a[X]?X:0>a._a[Y]||999<a._a[Y]?Y:-1,a._pf._overflowDayOfYear&&(H>c||c>R)&&(c=R),a._pf.overflow=c)}function O(a){a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function S(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,
a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function G(a){return a?a.toLowerCase().replace("_","-"):a}function L(a){var c,b,g,p,k=0,d=function(a){if(!da[a]&&la)try{require("./lang/"+a)}catch(c){}return da[a]};if(!a)return q.fn._lang;if(!U(a)){if(b=d(a))return b;a=[a]}for(;k<a.length;){p=G(a[k]).split("-");c=p.length;for(g=(g=G(a[k+1]))?g.split("-"):null;0<c;){if(b=d(p.slice(0,c).join("-")))return b;if(g&&g.length>=c&&V(p,g,!0)>=c-1)break;
c--}k++}return q.fn._lang}function B(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function C(a){var c,b,g=a.match(ma);c=0;for(b=g.length;b>c;c++)g[c]=ba[g[c]]?ba[g[c]]:B(g[c]);return function(p){var k="";for(c=0;b>c;c++)k+=g[c]instanceof Function?g[c].call(p,a):g[c];return k}}function t(a,c){return a.isValid()?(c=I(c,a.lang()),ha[c]||(ha[c]=C(c)),ha[c](a)):a.lang().invalidDate()}function I(a,c){function b(a){return c.longDateFormat(a)||a}var g=5;for(ga.lastIndex=0;0<=
g&&ga.test(a);)a=a.replace(ga,b),ga.lastIndex=0,--g;return a}function w(a,c){switch(a){case "DDDD":return ta;case "YYYY":case "GGGG":case "gggg":return ua;case "YYYYY":case "GGGGG":case "ggggg":return va;case "S":case "SS":case "SSS":case "DDD":return wa;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return xa;case "a":case "A":return L(c._l)._meridiemParse;case "X":return ya;case "Z":case "ZZ":return ia;case "T":return za;case "SSSS":return Aa;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "ww":case "W":case "WW":case "e":case "E":return Ba;
default:var b=RegExp,g;g=k(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new b(g)}}function T(c){c=((ia.exec(c)||[])[0]+"").match(Ca)||["-",0,0];var b=+(60*c[1])+a(c[2]);return"+"===c[0]?-b:b}function P(b){var g,p,k,d,f,e,n,J,fa,r=[];if(!b._d){p=c(b);b._w&&null==b._a[R]&&null==b._a[M]&&(d=function(a){return a?3>a.length?68<parseInt(a,10)?"19"+a:"20"+a:a:null==b._a[H]?q().weekYear():b._a[H]},f=b._w,null!=f.GG||null!=f.W||null!=f.E?e=s(d(f.GG),f.W||1,f.E,4,1):(n=L(b._l),J=null!=
f.d?N(f.d,n):null!=f.e?parseInt(f.e,10)+n._week.dow:0,fa=parseInt(f.w,10)||1,null!=f.d&&J<n._week.dow&&fa++,e=s(d(f.gg),fa,J,n._week.doy,n._week.dow)),b._a[H]=e.year,b._dayOfYear=e.dayOfYear);b._dayOfYear&&(k=null==b._a[H]?p[H]:b._a[H],b._dayOfYear>(W(k)?366:365)&&(b._pf._overflowDayOfYear=!0),g=Z(k,0,b._dayOfYear),b._a[M]=g.getUTCMonth(),b._a[R]=g.getUTCDate());for(g=0;3>g&&null==b._a[g];++g)b._a[g]=r[g]=p[g];for(;7>g;g++)b._a[g]=r[g]=null==b._a[g]?2===g?1:0:b._a[g];r[z]+=a((b._tzm||0)/60);r[K]+=
a((b._tzm||0)%60);b._d=(b._useUTC?Z:m).apply(null,r)}}function c(a){var c=new Date;return a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function g(c){c._a=[];c._pf.empty=!0;var b,g,p,k,d;b=L(c._l);var m=""+c._i,f=m.length,e=0;p=I(c._f,b).match(ma)||[];for(b=0;b<p.length;b++)if(k=p[b],(g=(w(k,c).exec(m)||[])[0])&&(d=m.substr(0,m.indexOf(g)),0<d.length&&c._pf.unusedInput.push(d),m=m.slice(m.indexOf(g)+g.length),e+=g.length),ba[k]){g?c._pf.empty=
!1:c._pf.unusedTokens.push(k);var n=c,q=void 0,s=n._a;switch(k){case "M":case "MM":null!=g&&(s[M]=a(g)-1);break;case "MMM":case "MMMM":q=L(n._l).monthsParse(g);null!=q?s[M]=q:n._pf.invalidMonth=g;break;case "D":case "DD":null!=g&&(s[R]=a(g));break;case "DDD":case "DDDD":null!=g&&(n._dayOfYear=a(g));break;case "YY":s[H]=a(g)+(68<a(g)?1900:2E3);break;case "YYYY":case "YYYYY":s[H]=a(g);break;case "a":case "A":n._isPm=L(n._l).isPM(g);break;case "H":case "HH":case "h":case "hh":s[z]=a(g);break;case "m":case "mm":s[K]=
a(g);break;case "s":case "ss":s[X]=a(g);break;case "S":case "SS":case "SSS":case "SSSS":s[Y]=a(1E3*("0."+g));break;case "X":n._d=new Date(1E3*parseFloat(g));break;case "Z":case "ZZ":n._useUTC=!0;n._tzm=T(g);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":k=k.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":k=k.substr(0,2),g&&(n._w=n._w||{},n._w[k]=g)}}else c._strict&&!g&&c._pf.unusedTokens.push(k);c._pf.charsLeftOver=f-e;
0<m.length&&c._pf.unusedInput.push(m);c._isPm&&12>c._a[z]&&(c._a[z]+=12);!1===c._isPm&&12===c._a[z]&&(c._a[z]=0);P(c);Q(c)}function k(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,b,g,p){return c||b||g||p})}function m(a,c,b,g,p,k,d){c=new Date(a,c,b,g,p,k,d);return 1970>a&&c.setFullYear(a),c}function Z(a){var c=new Date(Date.UTC.apply(null,arguments));return 1970>a&&c.setUTCFullYear(a),c}function N(a,c){if("string"==typeof a)if(isNaN(a)){if(a=c.weekdaysParse(a),"number"!=
typeof a)return null}else a=parseInt(a,10);return a}function E(a,c,b,g,p){return p.relativeTime(c||1,!!b,a,g)}function r(a,c,b){var g;c=b-c;b-=a.day();return b>c&&(b-=7),c-7>b&&(b+=7),g=q(a).add("d",b),{week:Math.ceil(g.dayOfYear()/7),year:g.year()}}function s(a,c,b,g,p){var k,d,m=(new Date(Date.UTC(a,0))).getUTCDay();return b=null!=b?b:p,k=p-m+(m>g?7:0),d=7*(c-1)+(b-p)+k+1,{year:0<d?a:a-1,dayOfYear:0<d?d:(W(a-1)?366:365)+d}}function n(a){var c=a._i,p=a._f;"undefined"==typeof a._pf&&O(a);if(null===
c)a=q.invalid({nullInput:!0});else{"string"==typeof c&&(a._i=c=L().preparse(c));if(q.isMoment(c))a=u({},c),a._d=new Date(+c._d);else if(p)if(U(p)){var k=a,d,m,f;if(0===k._f.length)k._pf.invalidFormat=!0,k._d=new Date(0/0);else{for(c=0;c<k._f.length;c++)p=0,d=u({},k),O(d),d._f=k._f[c],g(d),S(d)&&(p+=d._pf.charsLeftOver,p+=10*d._pf.unusedTokens.length,d._pf.score=p,(null==f||f>p)&&(f=p,m=d));u(k,m||d)}}else g(a);else if(d=a,m=d._i,f=Da.exec(m),m===e)d._d=new Date;else if(f)d._d=new Date(+f[1]);else if("string"==
typeof m)if(f=d._i,k=Ea.exec(f)){d._pf.iso=!0;for(m=4;0<m;m--)if(k[m]){d._f=Fa[m-1]+(k[6]||" ");break}for(m=0;4>m;m++)if(na[m][1].exec(f)){d._f+=na[m][0];break}ia.exec(f)&&(d._f+="Z");g(d)}else d._d=new Date(f);else U(m)?(d._a=m.slice(0),P(d)):"[object Date]"===Object.prototype.toString.call(m)||m instanceof Date?d._d=new Date(+m):"object"==typeof m?d._d||(k=aa(d._i),d._a=[k.year,k.month,k.day,k.hour,k.minute,k.second,k.millisecond],P(d)):d._d=new Date(m);a=new b(a)}return a}function A(a,c){q.fn[a]=
q.fn[a+"s"]=function(a){var b=this._isUTC?"UTC":"";return null!=a?(this._d["set"+b+c](a),q.updateOffset(this),this):this._d["get"+b+c]()}}function p(a){q.duration.fn[a]=function(){return this._data[a]}}function fa(a,c){q.duration.fn["as"+a]=function(){return+this/c}}function J(a){var c=!1,b=q;"undefined"==typeof ender&&(this.moment=a?function(){return!c&&console&&console.warn&&(c=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),
b.apply(null,arguments)}:q)}for(var q,y,ea=Math.round,H=0,M=1,R=2,z=3,K=4,X=5,Y=6,da={},la="undefined"!=typeof module&&module.exports,Da=/^\/?Date\((\-?\d+)/i,Ga=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ha=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ma=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,
ga=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ba=/\d\d?/,wa=/\d{1,3}/,ta=/\d{3}/,ua=/\d{1,4}/,va=/[+\-]?\d{1,6}/,Aa=/\d+/,xa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ia=/Z|[\+\-]\d\d:?\d\d/i,za=/T/i,ya=/[\+\-]?\d+(\.\d{1,3})?/,Ea=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,Fa=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],na=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],
["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ca=/([\+\-]|\d\d)/gi,ja=["Date","Hours","Minutes","Seconds","Milliseconds"],ka={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},ra={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},sa={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",
weekyear:"weekYear",isoweekyear:"isoWeekYear"},ha={},oa="DDD w W M D d".split(" "),pa="MDHhmswW".split(""),ba={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,
a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},
E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return a(this.milliseconds()/100)},SS:function(){return v(a(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),
3)},Z:function(){var c=-this.zone(),b="+";return 0>c&&(c=-c,b="-"),b+v(a(c/60),2)+":"+v(a(c)%60,2)},ZZ:function(){var c=-this.zone(),b="+";return 0>c&&(c=-c,b="-"),b+v(a(10*c/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},qa=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];oa.length;)y=oa.pop(),ba[y+"o"]=h(ba[y],y);for(;pa.length;)y=pa.pop(),ba[y+y]=d(ba[y],2);ba.DDDD=d(ba.DDD,3);u(f.prototype,{set:function(a){var c,
b;for(b in a)c=a[b],"function"==typeof c?this[b]=c:this["_"+b]=c},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var c,b,g;this._monthsParse||(this._monthsParse=[]);for(c=0;12>c;c++)if(this._monthsParse[c]||(b=q.utc([2E3,c]),g="^"+
this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[c]=new RegExp(g.replace(".",""),"i")),this._monthsParse[c].test(a))return c},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var c,
b,g;this._weekdaysParse||(this._weekdaysParse=[]);for(c=0;7>c;c++)if(this._weekdaysParse[c]||(b=q([2E3,1]).day(c),g="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[c]=new RegExp(g.replace(".",""),"i")),this._weekdaysParse[c].test(a))return c},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var c=this._longDateFormat[a];return!c&&this._longDateFormat[a.toUpperCase()]&&
(c=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=c),c},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,c,b){return 11<a?b?"pm":"PM":b?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,c){var b=this._calendar[a];return"function"==
typeof b?b.apply(c):b},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,c,b,g){var p=this._relativeTime[b];return"function"==typeof p?p(a,c,b,g):p.replace(/%d/i,a)},pastFuture:function(a,c){var b=this._relativeTime[0<a?"future":"past"];return"function"==typeof b?b(c):b.replace(/%s/i,c)},ordinal:function(a){return this._ordinal.replace("%d",
a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return r(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});q=function(a,c,b,g){return"boolean"==typeof b&&(g=b,b=e),n({_i:a,_f:c,_l:b,_strict:g,_isUTC:!1})};q.utc=function(a,c,b,g){return"boolean"==typeof b&&(g=b,b=e),n({_useUTC:!0,_isUTC:!0,_l:b,_i:a,_f:c,_strict:g}).utc()};q.unix=function(a){return q(1E3*a)};q.duration=
function(c,b){var g,p,k,d=q.isDuration(c),m="number"==typeof c,f=d?c._input:m?{}:c,n=null;return m?b?f[b]=c:f.milliseconds=c:(n=Ga.exec(c))?(g="-"===n[1]?-1:1,f={y:0,d:a(n[R])*g,h:a(n[z])*g,m:a(n[K])*g,s:a(n[X])*g,ms:a(n[Y])*g}):(n=Ha.exec(c))&&(g="-"===n[1]?-1:1,k=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*g},f={y:k(n[2]),M:k(n[3]),d:k(n[4]),h:k(n[5]),m:k(n[6]),s:k(n[7]),w:k(n[8])}),p=new l(f),d&&c.hasOwnProperty("_lang")&&(p._lang=c._lang),p};q.version="2.4.0";q.defaultFormat=
"YYYY-MM-DDTHH:mm:ssZ";q.updateOffset=function(){};q.lang=function(a,c){var b,g;a?(c?(g=G(a),c.abbr=g,da[g]||(da[g]=new f),da[g].set(c)):null===c?(delete da[a],a="en"):da[a]||L(a),g=(b=q.duration.fn._lang=q.fn._lang=L(a),b._abbr)):g=q.fn._lang._abbr;return g};q.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),L(a)};q.isMoment=function(a){return a instanceof b};q.isDuration=function(a){return a instanceof l};for(y=qa.length-1;0<=y;--y)ca(qa[y]);q.normalizeUnits=function(a){return F(a)};
q.invalid=function(a){var c=q.utc(0/0);return null!=a?u(c._pf,a):c._pf.userInvalidated=!0,c};q.parseZone=function(a){return q(a).parseZone()};u(q.fn=b.prototype,{clone:function(){return q(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return t(q(this).utc(),
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return S(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<V(this._a,(this._isUTC?q.utc(this._a):q(this._a)).toArray()):!1},parsingFlags:function(){return u({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},
format:function(a){a=t(this,a||q.defaultFormat);return this.lang().postformat(a)},add:function(a,c){var b;return b="string"==typeof a?q.duration(+c,a):q.duration(a,c),D(this,b,1),this},subtract:function(a,c){var b;return b="string"==typeof a?q.duration(+c,a):q.duration(a,c),D(this,b,-1),this},diff:function(a,c,b){var g,p;a=this._isUTC?q(a).zone(this._offset||0):q(a).local();var k=6E4*(this.zone()-a.zone());return c=F(c),"year"===c||"month"===c?(g=432E5*(this.daysInMonth()+a.daysInMonth()),p=12*(this.year()-
a.year())+(this.month()-a.month()),p+=(this-q(this).startOf("month")-(a-q(a).startOf("month")))/g,p-=6E4*(this.zone()-q(this).startOf("month").zone()-(a.zone()-q(a).startOf("month").zone()))/g,"year"===c&&(p/=12)):(g=this-a,p="second"===c?g/1E3:"minute"===c?g/6E4:"hour"===c?g/36E5:"day"===c?(g-k)/864E5:"week"===c?(g-k)/6048E5:g),b?p:x(p)},from:function(a,c){return q.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!c)},fromNow:function(a){return this.from(q(),a)},calendar:function(){var a=
this.diff(q().zone(this.zone()).startOf("day"),"days",!0),a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){return W(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var c=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=N(a,this.lang()),this.add({d:a-c})):c},month:function(a){var c,
b=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(c=this.date(),this.date(1),this._d["set"+b+"Month"](a),this.date(Math.min(c,this.daysInMonth())),q.updateOffset(this),this):this._d["get"+b+"Month"]()},startOf:function(a){switch(a=F(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===
a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=F(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)>+q(a).startOf(c)},isBefore:function(a,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)<+q(a).startOf(c)},isSame:function(a,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)===+q(a).startOf(c)},min:function(a){return a=
q.apply(null,arguments),this>a?this:a},max:function(a){return a=q.apply(null,arguments),a>this?this:a},zone:function(a){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof a&&(a=T(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,c!==a&&D(this,q.duration(c-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&
this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?q(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){var a=this.year(),c=this.month();return(new Date(Date.UTC(a,c+1,0))).getUTCDate()},dayOfYear:function(a){var c=ea((q(this).startOf("day")-q(this).startOf("year"))/864E5)+1;return null==a?c:this.add("d",a-c)},weekYear:function(a){var c=r(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?c:this.add("y",a-c)},isoWeekYear:function(a){var c=r(this,1,4).year;
return null==a?c:this.add("y",a-c)},week:function(a){var c=this.lang().week(this);return null==a?c:this.add("d",7*(a-c))},isoWeek:function(a){var c=r(this,1,4).week;return null==a?c:this.add("d",7*(a-c))},weekday:function(a){var c=(this.day()+7-this.lang()._week.dow)%7;return null==a?c:this.add("d",a-c)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=F(a),this[a]()},set:function(a,c){return a=F(a),"function"==typeof this[a]&&this[a](c),this},
lang:function(a){return a===e?this._lang:(this._lang=L(a),this)}});for(y=0;y<ja.length;y++)A(ja[y].toLowerCase().replace(/s$/,""),ja[y]);A("year","FullYear");q.fn.days=q.fn.day;q.fn.months=q.fn.month;q.fn.weeks=q.fn.week;q.fn.isoWeeks=q.fn.isoWeek;q.fn.toJSON=q.fn.toISOString;u(q.duration.fn=l.prototype,{_bubble:function(){var a,c;a=this._milliseconds;c=this._days;var b=this._months,g=this._data;g.milliseconds=a%1E3;a=x(a/1E3);g.seconds=a%60;a=x(a/60);g.minutes=a%60;a=x(a/60);g.hours=a%24;c+=x(a/
24);g.days=c%30;b+=x(c/30);g.months=b%12;c=x(b/12);g.years=c},weeks:function(){return x(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*a(this._months/12)},humanize:function(a){var c=+this,b;b=!a;var g=this.lang(),p=ea(Math.abs(c)/1E3),k=ea(p/60),d=ea(k/60),m=ea(d/24),f=ea(m/365),p=45>p&&["s",p]||1===k&&["m"]||45>k&&["mm",k]||1===d&&["h"]||22>d&&["hh",d]||1===m&&["d"]||25>=m&&["dd",m]||45>=m&&["M"]||345>m&&["MM",ea(m/30)]||1===f&&["y"]||
["yy",f];b=(p[2]=b,p[3]=0<c,p[4]=g,E.apply({},p));return a&&(b=this.lang().pastFuture(c,b)),this.lang().postformat(b)},add:function(a,c){var b=q.duration(a,c);return this._milliseconds+=b._milliseconds,this._days+=b._days,this._months+=b._months,this._bubble(),this},subtract:function(a,c){var b=q.duration(a,c);return this._milliseconds-=b._milliseconds,this._days-=b._days,this._months-=b._months,this._bubble(),this},get:function(a){return a=F(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=
F(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:q.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),c=Math.abs(this.months()),b=Math.abs(this.days()),g=Math.abs(this.hours()),p=Math.abs(this.minutes()),k=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(c?c+"M":"")+(b?b+"D":"")+(g||p||k?"T":"")+(g?g+"H":"")+(p?p+"M":"")+(k?k+"S":""):"P0D"}});for(y in ka)ka.hasOwnProperty(y)&&(fa(y,ka[y]),p(y.toLowerCase()));
fa("Weeks",6048E5);q.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};q.lang("en",{ordinal:function(c){var b=c%10,b=1===a(c%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return c+b}});la?(module.exports=q,J(!0)):"function"==typeof define&&define.amd?define("moment",function(a,c,b){return!0!==b.config().noGlobal&&J(b.config().noGlobal===e),q}):J()}).call(this);
var MomentUtil=function(){var e={duration:function(d,e){return(e?moment(e):moment()).diff(moment(d))},formatTime:function(d,e){var f=moment(d);return d&&f.isValid()?f.format(e):""},formatTimeSimple:function(d){return e.formatTime(d,"h:mm:ss a")},formatTimeAtDate:function(d){var e=moment(d);if(!d||!e.isValid())return"";d=moment();var f=d.diff(e),f=moment.duration(f);return 1>f.asDays()&&d.month()==e.month()?e.format("h:mm a"):1>f.asDays()&&d.month()!=e.month()?e.format("h:mm a"):1>f.asWeeks()?e.format("ddd h:mm a"):
e.year()!=d.year()?e.format("MMM do YYYY h a"):e.format("M/d ha")},formatDurationSimple:function(d){if(0>d)return"";d=moment.duration(d);var e=0;1<=d.asYears()&&(e=Math.floor(d.asYears()),d=d.subtract(e,"years"));var f=0;1<=d.asDays()&&(f=Math.floor(d.asDays()),d=d.subtract(f,"days"));var b=d.minutes(),l=d.seconds();return(0<e?e+"y ":"")+(0<f?f+"d ":"")+d.hours()+"."+(10>b?"0"+b:b)+":"+(10>l?"0"+l:l)},formatDurationHumanize:function(d){if(0>d)return"";var e=moment.duration(d),f=[];0<e.days()&&f.push(e.days()+
"d");0<e.hours()&&f.push(e.hours()+"h");0<e.minutes()&&f.push(e.minutes()+"m");0<e.seconds()?(d=e.seconds(),0<e.milliseconds()&&d++,f.push(d+"s")):1E3>d&&f.push("0s");return f.join(" ")},formatDurationMomentHumanize:function(d){return 0>d?"":moment.duration(d).humanize()}};return e}();
(function(){(function(e){var d=this||(0,eval)("this"),h=d.document,f=d.navigator,b=d.jQuery,l=d.JSON;(function(b){"function"===typeof define&&define.amd?define(["exports","require"],b):"object"===typeof exports&&"object"===typeof module?b(module.exports||exports):b(d.ko={})})(function(u,x){function v(a,b){return null===a||typeof a in W?a===b:!1}function D(c,b){var k;return function(){k||(k=a.a.setTimeout(function(){k=e;c()},b))}}function U(c,b){var k;return function(){clearTimeout(k);k=a.a.setTimeout(c,
b)}}function V(a,b){b&&b!==Q?"beforeChange"===b?this.Kb(a):this.Ha(a,b):this.Lb(a)}function F(a,b){null!==b&&b.k&&b.k()}function aa(a,b){var k=this.Hc,d=k[B];d.R||(this.lb&&this.Ma[b]?(k.Pb(b,a,this.Ma[b]),this.Ma[b]=null,--this.lb):d.r[b]||k.Pb(b,a,d.s?{ia:a}:k.uc(a)))}function ca(c,b,k,d){a.d[c]={init:function(c,f,e,r,s){var n,A;a.m(function(){var p=a.a.c(f()),e=!k!==!p,J=!A;if(J||b||e!==n)J&&a.va.Aa()&&(A=a.a.ua(a.f.childNodes(c),!0)),e?(J||a.f.da(c,a.a.ua(A)),a.eb(d?d(s,p):s,c)):a.f.xa(c),n=e},
null,{i:c});return{controlsDescendantBindings:!0}}};a.h.ta[c]=!1;a.f.Z[c]=!0}var a="undefined"!==typeof u?u:{};a.b=function(c,b){for(var k=c.split("."),d=a,f=0;f<k.length-1;f++)d=d[k[f]];d[k[k.length-1]]=b};a.G=function(a,b,k){a[b]=k};a.version="3.4.0";a.b("version",a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1};a.a=function(){function c(a,c){for(var b in a)a.hasOwnProperty(b)&&c(b,a[b])}function g(a,c){if(c)for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a}function k(a,c){a.__proto__=
c;return a}function m(c,b,g,k){var d=c[b].match(A)||[];a.a.q(g.match(A),function(c){a.a.pa(d,c,k)});c[b]=d.join(" ")}var Z={__proto__:[]}instanceof Array,N="function"===typeof Symbol,E={},r={};E[f&&/Firefox\/2/i.test(f.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];E.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");c(E,function(a,c){if(c.length)for(var b=0,g=c.length;b<g;b++)r[c[b]]=a});var s={propertychange:!0},n=
h&&function(){for(var a=3,c=h.createElement("div"),b=c.getElementsByTagName("i");c.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",b[0];);return 4<a?a:e}(),A=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(a,c){for(var b=0,g=a.length;b<g;b++)c(a[b],b)},o:function(a,c){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,c);for(var b=0,g=a.length;b<g;b++)if(a[b]===c)return b;return-1},Sb:function(a,c,b){for(var g=
0,k=a.length;g<k;g++)if(c.call(b,a[g],g))return a[g];return null},La:function(c,b){var g=a.a.o(c,b);0<g?c.splice(g,1):0===g&&c.shift()},Tb:function(c){c=c||[];for(var b=[],g=0,k=c.length;g<k;g++)0>a.a.o(b,c[g])&&b.push(c[g]);return b},fb:function(a,c){a=a||[];for(var b=[],g=0,k=a.length;g<k;g++)b.push(c(a[g],g));return b},Ka:function(a,c){a=a||[];for(var b=[],g=0,k=a.length;g<k;g++)c(a[g],g)&&b.push(a[g]);return b},ra:function(a,c){if(c instanceof Array)a.push.apply(a,c);else for(var b=0,g=c.length;b<
g;b++)a.push(c[b]);return a},pa:function(c,b,g){var k=a.a.o(a.a.zb(c),b);0>k?g&&c.push(b):g||c.splice(k,1)},ka:Z,extend:g,Xa:k,Ya:Z?k:g,D:c,Ca:function(a,c){if(!a)return a;var b={},g;for(g in a)a.hasOwnProperty(g)&&(b[g]=c(a[g],g,a));return b},ob:function(c){for(;c.firstChild;)a.removeNode(c.firstChild)},jc:function(c){c=a.a.V(c);for(var b=(c[0]&&c[0].ownerDocument||h).createElement("div"),g=0,k=c.length;g<k;g++)b.appendChild(a.$(c[g]));return b},ua:function(c,b){for(var g=0,k=c.length,d=[];g<k;g++){var m=
c[g].cloneNode(!0);d.push(b?a.$(m):m)}return d},da:function(c,b){a.a.ob(c);if(b)for(var g=0,k=b.length;g<k;g++)c.appendChild(b[g])},qc:function(c,b){var g=c.nodeType?[c]:c;if(0<g.length){for(var k=g[0],d=k.parentNode,m=0,f=b.length;m<f;m++)d.insertBefore(b[m],k);m=0;for(f=g.length;m<f;m++)a.removeNode(g[m])}},za:function(a,c){if(a.length){for(c=8===c.nodeType&&c.parentNode||c;a.length&&a[0].parentNode!==c;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==c;)a.length--;if(1<a.length){var b=
a[0],g=a[a.length-1];for(a.length=0;b!==g;)a.push(b),b=b.nextSibling;a.push(g)}}return a},sc:function(a,c){7>n?a.setAttribute("selected",c):a.selected=c},$a:function(a){return null===a||a===e?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(a,c){a=a||"";return c.length>a.length?!1:a.substring(0,c.length)===c},Mc:function(a,c){if(a===c)return!0;if(11===a.nodeType)return!1;if(c.contains)return c.contains(3===a.nodeType?a.parentNode:a);if(c.compareDocumentPosition)return 16==
(c.compareDocumentPosition(a)&16);for(;a&&a!=c;)a=a.parentNode;return!!a},nb:function(c){return a.a.Mc(c,c.ownerDocument.documentElement)},Qb:function(c){return!!a.a.Sb(c,a.a.nb)},A:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},Wb:function(c){return a.onError?function(){try{return c.apply(this,arguments)}catch(b){throw a.onError&&a.onError(b),b;}}:c},setTimeout:function(c,b){return setTimeout(a.a.Wb(c),b)},$b:function(c){setTimeout(function(){a.onError&&a.onError(c);throw c;},0)},p:function(c,
g,k){var d=a.a.Wb(k);k=n&&s[g];if(a.options.useOnlyNativeEvents||k||!b)if(k||"function"!=typeof c.addEventListener)if("undefined"!=typeof c.attachEvent){var m=function(a){d.call(c,a)},f="on"+g;c.attachEvent(f,m);a.a.F.oa(c,function(){c.detachEvent(f,m)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else c.addEventListener(g,d,!1);else b(c).bind(g,d)},Da:function(c,g){if(!c||!c.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var k;"input"===
a.a.A(c)&&c.type&&"click"==g.toLowerCase()?(k=c.type,k="checkbox"==k||"radio"==k):k=!1;if(a.options.useOnlyNativeEvents||!b||k)if("function"==typeof h.createEvent)if("function"==typeof c.dispatchEvent)k=h.createEvent(r[g]||"HTMLEvents"),k.initEvent(g,!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,c),c.dispatchEvent(k);else throw Error("The supplied element doesn't support dispatchEvent");else if(k&&c.click)c.click();else if("undefined"!=typeof c.fireEvent)c.fireEvent("on"+g);else throw Error("Browser doesn't support triggering events");
else b(c).trigger(g)},c:function(c){return a.H(c)?c():c},zb:function(c){return a.H(c)?c.t():c},bb:function(c,b,g){var k;b&&("object"===typeof c.classList?(k=c.classList[g?"add":"remove"],a.a.q(b.match(A),function(a){k.call(c.classList,a)})):"string"===typeof c.className.baseVal?m(c.className,"baseVal",b,g):m(c,"className",b,g))},Za:function(c,b){var g=a.a.c(b);if(null===g||g===e)g="";var k=a.f.firstChild(c);!k||3!=k.nodeType||a.f.nextSibling(k)?a.f.da(c,[c.ownerDocument.createTextNode(g)]):k.data=
g;a.a.Rc(c)},rc:function(a,c){a.name=c;if(7>=n)try{a.mergeAttributes(h.createElement("<input name='"+a.name+"'/>"),!1)}catch(b){}},Rc:function(a){9<=n&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Nc:function(a){if(n){var c=a.style.width;a.style.width=0;a.style.width=c}},hd:function(c,b){c=a.a.c(c);b=a.a.c(b);for(var g=[],k=c;k<=b;k++)g.push(k);return g},V:function(a){for(var c=[],b=0,g=a.length;b<g;b++)c.push(a[b]);return c},Yb:function(a){return N?Symbol(a):a},rd:6===n,
sd:7===n,C:n,ec:function(c,b){for(var g=a.a.V(c.getElementsByTagName("input")).concat(a.a.V(c.getElementsByTagName("textarea"))),k="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},d=[],m=g.length-1;0<=m;m--)k(g[m])&&d.push(g[m]);return d},ed:function(c){return"string"==typeof c&&(c=a.a.$a(c))?l&&l.parse?l.parse(c):(new Function("return "+c))():null},Eb:function(c,b,g){if(!l||!l.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return l.stringify(a.a.c(c),b,g)},fd:function(b,g,k){k=k||{};var d=k.params||{},m=k.includeFields||this.cc,f=b;if("object"==typeof b&&"form"===a.a.A(b))for(var f=b.action,e=m.length-1;0<=e;e--)for(var n=a.a.ec(b,m[e]),s=n.length-1;0<=s;s--)d[n[s].name]=n[s].value;g=a.a.c(g);var r=h.createElement("form");r.style.display="none";r.action=f;r.method="post";for(var Z in g)b=h.createElement("input"),b.type="hidden",b.name=Z,b.value=a.a.Eb(a.a.c(g[Z])),r.appendChild(b);c(d,function(a,c){var b=h.createElement("input");
b.type="hidden";b.name=a;b.value=c;r.appendChild(b)});h.body.appendChild(r);k.submitter?k.submitter(r):r.submit();setTimeout(function(){r.parentNode.removeChild(r)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.q);a.b("utils.arrayFirst",a.a.Sb);a.b("utils.arrayFilter",a.a.Ka);a.b("utils.arrayGetDistinctValues",a.a.Tb);a.b("utils.arrayIndexOf",a.a.o);a.b("utils.arrayMap",a.a.fb);a.b("utils.arrayPushAll",a.a.ra);a.b("utils.arrayRemoveItem",a.a.La);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",
a.a.cc);a.b("utils.getFormFields",a.a.ec);a.b("utils.peekObservable",a.a.zb);a.b("utils.postJson",a.a.fd);a.b("utils.parseJson",a.a.ed);a.b("utils.registerEventHandler",a.a.p);a.b("utils.stringifyJson",a.a.Eb);a.b("utils.range",a.a.hd);a.b("utils.toggleDomNodeCssClass",a.a.bb);a.b("utils.triggerEvent",a.a.Da);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.D);a.b("utils.addOrRemoveItem",a.a.pa);a.b("utils.setTextContent",a.a.Za);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=
function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var k=Array.prototype.slice.call(arguments,1);return function(){var d=k.slice(0);d.push.apply(d,arguments);return b.apply(a,d)}});a.a.e=new function(){function a(c,f){var E=c[k];if(!E||"null"===E||!d[E]){if(!f)return e;E=c[k]="ko"+b++;d[E]={}}return d[E]}var b=0,k="__ko__"+(new Date).getTime(),d={};return{get:function(b,g){var k=a(b,!1);return k===e?e:k[g]},set:function(b,g,k){if(k!==e||a(b,!1)!==e)a(b,!0)[g]=
k},clear:function(a){var c=a[k];return c?(delete d[c],a[k]=null,!0):!1},I:function(){return b++ +k}}};a.b("utils.domData",a.a.e);a.b("utils.domData.clear",a.a.e.clear);a.a.F=new function(){function c(c,b){var g=a.a.e.get(c,k);g===e&&b&&(g=[],a.a.e.set(c,k,g));return g}function g(b){var k=c(b,!1);if(k)for(var k=k.slice(0),d=0;d<k.length;d++)k[d](b);a.a.e.clear(b);a.a.F.cleanExternalData(b);if(f[b.nodeType])for(k=b.firstChild;b=k;)k=b.nextSibling,8===b.nodeType&&g(b)}var k=a.a.e.I(),d={1:!0,8:!0,9:!0},
f={1:!0,9:!0};return{oa:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");c(a,!0).push(b)},pc:function(b,g){var d=c(b,!1);d&&(a.a.La(d,g),0==d.length&&a.a.e.set(b,k,e))},$:function(c){if(d[c.nodeType]&&(g(c),f[c.nodeType])){var b=[];a.a.ra(b,c.getElementsByTagName("*"));for(var k=0,e=b.length;k<e;k++)g(b[k])}return c},removeNode:function(c){a.$(c);c.parentNode&&c.parentNode.removeChild(c)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};
a.$=a.a.F.$;a.removeNode=a.a.F.removeNode;a.b("cleanNode",a.$);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.F);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.F.oa);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.F.pc);(function(){var c=[0,"",""],g=[1,"<table>","</table>"],k=[3,"<table><tbody><tr>","</tr></tbody></table>"],m=[1,"<select multiple='multiple'>","</select>"],f={thead:g,tbody:g,tfoot:g,tr:[2,"<table><tbody>","</tbody></table>"],td:k,th:k,option:m,optgroup:m},
N=8>=a.a.C;a.a.ma=function(g,k){var m;if(b)if(b.parseHTML)m=b.parseHTML(g,k)||[];else{if((m=b.clean([g],k))&&m[0]){for(var e=m[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{(m=k)||(m=h);var e=m.parentWindow||m.defaultView||d,A=a.a.$a(g).toLowerCase(),p=m.createElement("div"),l;l=(A=A.match(/^<([a-z]+)[ >]/))&&f[A[1]]||c;A=l[0];l="ignored<div>"+l[1]+g+l[2]+"</div>";for("function"==typeof e.innerShiv?p.appendChild(e.innerShiv(l)):(N&&m.appendChild(p),
p.innerHTML=l,N&&p.parentNode.removeChild(p));A--;)p=p.lastChild;m=a.a.V(p.lastChild.childNodes)}return m};a.a.Cb=function(c,g){a.a.ob(c);g=a.a.c(g);if(null!==g&&g!==e)if("string"!=typeof g&&(g=g.toString()),b)b(c).html(g);else for(var k=a.a.ma(g,c.ownerDocument),d=0;d<k.length;d++)c.appendChild(k[d])}})();a.b("utils.parseHtmlFragment",a.a.ma);a.b("utils.setHtml",a.a.Cb);a.M=function(){function c(b,g){if(b)if(8==b.nodeType){var d=a.M.lc(b.nodeValue);null!=d&&g.push({Lc:b,cd:d})}else if(1==b.nodeType)for(var d=
0,f=b.childNodes,e=f.length;d<e;d++)c(f[d],g)}var b={};return{wb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var c=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);b[c]=a;return"\x3c!--[ko_memo:"+c+"]--\x3e"},xc:function(a,c){var d=b[a];if(d===e)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,c||[]),
!0}finally{delete b[a]}},yc:function(b,g){var d=[];c(b,d);for(var f=0,e=d.length;f<e;f++){var r=d[f].Lc,s=[r];g&&a.a.ra(s,g);a.M.xc(d[f].cd,s);r.nodeValue="";r.parentNode&&r.parentNode.removeChild(r)}},lc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.M);a.b("memoization.memoize",a.M.wb);a.b("memoization.unmemoize",a.M.xc);a.b("memoization.parseMemoText",a.M.lc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.M.yc);a.Y=function(){function c(){if(f)for(var c=
f,b=0,g;N<f;)if(g=k[N++]){if(N>c){if(5E3<=++b){N=f;a.a.$b(Error("'Too much recursion' after processing "+b+" task groups."));break}c=f}try{g()}catch(d){a.a.$b(d)}}}function b(){c();N=f=k.length=0}var k=[],f=0,e=1,N=0;return{scheduler:d.MutationObserver?function(a){var c=h.createElement("div");(new MutationObserver(a)).observe(c,{attributes:!0});return function(){c.classList.toggle("foo")}}(b):h&&"onreadystatechange"in h.createElement("script")?function(a){var c=h.createElement("script");c.onreadystatechange=
function(){c.onreadystatechange=null;h.documentElement.removeChild(c);c=null;a()};h.documentElement.appendChild(c)}:function(a){setTimeout(a,0)},Wa:function(c){f||a.Y.scheduler(b);k[f++]=c;return e++},cancel:function(a){a-=e-f;a>=N&&a<f&&(k[a]=null)},resetForTesting:function(){var a=f-N;N=f=k.length=0;return a},md:c}}();a.b("tasks",a.Y);a.b("tasks.schedule",a.Y.Wa);a.b("tasks.runEarly",a.Y.md);a.ya={throttle:function(c,b){c.throttleEvaluation=b;var k=null;return a.B({read:c,write:function(d){clearTimeout(k);
k=a.a.setTimeout(function(){c(d)},b)}})},rateLimit:function(a,b){var k,d,f;"number"==typeof b?k=b:(k=b.timeout,d=b.method);a.cb=!1;f="notifyWhenChangesStop"==d?U:D;a.Ta(function(a){return f(a,k)})},deferred:function(c,b){if(!0!==b)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");c.cb||(c.cb=!0,c.Ta(function(b){var g;return function(){a.Y.cancel(g);g=a.Y.Wa(b);c.notifySubscribers(e,"dirty")}}))},notify:function(a,b){a.equalityComparer=
"always"==b?null:v}};var W={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.ya);a.vc=function(c,b,k){this.ia=c;this.gb=b;this.Kc=k;this.R=!1;a.G(this,"dispose",this.k)};a.vc.prototype.k=function(){this.R=!0;this.Kc()};a.J=function(){a.a.Ya(this,O);O.rb(this)};var Q="change",O={rb:function(a){a.K={};a.Nb=1},X:function(c,b,k){var d=this;k=k||Q;var f=new a.vc(d,b?c.bind(b):c,function(){a.a.La(d.K[k],f);d.Ia&&d.Ia(k)});d.sa&&d.sa(k);d.K[k]||(d.K[k]=[]);d.K[k].push(f);return f},notifySubscribers:function(c,
b){b=b||Q;b===Q&&this.zc();if(this.Pa(b))try{a.l.Ub();for(var d=this.K[b].slice(0),f=0,e;e=d[f];++f)e.R||e.gb(c)}finally{a.l.end()}},Na:function(){return this.Nb},Uc:function(a){return this.Na()!==a},zc:function(){++this.Nb},Ta:function(c){var b=this,d=a.H(b),f,e,h;b.Ha||(b.Ha=b.notifySubscribers,b.notifySubscribers=V);var l=c(function(){b.Mb=!1;d&&h===b&&(h=b());f=!1;b.tb(e,h)&&b.Ha(e=h)});b.Lb=function(a){b.Mb=f=!0;h=a;l()};b.Kb=function(a){f||(e=a,b.Ha(a,"beforeChange"))}},Pa:function(a){return this.K[a]&&
this.K[a].length},Sc:function(c){if(c)return this.K[c]&&this.K[c].length||0;var b=0;a.a.D(this.K,function(a,c){"dirty"!==a&&(b+=c.length)});return b},tb:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(c){var b=this;c&&a.a.D(c,function(c,d){var f=a.ya[c];"function"==typeof f&&(b=f(b,d)||b)});return b}};a.G(O,"subscribe",O.X);a.G(O,"extend",O.extend);a.G(O,"getSubscriptionsCount",O.Sc);a.a.ka&&a.a.Xa(O,Function.prototype);a.J.fn=O;a.hc=function(a){return null!=
a&&"function"==typeof a.X&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.J);a.b("isSubscribable",a.hc);a.va=a.l=function(){function c(a){d.push(f);f=a}function b(){f=d.pop()}var d=[],f,e=0;return{Ub:c,end:b,oc:function(c){if(f){if(!a.hc(c))throw Error("Only subscribable things can act as dependencies");f.gb.call(f.Gc,c,c.Cc||(c.Cc=++e))}},w:function(a,d,k){try{return c(),a.apply(d,k||[])}finally{b()}},Aa:function(){if(f)return f.m.Aa()},Sa:function(){if(f)return f.Sa}}}();a.b("computedContext",
a.va);a.b("computedContext.getDependenciesCount",a.va.Aa);a.b("computedContext.isInitial",a.va.Sa);a.b("ignoreDependencies",a.qd=a.l.w);var S=a.a.Yb("_latestValue");a.N=function(c){function b(){if(0<arguments.length)return b.tb(b[S],arguments[0])&&(b.ga(),b[S]=arguments[0],b.fa()),this;a.l.oc(b);return b[S]}b[S]=c;a.a.ka||a.a.extend(b,a.J.fn);a.J.fn.rb(b);a.a.Ya(b,G);a.options.deferUpdates&&a.ya.deferred(b,!0);return b};var G={equalityComparer:v,t:function(){return this[S]},fa:function(){this.notifySubscribers(this[S])},
ga:function(){this.notifySubscribers(this[S],"beforeChange")}};a.a.ka&&a.a.Xa(G,a.J.fn);var L=a.N.gd="__ko_proto__";G[L]=a.N;a.Oa=function(c,b){return null===c||c===e||c[L]===e?!1:c[L]===b?!0:a.Oa(c[L],b)};a.H=function(c){return a.Oa(c,a.N)};a.Ba=function(c){return"function"==typeof c&&c[L]===a.N||"function"==typeof c&&c[L]===a.B&&c.Vc?!0:!1};a.b("observable",a.N);a.b("isObservable",a.H);a.b("isWriteableObservable",a.Ba);a.b("isWritableObservable",a.Ba);a.b("observable.fn",G);a.G(G,"peek",G.t);a.G(G,
"valueHasMutated",G.fa);a.G(G,"valueWillMutate",G.ga);a.la=function(c){c=c||[];if("object"!=typeof c||!("length"in c))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");c=a.N(c);a.a.Ya(c,a.la.fn);return c.extend({trackArrayChanges:!0})};a.la.fn={remove:function(c){for(var b=this.t(),d=[],f="function"!=typeof c||a.H(c)?function(a){return a===c}:c,e=0;e<b.length;e++){var h=b[e];f(h)&&(0===d.length&&this.ga(),d.push(h),b.splice(e,1),e--)}d.length&&
this.fa();return d},removeAll:function(c){if(c===e){var b=this.t(),d=b.slice(0);this.ga();b.splice(0,b.length);this.fa();return d}return c?this.remove(function(b){return 0<=a.a.o(c,b)}):[]},destroy:function(c){var b=this.t(),d="function"!=typeof c||a.H(c)?function(a){return a===c}:c;this.ga();for(var f=b.length-1;0<=f;f--)d(b[f])&&(b[f]._destroy=!0);this.fa()},destroyAll:function(c){return c===e?this.destroy(function(){return!0}):c?this.destroy(function(b){return 0<=a.a.o(c,b)}):[]},indexOf:function(c){var b=
this();return a.a.o(b,c)},replace:function(a,b){var d=this.indexOf(a);0<=d&&(this.ga(),this.t()[d]=b,this.fa())}};a.a.ka&&a.a.Xa(a.la.fn,a.N.fn);a.a.q("pop push reverse shift sort splice unshift".split(" "),function(c){a.la.fn[c]=function(){var a=this.t();this.ga();this.Vb(a,c,arguments);var b=a[c].apply(a,arguments);this.fa();return b===a?this:b}});a.a.q(["slice"],function(c){a.la.fn[c]=function(){var a=this();return a[c].apply(a,arguments)}});a.b("observableArray",a.la);a.ya.trackArrayChanges=function(c,
b){function d(){if(!f){f=!0;var b=c.notifySubscribers;c.notifySubscribers=function(a,c){c&&c!==Q||++l;return b.apply(this,arguments)};var g=[].concat(c.t()||[]);e=null;h=c.X(function(b){b=[].concat(b||[]);if(c.Pa("arrayChange")){var d;if(!e||1<l)e=a.a.ib(g,b,c.hb);d=e}g=b;e=null;l=0;d&&d.length&&c.notifySubscribers(d,"arrayChange")})}}c.hb={};b&&"object"==typeof b&&a.a.extend(c.hb,b);c.hb.sparse=!0;if(!c.Vb){var f=!1,e=null,h,l=0,r=c.sa,s=c.Ia;c.sa=function(a){r&&r.call(c,a);"arrayChange"===a&&d()};
c.Ia=function(a){s&&s.call(c,a);"arrayChange"!==a||c.Pa("arrayChange")||(h.k(),f=!1)};c.Vb=function(c,b,g){function d(a,c,b){return k[k.length]={status:a,value:c,index:b}}if(f&&!l){var k=[],s=c.length,r=g.length,h=0;switch(b){case "push":h=s;case "unshift":for(b=0;b<r;b++)d("added",g[b],h+b);break;case "pop":h=s-1;case "shift":s&&d("deleted",c[h],h);break;case "splice":b=Math.min(Math.max(0,0>g[0]?s+g[0]:g[0]),s);for(var s=1===r?s:Math.min(b+(g[1]||0),s),r=b+r-2,h=Math.max(s,r),N=[],w=[],t=2;b<h;++b,
++t)b<s&&w.push(d("deleted",c[b],b)),b<r&&N.push(d("added",g[t],b));a.a.dc(w,N);break;default:return}e=k}}}};var B=a.a.Yb("_state");a.m=a.B=function(c,b,d){function f(){if(0<arguments.length){if("function"===typeof h)h.apply(l.pb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}a.l.oc(f);(l.S||l.s&&f.Qa())&&f.aa();return l.T}"object"===typeof c?d=c:(d=d||{},c&&(d.read=
c));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var h=d.write,l={T:e,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:d.read,pb:b||d.owner,i:d.disposeWhenNodeIsRemoved||d.i||null,wa:d.disposeWhen||d.wa,mb:null,r:{},L:0,bc:null};f[B]=l;f.Vc="function"===typeof h;a.a.ka||a.a.extend(f,a.J.fn);a.J.fn.rb(f);a.a.Ya(f,C);d.pure?(l.Va=!0,l.s=!0,a.a.extend(f,t)):d.deferEvaluation&&a.a.extend(f,I);a.options.deferUpdates&&a.ya.deferred(f,!0);l.i&&(l.Fb=!0,l.i.nodeType||
(l.i=null));l.s||d.deferEvaluation||f.aa();l.i&&f.ba()&&a.a.F.oa(l.i,l.mb=function(){f.k()});return f};var C={equalityComparer:v,Aa:function(){return this[B].L},Pb:function(a,b,d){if(this[B].Va&&b===this)throw Error("A 'pure' computed must not be called recursively");this[B].r[a]=d;d.Ga=this[B].L++;d.na=b.Na()},Qa:function(){var a,b,d=this[B].r;for(a in d)if(d.hasOwnProperty(a)&&(b=d[a],b.ia.Uc(b.na)))return!0},bd:function(){this.Fa&&!this[B].Ra&&this.Fa()},ba:function(){return this[B].S||0<this[B].L},
ld:function(){this.Mb||this.ac()},uc:function(a){if(a.cb&&!this[B].i){var b=a.X(this.bd,this,"dirty"),d=a.X(this.ld,this);return{ia:a,k:function(){b.k();d.k()}}}return a.X(this.ac,this)},ac:function(){var c=this,b=c.throttleEvaluation;b&&0<=b?(clearTimeout(this[B].bc),this[B].bc=a.a.setTimeout(function(){c.aa(!0)},b)):c.Fa?c.Fa():c.aa(!0)},aa:function(c){var b=this[B],d=b.wa;if(!b.Ra&&!b.R){if(b.i&&!a.a.nb(b.i)||d&&d()){if(!b.Fb){this.k();return}}else b.Fb=!1;b.Ra=!0;try{this.Qc(c)}finally{b.Ra=!1}b.L||
this.k()}},Qc:function(c){var b=this[B],d=b.Va?e:!b.L,f={Hc:this,Ma:b.r,lb:b.L};a.l.Ub({Gc:f,gb:aa,m:this,Sa:d});b.r={};b.L=0;f=this.Pc(b,f);this.tb(b.T,f)&&(b.s||this.notifySubscribers(b.T,"beforeChange"),b.T=f,b.s?this.zc():c&&this.notifySubscribers(b.T));d&&this.notifySubscribers(b.T,"awake")},Pc:function(c,b){try{var d=c.jd;return c.pb?d.call(c.pb):d()}finally{a.l.end(),b.lb&&!c.s&&a.a.D(b.Ma,F),c.S=!1}},t:function(){var a=this[B];(a.S&&!a.L||a.s&&this.Qa())&&this.aa();return a.T},Ta:function(c){a.J.fn.Ta.call(this,
c);this.Fa=function(){this.Kb(this[B].T);this[B].S=!0;this.Lb(this)}},k:function(){var c=this[B];!c.s&&c.r&&a.a.D(c.r,function(a,c){c.k&&c.k()});c.i&&c.mb&&a.a.F.pc(c.i,c.mb);c.r=null;c.L=0;c.R=!0;c.S=!1;c.s=!1;c.i=null}},t={sa:function(c){var b=this,d=b[B];if(!d.R&&d.s&&"change"==c){d.s=!1;if(d.S||b.Qa())d.r=null,d.L=0,d.S=!0,b.aa();else{var f=[];a.a.D(d.r,function(a,c){f[c.Ga]=a});a.a.q(f,function(a,c){var f=d.r[a],e=b.uc(f.ia);e.Ga=c;e.na=f.na;d.r[a]=e})}d.R||b.notifySubscribers(d.T,"awake")}},
Ia:function(c){var b=this[B];b.R||"change"!=c||this.Pa("change")||(a.a.D(b.r,function(a,c){c.k&&(b.r[a]={ia:c.ia,Ga:c.Ga,na:c.na},c.k())}),b.s=!0,this.notifySubscribers(e,"asleep"))},Na:function(){var c=this[B];c.s&&(c.S||this.Qa())&&this.aa();return a.J.fn.Na.call(this)}},I={sa:function(a){"change"!=a&&"beforeChange"!=a||this.t()}};a.a.ka&&a.a.Xa(C,a.J.fn);var w=a.N.gd;a.m[w]=a.N;C[w]=a.m;a.Xc=function(c){return a.Oa(c,a.m)};a.Yc=function(c){return a.Oa(c,a.m)&&c[B]&&c[B].Va};a.b("computed",a.m);
a.b("dependentObservable",a.m);a.b("isComputed",a.Xc);a.b("isPureComputed",a.Yc);a.b("computed.fn",C);a.G(C,"peek",C.t);a.G(C,"dispose",C.k);a.G(C,"isActive",C.ba);a.G(C,"getDependenciesCount",C.Aa);a.nc=function(c,b){if("function"===typeof c)return a.m(c,b,{pure:!0});c=a.a.extend({},c);c.pure=!0;return a.m(c,b)};a.b("pureComputed",a.nc);(function(){function c(a,f,h){h=h||new d;a=f(a);if("object"!=typeof a||null===a||a===e||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof
Number||a instanceof Boolean)return a;var l=a instanceof Array?[]:{};h.save(a,l);b(a,function(b){var d=f(a[b]);switch(typeof d){case "boolean":case "number":case "string":case "function":l[b]=d;break;case "object":case "undefined":var g=h.get(d);l[b]=g!==e?g:c(d,f,h)}});return l}function b(a,c){if(a instanceof Array){for(var d=0;d<a.length;d++)c(d);"function"==typeof a.toJSON&&c("toJSON")}else for(d in a)c(d)}function d(){this.keys=[];this.Ib=[]}a.wc=function(b){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");
return c(b,function(c){for(var b=0;a.H(c)&&10>b;b++)c=c();return c})};a.toJSON=function(c,b,d){c=a.wc(c);return a.a.Eb(c,b,d)};d.prototype={save:function(c,b){var d=a.a.o(this.keys,c);0<=d?this.Ib[d]=b:(this.keys.push(c),this.Ib.push(b))},get:function(c){c=a.a.o(this.keys,c);return 0<=c?this.Ib[c]:e}}})();a.b("toJS",a.wc);a.b("toJSON",a.toJSON);(function(){a.j={u:function(c){switch(a.a.A(c)){case "option":return!0===c.__ko__hasDomDataOptionValue__?a.a.e.get(c,a.d.options.xb):7>=a.a.C?c.getAttributeNode("value")&&
c.getAttributeNode("value").specified?c.value:c.text:c.value;case "select":return 0<=c.selectedIndex?a.j.u(c.options[c.selectedIndex]):e;default:return c.value}},ha:function(c,b,d){switch(a.a.A(c)){case "option":switch(typeof b){case "string":a.a.e.set(c,a.d.options.xb,e);"__ko__hasDomDataOptionValue__"in c&&delete c.__ko__hasDomDataOptionValue__;c.value=b;break;default:a.a.e.set(c,a.d.options.xb,b),c.__ko__hasDomDataOptionValue__=!0,c.value="number"===typeof b?b:""}break;case "select":if(""===b||
null===b)b=e;for(var f=-1,h=0,l=c.options.length,E;h<l;++h)if(E=a.j.u(c.options[h]),E==b||""==E&&b===e){f=h;break}if(d||0<=f||b===e&&1<c.size)c.selectedIndex=f;break;default:if(null===b||b===e)b="";c.value=b}}}})();a.b("selectExtensions",a.j);a.b("selectExtensions.readValue",a.j.u);a.b("selectExtensions.writeValue",a.j.ha);a.h=function(){function c(c){c=a.a.$a(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var b=[],d=c.match(f),g,k=[],l=0;if(d){d.push(",");for(var J=0,q;q=d[J];++J){var y=q.charCodeAt(0);
if(44===y){if(0>=l){b.push(g&&k.length?{key:g,value:k.join("")}:{unknown:g||k.join("")});g=l=0;k=[];continue}}else if(58===y){if(!l&&!g&&1===k.length){g=k.pop();continue}}else 47===y&&J&&1<q.length?(y=d[J-1].match(e))&&!h[y[0]]&&(c=c.substr(c.indexOf(q)+1),d=c.match(f),d.push(","),J=-1,q="/"):40===y||123===y||91===y?++l:41===y||125===y||93===y?--l:g||k.length||34!==y&&39!==y||(q=q.slice(1,-1));k.push(q)}}return b}var b=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,
f=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,e=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},l={};return{ta:[],ea:l,yb:c,Ua:function(f,e){function n(c,f){var e;if(!J){var s=a.getBindingHandler(c);if(s&&s.preprocess&&!(f=s.preprocess(f,c,n)))return;if(s=l[c])e=f,0<=a.a.o(b,e)?e=!1:(s=e.match(d),e=null===s?!1:s[1]?"Object("+s[1]+")"+s[2]:e),s=e;s&&h.push("'"+c+"':function(_z){"+e+"=_z}")}Z&&(f="function(){return "+f+" }");m.push("'"+
c+"':"+f)}e=e||{};var m=[],h=[],Z=e.valueAccessors,J=e.bindingParams,q="string"===typeof f?c(f):f;a.a.q(q,function(a){n(a.key||a.unknown,a.value)});h.length&&n("_ko_property_writers","{"+h.join(",")+" }");return m.join(",")},ad:function(a,c){for(var b=0;b<a.length;b++)if(a[b].key==c)return!0;return!1},Ea:function(c,b,d,f,g){if(c&&a.H(c))!a.Ba(c)||g&&c.t()===f||c(f);else if((c=b.get("_ko_property_writers"))&&c[d])c[d](f)}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",
a.h.ta);a.b("expressionRewriting.parseObjectLiteral",a.h.yb);a.b("expressionRewriting.preProcessBindings",a.h.Ua);a.b("expressionRewriting._twoWayBindings",a.h.ea);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.Ua);(function(){function c(a){return 8==a.nodeType&&l.test(e?a.text:a.nodeValue)}function b(a){return 8==a.nodeType&&E.test(e?a.text:a.nodeValue)}function d(a,f){for(var k=a,e=1,m=[];k=k.nextSibling;){if(b(k)&&(e--,0===e))return m;m.push(k);
c(k)&&e++}if(!f)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function f(a,c){var b=d(a,c);return b?0<b.length?b[b.length-1].nextSibling:a.nextSibling:null}var e=h&&"\x3c!--test--\x3e"===h.createComment("test").text,l=e?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,E=e?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,r={ul:!0,ol:!0};a.f={Z:{},childNodes:function(a){return c(a)?d(a):a.childNodes},xa:function(b){if(c(b)){b=a.f.childNodes(b);for(var d=
0,f=b.length;d<f;d++)a.removeNode(b[d])}else a.a.ob(b)},da:function(b,d){if(c(b)){a.f.xa(b);for(var f=b.nextSibling,g=0,k=d.length;g<k;g++)f.parentNode.insertBefore(d[g],f)}else a.a.da(b,d)},mc:function(a,b){c(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},gc:function(b,d,f){f?c(b)?b.parentNode.insertBefore(d,f.nextSibling):f.nextSibling?b.insertBefore(d,f.nextSibling):b.appendChild(d):a.f.mc(b,d)},firstChild:function(a){return c(a)?!a.nextSibling||
b(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){c(a)&&(a=f(a));return a.nextSibling&&b(a.nextSibling)?null:a.nextSibling},Tc:c,pd:function(a){return(a=(e?a.text:a.nodeValue).match(l))?a[1]:null},kc:function(d){if(r[a.a.A(d)]){var k=d.firstChild;if(k){do if(1===k.nodeType){var e;e=k.firstChild;var h=null;if(e){do if(h)h.push(e);else if(c(e)){var l=f(e,!0);l?e=l:h=[e]}else b(e)&&(h=[e]);while(e=e.nextSibling)}if(e=h)for(h=k.nextSibling,l=0;l<e.length;l++)h?d.insertBefore(e[l],
h):d.appendChild(e[l])}while(k=k.nextSibling)}}}}})();a.b("virtualElements",a.f);a.b("virtualElements.allowedBindings",a.f.Z);a.b("virtualElements.emptyNode",a.f.xa);a.b("virtualElements.insertAfter",a.f.gc);a.b("virtualElements.prepend",a.f.mc);a.b("virtualElements.setDomNodeChildren",a.f.da);(function(){a.Q=function(){this.Fc={}};a.a.extend(a.Q.prototype,{nodeHasBindings:function(c){switch(c.nodeType){case 1:return null!=c.getAttribute("data-bind")||a.g.getComponentNameForNode(c);case 8:return a.f.Tc(c);
default:return!1}},getBindings:function(c,b){var d=this.getBindingsString(c,b),d=d?this.parseBindingsString(d,b,c):null;return a.g.Ob(d,c,b,!1)},getBindingAccessors:function(c,b){var d=this.getBindingsString(c,b),d=d?this.parseBindingsString(d,b,c,{valueAccessors:!0}):null;return a.g.Ob(d,c,b,!0)},getBindingsString:function(c){switch(c.nodeType){case 1:return c.getAttribute("data-bind");case 8:return a.f.pd(c);default:return null}},parseBindingsString:function(c,b,d,f){try{var e=this.Fc,h=c+(f&&f.valueAccessors||
""),l;if(!(l=e[h])){var r,s="with($context){with($data||{}){return{"+a.h.Ua(c,f)+"}}}";r=new Function("$context","$element",s);l=e[h]=r}return l(b,d)}catch(n){throw n.message="Unable to parse bindings.\nBindings value: "+c+"\nMessage: "+n.message,n;}}});a.Q.instance=new a.Q})();a.b("bindingProvider",a.Q);(function(){function c(a){return function(){return a}}function f(a){return a()}function k(c){return a.a.Ca(a.l.w(c),function(a,b){return function(){return c()[b]}})}function m(b,d,f){return"function"===
typeof b?k(b.bind(null,d,f)):a.a.Ca(b,c)}function h(a,c){return k(this.getBindings.bind(this,a,c))}function l(c,b,d){var f,g=a.f.firstChild(b),e=a.Q.instance,k=e.preprocessNode;if(k){for(;f=g;)g=a.f.nextSibling(f),k.call(e,f);g=a.f.firstChild(b)}for(;f=g;)g=a.f.nextSibling(f),E(c,f,d)}function E(c,b,d){var f=!0,g=1===b.nodeType;g&&a.f.kc(b);if(g&&d||a.Q.instance.nodeHasBindings(b))f=s(b,null,c,d).shouldBindDescendants;f&&!A[a.a.A(b)]&&l(c,b,!g)}function r(c){var b=[],d={},f=[];a.a.D(c,function M(g){if(!d[g]){var e=
a.getBindingHandler(g);e&&(e.after&&(f.push(g),a.a.q(e.after,function(b){if(c[b]){if(-1!==a.a.o(f,b))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+f.join(", "));M(b)}}),f.length--),b.push({key:g,fc:e}));d[g]=!0}});return b}function s(c,b,d,k){var n=a.a.e.get(c,p);if(!b){if(n)throw Error("You cannot apply bindings multiple times to the same element.");a.a.e.set(c,p,!0)}!n&&k&&a.tc(c,d);var m;if(b&&"function"!==typeof b)m=b;else{var l=a.Q.instance,s=l.getBindingAccessors||
h,A=a.B(function(){(m=b?b(d,c):s.call(l,c,d))&&d.P&&d.P();return m},null,{i:c});m&&A.ba()||(A=null)}var w;if(m){var E=A?function(a){return function(){return f(A()[a])}}:function(a){return m[a]},t=function(){return a.a.Ca(A?A():m,f)};t.get=function(a){return m[a]&&f(E(a))};t.has=function(a){return a in m};k=r(m);a.a.q(k,function(b){var f=b.fc.init,g=b.fc.update,k=b.key;if(8===c.nodeType&&!a.f.Z[k])throw Error("The binding '"+k+"' cannot be used with virtual elements");try{"function"==typeof f&&a.l.w(function(){var a=
f(c,E(k),t,d.$data,d);if(a&&a.controlsDescendantBindings){if(w!==e)throw Error("Multiple bindings ("+w+" and "+k+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");w=k}}),"function"==typeof g&&a.B(function(){g(c,E(k),t,d.$data,d)},null,{i:c})}catch(n){throw n.message='Unable to process binding "'+k+": "+m[k]+'"\nMessage: '+n.message,n;}})}return{shouldBindDescendants:w===e}}function n(c){return c&&c instanceof a.U?c:new a.U(c)}
a.d={};var A={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(c){return a.d[c]};a.U=function(c,b,d,f){var g=this,k="function"==typeof c&&!a.H(c),m,n=a.B(function(){var e=k?c():c,m=a.a.c(e);b?(b.P&&b.P(),a.a.extend(g,b),n&&(g.P=n)):(g.$parents=[],g.$root=m,g.ko=a);g.$rawData=e;g.$data=m;d&&(g[d]=m);f&&f(g,b,m);return g.$data},null,{wa:function(){return m&&!a.a.Qb(m)},i:!0});n.ba()&&(g.P=n,n.equalityComparer=null,m=[],n.Ac=function(c){m.push(c);a.a.F.oa(c,function(c){a.a.La(m,c);m.length||
(n.k(),g.P=n=e)})})};a.U.prototype.createChildContext=function(c,b,d){return new a.U(c,this,b,function(a,c){a.$parentContext=c;a.$parent=c.$data;a.$parents=(c.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.U.prototype.extend=function(c){return new a.U(this.P||this.$data,this,null,function(b,d){b.$rawData=d.$rawData;a.a.extend(b,"function"==typeof c?c():c)})};var p=a.a.e.I(),w=a.a.e.I();a.tc=function(c,b){if(2==arguments.length)a.a.e.set(c,w,b),b.P&&b.P.Ac(c);else return a.a.e.get(c,
w)};a.Ja=function(c,b,d){1===c.nodeType&&a.f.kc(c);return s(c,b,n(d),!0)};a.Dc=function(c,b,d){d=n(d);return a.Ja(c,m(b,d,c),d)};a.eb=function(a,c){1!==c.nodeType&&8!==c.nodeType||l(n(a),c,!0)};a.Rb=function(a,c){!b&&d.jQuery&&(b=d.jQuery);if(c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||d.document.body;E(n(a),c,!0)};a.kb=function(c){switch(c.nodeType){case 1:case 8:var b=a.tc(c);if(b)return b;
if(c.parentNode)return a.kb(c.parentNode)}return e};a.Jc=function(c){return(c=a.kb(c))?c.$data:e};a.b("bindingHandlers",a.d);a.b("applyBindings",a.Rb);a.b("applyBindingsToDescendants",a.eb);a.b("applyBindingAccessorsToNode",a.Ja);a.b("applyBindingsToNode",a.Dc);a.b("contextFor",a.kb);a.b("dataFor",a.Jc)})();(function(c){function b(f,g){var m=e.hasOwnProperty(f)?e[f]:c,n;m?m.X(g):(m=e[f]=new a.J,m.X(g),d(f,function(c,b){var d=!(!b||!b.synchronous);l[f]={definition:c,Zc:d};delete e[f];n||d?m.notifySubscribers(c):
a.Y.Wa(function(){m.notifySubscribers(c)})}),n=!0)}function d(a,c){f("getConfig",[a],function(b){b?f("loadComponent",[a,b],function(a){c(a,b)}):c(null,null)})}function f(b,d,g,e){e||(e=a.g.loaders.slice(0));var k=e.shift();if(k){var l=k[b];if(l){var h=!1;if(l.apply(k,d.concat(function(a){h?g(null):null!==a?g(a):f(b,d,g,e)}))!==c&&(h=!0,!k.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else f(b,d,g,e)}else g(null)}
var e={},l={};a.g={get:function(d,f){var e=l.hasOwnProperty(d)?l[d]:c;e?e.Zc?a.l.w(function(){f(e.definition)}):a.Y.Wa(function(){f(e.definition)}):b(d,f)},Xb:function(a){delete l[a]},Jb:f};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.Xb)})();(function(){function c(c,b,d,f){function g(){0===--k&&f(e)}var e={},k=2,m=d.template;d=d.viewModel;m?l(b,m,function(b){a.g.Jb("loadTemplate",[c,b],function(a){e.template=a;g()})}):g();d?l(b,d,function(b){a.g.Jb("loadViewModel",
[c,b],function(a){e[r]=a;g()})}):g()}function b(a,c,d){if("function"===typeof c)d(function(a){return new c(a)});else if("function"===typeof c[r])d(c[r]);else if("instance"in c){var f=c.instance;d(function(){return f})}else"viewModel"in c?b(a,c.viewModel,d):a("Unknown viewModel value: "+c)}function f(c){switch(a.a.A(c)){case "script":return a.a.ma(c.text);case "textarea":return a.a.ma(c.value);case "template":if(e(c.content))return a.a.ua(c.content.childNodes)}return a.a.ua(c.childNodes)}function e(a){return d.DocumentFragment?
a instanceof DocumentFragment:a&&11===a.nodeType}function l(a,c,b){"string"===typeof c.require?x||d.require?(x||d.require)([c.require],b):a("Uses require, but no AMD loader is present"):b(c)}function w(a){return function(c){throw Error("Component '"+a+"': "+c);}}var t={};a.g.register=function(c,b){if(!b)throw Error("Invalid configuration for "+c);if(a.g.ub(c))throw Error("Component "+c+" is already registered");t[c]=b};a.g.ub=function(a){return t.hasOwnProperty(a)};a.g.od=function(c){delete t[c];
a.g.Xb(c)};a.g.Zb={getConfig:function(a,c){c(t.hasOwnProperty(a)?t[a]:null)},loadComponent:function(a,b,d){var f=w(a);l(f,b,function(b){c(a,f,b,d)})},loadTemplate:function(c,b,g){c=w(c);if("string"===typeof b)g(a.a.ma(b));else if(b instanceof Array)g(b);else if(e(b))g(a.a.V(b.childNodes));else if(b.element)if(b=b.element,d.HTMLElement?b instanceof HTMLElement:b&&b.tagName&&1===b.nodeType)g(f(b));else if("string"===typeof b){var l=h.getElementById(b);l?g(f(l)):c("Cannot find element with ID "+b)}else c("Unknown element type: "+
b);else c("Unknown template value: "+b)},loadViewModel:function(a,c,d){b(w(a),c,d)}};var r="createViewModel";a.b("components.register",a.g.register);a.b("components.isRegistered",a.g.ub);a.b("components.unregister",a.g.od);a.b("components.defaultLoader",a.g.Zb);a.g.loaders.push(a.g.Zb);a.g.Bc=t})();(function(){function c(c,d){var f=c.getAttribute("params");if(f){var f=b.parseBindingsString(f,d,c,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ca(f,function(b){return a.m(b,null,{i:c})}),e=a.a.Ca(f,function(b){var d=
b.t();return b.ba()?a.m({read:function(){return a.a.c(b())},write:a.Ba(d)&&function(a){b()(a)},i:c}):d});e.hasOwnProperty("$raw")||(e.$raw=f);return e}return{$raw:{}}}a.g.getComponentNameForNode=function(c){var b=a.a.A(c);if(a.g.ub(b)&&(-1!=b.indexOf("-")||"[object HTMLUnknownElement]"==""+c||8>=a.a.C&&c.tagName===b))return b};a.g.Ob=function(b,d,f,g){if(1===d.nodeType){var e=a.g.getComponentNameForNode(d);if(e){b=b||{};if(b.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var l={name:e,params:c(d,f)};b.component=g?function(){return l}:l}}return b};var b=new a.Q;9>a.a.C&&(a.g.register=function(a){return function(c){h.createElement(c);return a.apply(this,arguments)}}(a.g.register),h.createDocumentFragment=function(c){return function(){var b=c(),d=a.g.Bc,f;for(f in d)d.hasOwnProperty(f)&&b.createElement(f);return b}}(h.createDocumentFragment))})();(function(c){function b(c,d,f){d=d.template;if(!d)throw Error("Component '"+c+"' has no template");c=a.a.ua(d);a.f.da(f,c)}
function d(a,c,b,f){var g=a.createViewModel;return g?g.call(a,f,{element:c,templateNodes:b}):f}var f=0;a.d.component={init:function(e,l,h,r,s){function n(){var a=w&&w.dispose;"function"===typeof a&&a.call(w);p=w=null}var w,p,t=a.a.V(a.f.childNodes(e));a.a.F.oa(e,n);a.m(function(){var h=a.a.c(l()),r,y;"string"===typeof h?r=h:(r=a.a.c(h.name),y=a.a.c(h.params));if(!r)throw Error("No component name specified");var u=p=++f;a.g.get(r,function(f){if(p===u){n();if(!f)throw Error("Unknown component '"+r+
"'");b(r,f,e);var m=d(f,e,t,y);f=s.createChildContext(m,c,function(a){a.$component=m;a.$componentTemplateNodes=t});w=m;a.eb(f,e)}})},null,{i:e});return{controlsDescendantBindings:!0}}};a.f.Z.component=!0})();var T={"class":"className","for":"htmlFor"};a.d.attr={update:function(c,b){var d=a.a.c(b())||{};a.a.D(d,function(b,d){d=a.a.c(d);var f=!1===d||null===d||d===e;f&&c.removeAttribute(b);8>=a.a.C&&b in T?(b=T[b],f?c.removeAttribute(b):c[b]=d):f||c.setAttribute(b,d.toString());"name"===b&&a.a.rc(c,
f?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(c,b,d){function f(){var e=c.checked,l=u?h():e;if(!a.va.Sa()&&(!r||e)){var m=a.l.w(b);if(n){var w=t?m.t():m;p!==l?(e&&(a.a.pa(w,l,!0),a.a.pa(w,p,!1)),p=l):a.a.pa(w,l,e);t&&a.Ba(m)&&m(w)}else a.h.Ea(m,d,"checked",l,!0)}}function l(){var d=a.a.c(b());c.checked=n?0<=a.a.o(d,h()):w?d:h()===d}var h=a.nc(function(){return d.has("checkedValue")?a.a.c(d.get("checkedValue")):d.has("value")?a.a.c(d.get("value")):c.value}),w=
"checkbox"==c.type,r="radio"==c.type;if(w||r){var s=b(),n=w&&a.a.c(s)instanceof Array,t=!(n&&s.push&&s.splice),p=n?h():e,u=r||n;r&&!c.name&&a.d.uniqueName.init(c,function(){return!0});a.m(f,null,{i:c});a.a.p(c,"click",f);a.m(l,null,{i:c});s=e}}};a.h.ea.checked=!0;a.d.checkedValue={update:function(c,b){c.value=a.a.c(b())}}})();a.d.css={update:function(c,b){var d=a.a.c(b());null!==d&&"object"==typeof d?a.a.D(d,function(b,d){d=a.a.c(d);a.a.bb(c,b,d)}):(d=a.a.$a(String(d||"")),a.a.bb(c,c.__ko__cssValue,
!1),c.__ko__cssValue=d,a.a.bb(c,d,!0))}};a.d.enable={update:function(c,b){var d=a.a.c(b());d&&c.disabled?c.removeAttribute("disabled"):d||c.disabled||(c.disabled=!0)}};a.d.disable={update:function(c,b){a.d.enable.update(c,function(){return!a.a.c(b())})}};a.d.event={init:function(c,b,d,f,e){var l=b()||{};a.a.D(l,function(l){"string"==typeof l&&a.a.p(c,l,function(c){var h,n=b()[l];if(n){try{var w=a.a.V(arguments);f=e.$data;w.unshift(f);h=n.apply(f,w)}finally{!0!==h&&(c.preventDefault?c.preventDefault():
c.returnValue=!1)}!1===d.get(l+"Bubble")&&(c.cancelBubble=!0,c.stopPropagation&&c.stopPropagation())}})})}};a.d.foreach={ic:function(c){return function(){var b=c(),d=a.a.zb(b);if(!d||"number"==typeof d.length)return{foreach:b,templateEngine:a.W.sb};a.a.c(b);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.W.sb}}},init:function(c,b){return a.d.template.init(c,
a.d.foreach.ic(b))},update:function(c,b,d,f,e){return a.d.template.update(c,a.d.foreach.ic(b),d,f,e)}};a.h.ta.foreach=!1;a.f.Z.foreach=!0;a.d.hasfocus={init:function(c,b,d){function f(e){c.__ko_hasfocusUpdating=!0;var l=c.ownerDocument;if("activeElement"in l){var m;try{m=l.activeElement}catch(h){m=l.body}e=m===c}l=b();a.h.Ea(l,d,"hasfocus",e,!0);c.__ko_hasfocusLastValue=e;c.__ko_hasfocusUpdating=!1}var e=f.bind(null,!0),l=f.bind(null,!1);a.a.p(c,"focus",e);a.a.p(c,"focusin",e);a.a.p(c,"blur",l);a.a.p(c,
"focusout",l)},update:function(c,b){var d=!!a.a.c(b());c.__ko_hasfocusUpdating||c.__ko_hasfocusLastValue===d||(d?c.focus():c.blur(),!d&&c.__ko_hasfocusLastValue&&c.ownerDocument.body.focus(),a.l.w(a.a.Da,null,[c,d?"focusin":"focusout"]))}};a.h.ea.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.ea.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(c,b){a.a.Cb(c,b())}};ca("if");ca("ifnot",!1,!0);ca("with",!0,!1,function(a,b){return a.createChildContext(b)});var P=
{};a.d.options={init:function(c){if("select"!==a.a.A(c))throw Error("options binding applies only to SELECT elements");for(;0<c.length;)c.remove(0);return{controlsDescendantBindings:!0}},update:function(c,b,d){function f(){return a.a.Ka(c.options,function(a){return a.selected})}function l(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(b,f){if(I&&n)a.j.ha(c,a.a.c(d.get("value")),!0);else if(u.length){var e=0<=a.a.o(u,a.j.u(f[0]));a.a.sc(f[0],e);I&&!e&&a.l.w(a.a.Da,null,
[c,"change"])}}var w=c.multiple,r=0!=c.length&&w?c.scrollTop:null,s=a.a.c(b()),n=d.get("valueAllowUnset")&&d.has("value"),t=d.get("optionsIncludeDestroyed");b={};var p,u=[];n||(w?u=a.a.fb(f(),a.j.u):0<=c.selectedIndex&&u.push(a.j.u(c.options[c.selectedIndex])));s&&("undefined"==typeof s.length&&(s=[s]),p=a.a.Ka(s,function(b){return t||b===e||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(s=a.a.c(d.get("optionsCaption")),null!==s&&s!==e&&p.unshift(P)));var I=!1;b.beforeRemove=function(a){c.removeChild(a)};
s=h;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(s=function(b,c){h(0,c);a.l.w(d.get("optionsAfterRender"),null,[c[0],b!==P?b:e])});a.a.Bb(c,p,function(b,f,g){g.length&&(u=!n&&g[0].selected?[a.j.u(g[0])]:[],I=!0);f=c.ownerDocument.createElement("option");b===P?(a.a.Za(f,d.get("optionsCaption")),a.j.ha(f,e)):(g=l(b,d.get("optionsValue"),b),a.j.ha(f,a.a.c(g)),b=l(b,d.get("optionsText"),g),a.a.Za(f,b));return[f]},b,s);a.l.w(function(){n?a.j.ha(c,a.a.c(d.get("value")),
!0):(w?u.length&&f().length<u.length:u.length&&0<=c.selectedIndex?a.j.u(c.options[c.selectedIndex])!==u[0]:u.length||0<=c.selectedIndex)&&a.a.Da(c,"change")});a.a.Nc(c);r&&20<Math.abs(r-c.scrollTop)&&(c.scrollTop=r)}};a.d.options.xb=a.a.e.I();a.d.selectedOptions={after:["options","foreach"],init:function(b,d,f){a.a.p(b,"change",function(){var e=d(),l=[];a.a.q(b.getElementsByTagName("option"),function(b){b.selected&&l.push(a.j.u(b))});a.h.Ea(e,f,"selectedOptions",l)})},update:function(b,d){if("select"!=
a.a.A(b))throw Error("values binding applies only to SELECT elements");var f=a.a.c(d()),e=b.scrollTop;f&&"number"==typeof f.length&&a.a.q(b.getElementsByTagName("option"),function(b){var c=0<=a.a.o(f,a.j.u(b));b.selected!=c&&a.a.sc(b,c)});b.scrollTop=e}};a.h.ea.selectedOptions=!0;a.d.style={update:function(b,d){var f=a.a.c(d()||{});a.a.D(f,function(d,f){f=a.a.c(f);if(null===f||f===e||!1===f)f="";b.style[d]=f})}};a.d.submit={init:function(b,d,f,e,l){if("function"!=typeof d())throw Error("The value for a submit binding must be a function");
a.a.p(b,"submit",function(a){var f,e=d();try{f=e.call(l.$data,b)}finally{!0!==f&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,d){a.a.Za(b,d())}};a.f.Z.text=!0;(function(){if(d&&d.navigator)var b=function(a){if(a)return parseFloat(a[1])},f=d.opera&&d.opera.version&&parseInt(d.opera.version()),k=d.navigator.userAgent,l=b(k.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),h=b(k.match(/Firefox\/([^ ]*)/));
if(10>a.a.C)var w=a.a.e.I(),t=a.a.e.I(),r=function(b){var c=this.activeElement;(c=c&&a.a.e.get(c,t))&&c(b)},s=function(b,c){var d=b.ownerDocument;a.a.e.get(d,w)||(a.a.e.set(d,w,!0),a.a.p(d,"selectionchange",r));a.a.e.set(b,t,c)};a.d.textInput={init:function(b,c,d){function k(c,d){a.a.p(b,c,d)}function w(){var d=a.a.c(c());if(null===d||d===e)d="";x!==e&&d===x?a.a.setTimeout(w,4):b.value!==d&&(u=d,b.value=d)}function r(){I||(x=b.value,I=a.a.setTimeout(t,4))}function t(){clearTimeout(I);x=I=e;var f=
b.value;u!==f&&(u=f,a.h.Ea(c(),d,"textInput",f))}var u=b.value,I,x,E=9==a.a.C?r:t;10>a.a.C?(k("propertychange",function(a){"value"===a.propertyName&&E(a)}),8==a.a.C&&(k("keyup",t),k("keydown",t)),8<=a.a.C&&(s(b,E),k("dragend",r))):(k("input",t),5>l&&"textarea"===a.a.A(b)?(k("keydown",r),k("paste",r),k("cut",r)):11>f?k("keydown",r):4>h&&(k("DOMAutoComplete",t),k("dragdrop",t),k("drop",t)));k("change",t);a.m(w,null,{i:b})}};a.h.ea.textInput=!0;a.d.textinput={preprocess:function(a,b,c){c("textInput",
a)}}})();a.d.uniqueName={init:function(b,d){if(d()){var f="ko_unique_"+ ++a.d.uniqueName.Ic;a.a.rc(b,f)}}};a.d.uniqueName.Ic=0;a.d.value={after:["options","foreach"],init:function(b,d,f){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],l=f.get("valueUpdate"),h=!1,w=null;l&&("string"==typeof l&&(l=[l]),a.a.ra(e,l),e=a.a.Tb(e));var r=function(){w=null;h=!1;var e=d(),l=a.j.u(b);a.h.Ea(e,f,"value",l)};!a.a.C||"input"!=b.tagName.toLowerCase()||"text"!=b.type||
"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.o(e,"propertychange")||(a.a.p(b,"propertychange",function(){h=!0}),a.a.p(b,"focus",function(){h=!1}),a.a.p(b,"blur",function(){h&&r()}));a.a.q(e,function(d){var f=r;a.a.nd(d,"after")&&(f=function(){w=a.j.u(b);a.a.setTimeout(r,0)},d=d.substring(5));a.a.p(b,d,f)});var t=function(){var e=a.a.c(d()),l=a.j.u(b);if(null!==w&&e===w)a.a.setTimeout(t,0);else if(e!==l)if("select"===a.a.A(b)){var h=f.get("valueAllowUnset"),l=function(){a.j.ha(b,
e,h)};l();h||e===a.j.u(b)?a.a.setTimeout(l,0):a.l.w(a.a.Da,null,[b,"change"])}else a.j.ha(b,e)};a.m(t,null,{i:b})}else a.Ja(b,{checkedValue:d})},update:function(){}};a.h.ea.value=!0;a.d.visible={update:function(b,d){var f=a.a.c(d()),e="none"!=b.style.display;f&&!e?b.style.display="":!f&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(d,f,e,l,h){return a.d.event.init.call(this,d,function(){var a={};a[b]=f();return a},e,l,h)}}})("click");a.O=function(){};a.O.prototype.renderTemplateSource=
function(){throw Error("Override renderTemplateSource");};a.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.O.prototype.makeTemplateSource=function(b,d){if("string"==typeof b){d=d||h;var f=d.getElementById(b);if(!f)throw Error("Cannot find template with ID "+b);return new a.v.n(f)}if(1==b.nodeType||8==b.nodeType)return new a.v.qa(b);throw Error("Unknown template type: "+b);};a.O.prototype.renderTemplate=function(a,b,d,f){a=this.makeTemplateSource(a,
f);return this.renderTemplateSource(a,b,d,f)};a.O.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.O.prototype.rewriteTemplate=function(a,b,d){a=this.makeTemplateSource(a,d);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.b("templateEngine",a.O);a.Gb=function(){function b(c,d,f,e){c=a.h.yb(c);for(var g=a.h.ta,k=0;k<c.length;k++){var l=c[k].key;if(g.hasOwnProperty(l)){var h=g[l];if("function"===typeof h){if(l=
h(c[k].value))throw Error(l);}else if(!h)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}f="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.Ua(c,{valueAccessors:!0})+" } })()},'"+f.toLowerCase()+"')";return e.createJavaScriptEvaluatorBlock(f)+d}var d=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,f=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(b,
c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Gb.dd(b,c)},d)},dd:function(a,e){return a.replace(d,function(a,d,f,g,k){return b(k,d,f,e)}).replace(f,function(a,d){return b(d,"\x3c!-- ko --\x3e","#comment",e)})},Ec:function(b,c){return a.M.wb(function(d,f){var e=d.nextSibling;e&&e.nodeName.toLowerCase()===c&&a.Ja(e,b,f)})}}}();a.b("__tr_ambtns",a.Gb.Ec);(function(){a.v={};a.v.n=function(b){if(this.n=b){var c=a.a.A(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&
b.content&&11===b.content.nodeType?3:4}};a.v.n.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[b];var c=arguments[0];"innerHTML"===b?a.a.Cb(this.n,c):this.n[b]=c};var b=a.a.e.I()+"_";a.v.n.prototype.data=function(d){if(1===arguments.length)return a.a.e.get(this.n,b+d);a.a.e.set(this.n,b+d,arguments[1])};var d=a.a.e.I();a.v.n.prototype.nodes=function(){var b=this.n;if(0==arguments.length)return(a.a.e.get(b,d)||{}).jb||(3===this.ab?
b.content:4===this.ab?b:e);a.a.e.set(b,d,{jb:arguments[0]})};a.v.qa=function(a){this.n=a};a.v.qa.prototype=new a.v.n;a.v.qa.prototype.text=function(){if(0==arguments.length){var b=a.a.e.get(this.n,d)||{};b.Hb===e&&b.jb&&(b.Hb=b.jb.innerHTML);return b.Hb}a.a.e.set(this.n,d,{Hb:arguments[0]})};a.b("templateSources",a.v);a.b("templateSources.domElement",a.v.n);a.b("templateSources.anonymousTemplate",a.v.qa)})();(function(){function b(c,d,f){var e;for(d=a.f.nextSibling(d);c&&(e=c)!==d;)c=a.f.nextSibling(e),
f(e,c)}function d(f,e){if(f.length){var g=f[0],k=f[f.length-1],l=g.parentNode,h=a.Q.instance,m=h.preprocessNode;if(m){b(g,k,function(a,b){var c=a.previousSibling,d=m.call(h,a);d&&(a===g&&(g=d[0]||b),a===k&&(k=d[d.length-1]||c))});f.length=0;if(!g)return;g===k?f.push(g):(f.push(g,k),a.a.za(f,l))}b(g,k,function(b){1!==b.nodeType&&8!==b.nodeType||a.Rb(e,b)});b(g,k,function(b){1!==b.nodeType&&8!==b.nodeType||a.M.yc(b,[e])});a.a.za(f,l)}}function f(a){return a.nodeType?a:0<a.length?a[0]:null}function l(b,
c,e,h,m){m=m||{};var t=(b&&f(b)||e||{}).ownerDocument,u=m.templateEngine||w;a.Gb.Oc(e,u,t);e=u.renderTemplate(e,h,m,t);if("number"!=typeof e.length||0<e.length&&"number"!=typeof e[0].nodeType)throw Error("Template engine must return an array of DOM nodes");t=!1;switch(c){case "replaceChildren":a.f.da(b,e);t=!0;break;case "replaceNode":a.a.qc(b,e);t=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+c);}t&&(d(e,h),m.afterRender&&a.l.w(m.afterRender,null,[e,h.$data]));
return e}function h(b,c,d){return a.H(b)?b():"function"===typeof b?b(c,d):b}var w;a.Db=function(b){if(b!=e&&!(b instanceof a.O))throw Error("templateEngine must inherit from ko.templateEngine");w=b};a.Ab=function(b,c,d,g,t){d=d||{};if((d.templateEngine||w)==e)throw Error("Set a template engine before calling renderTemplate");t=t||"replaceChildren";if(g){var u=f(g);return a.B(function(){var e=c&&c instanceof a.U?c:new a.U(a.a.c(c)),w=h(b,e.$data,e),e=l(g,t,w,e,d);"replaceNode"==t&&(g=e,u=f(g))},null,
{wa:function(){return!u||!a.a.nb(u)},i:u&&"replaceNode"==t?u.parentNode:u})}return a.M.wb(function(f){a.Ab(b,c,d,f,"replaceNode")})};a.kd=function(b,c,f,k,w){function t(a,b){d(b,q);f.afterRender&&f.afterRender(b,a);q=null}function u(a,c){q=w.createChildContext(a,f.as,function(a){a.$index=c});var d=h(b,a,q);return l(null,"ignoreTargetNode",d,q,f)}var q;return a.B(function(){var b=a.a.c(c)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.Ka(b,function(b){return f.includeDestroyed||b===e||null===b||!a.a.c(b._destroy)});
a.l.w(a.a.Bb,null,[k,b,u,f,t])},null,{i:k})};var t=a.a.e.I();a.d.template={init:function(b,c){var d=a.a.c(c());if("string"==typeof d||d.name)a.f.xa(b);else{if("nodes"in d){if(d=d.nodes||[],a.H(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=a.f.childNodes(b);d=a.a.jc(d);(new a.v.qa(b)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,c,d,f,g){var k=c(),l;c=a.a.c(k);d=!0;f=null;"string"==typeof c?c={}:(k=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in
c&&(d=!a.a.c(c.ifnot)),l=a.a.c(c.data));"foreach"in c?f=a.kd(k||b,d&&c.foreach||[],c,b,g):d?(g="data"in c?g.createChildContext(l,c.as):g,f=a.Ab(k||b,g,c,b)):a.f.xa(b);g=f;(l=a.a.e.get(b,t))&&"function"==typeof l.k&&l.k();a.a.e.set(b,t,g&&g.ba()?g:e)}};a.h.ta.template=function(b){b=a.h.yb(b);return 1==b.length&&b[0].unknown||a.h.ad(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.f.Z.template=!0})();a.b("setTemplateEngine",a.Db);a.b("renderTemplate",
a.Ab);a.a.dc=function(a,b,d){if(a.length&&b.length){var f,e,l,h,w;for(f=e=0;(!d||f<d)&&(h=a[e]);++e){for(l=0;w=b[l];++l)if(h.value===w.value){h.moved=w.index;w.moved=h.index;b.splice(l,1);f=l=0;break}f+=l}}};a.a.ib=function(){function b(c,d,f,e,l){var h=Math.min,w=Math.max,t=[],n,u=c.length,p,I=d.length,x=I-u||1,q=u+I+1,T,v,D;for(n=0;n<=u;n++)for(v=T,t.push(T=[]),D=h(I,n+x),p=w(0,n-1);p<=D;p++)T[p]=p?n?c[n-1]===d[p-1]?v[p-1]:h(v[p]||q,T[p-1]||q)+1:p+1:n+1;h=[];w=[];x=[];n=u;for(p=I;n||p;)I=t[n][p]-
1,p&&I===t[n][p-1]?w.push(h[h.length]={status:f,value:d[--p],index:p}):n&&I===t[n-1][p]?x.push(h[h.length]={status:e,value:c[--n],index:n}):(--p,--n,l.sparse||h.push({status:"retained",value:d[p]}));a.a.dc(x,w,!l.dontLimitMoves&&10*u);return h.reverse()}return function(a,d,f){f="boolean"===typeof f?{dontLimitMoves:f}:f||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",f):b(d,a,"deleted","added",f)}}();a.b("utils.compareArrays",a.a.ib);(function(){function b(c,d,f,g,k){var l=[],
h=a.B(function(){var b=d(f,k,a.a.za(l,c))||[];0<l.length&&(a.a.qc(l,b),g&&a.l.w(g,null,[f,b,k]));l.length=0;a.a.ra(l,b)},null,{i:c,wa:function(){return!a.a.Qb(l)}});return{ca:l,B:h.ba()?h:e}}var d=a.a.e.I(),f=a.a.e.I();a.a.Bb=function(l,h,w,t,u){function I(b,c){z=p[c];D!==c&&(C[b]=z);z.qb(D++);a.a.za(z.ca,l);q.push(z);B.push(z)}function n(b,c){if(b)for(var d=0,f=c.length;d<f;d++)c[d]&&a.a.q(c[d].ca,function(a){b(a,d,c[d].ja)})}h=h||[];t=t||{};var x=a.a.e.get(l,d)===e,p=a.a.e.get(l,d)||[],T=a.a.fb(p,
function(a){return a.ja}),v=a.a.ib(T,h,t.dontLimitMoves),q=[],y=0,D=0,P=[],B=[];h=[];for(var C=[],T=[],z,K=0,X,Y;X=v[K];K++)switch(Y=X.moved,X.status){case "deleted":Y===e&&(z=p[y],z.B&&(z.B.k(),z.B=e),a.a.za(z.ca,l).length&&(t.beforeRemove&&(q.push(z),B.push(z),z.ja===f?z=null:h[K]=z),z&&P.push.apply(P,z.ca)));y++;break;case "retained":I(K,y++);break;case "added":Y!==e?I(K,Y):(z={ja:X.value,qb:a.N(D++)},q.push(z),B.push(z),x||(T[K]=z))}a.a.e.set(l,d,q);n(t.beforeMove,C);a.a.q(P,t.beforeRemove?a.$:
a.removeNode);for(var K=0,x=a.f.firstChild(l),F;z=B[K];K++){z.ca||a.a.extend(z,b(l,w,z.ja,u,z.qb));for(y=0;v=z.ca[y];x=v.nextSibling,F=v,y++)v!==x&&a.f.gc(l,v,F);!z.Wc&&u&&(u(z.ja,z.ca,z.qb),z.Wc=!0)}n(t.beforeRemove,h);for(K=0;K<h.length;++K)h[K]&&(h[K].ja=f);n(t.afterMove,C);n(t.afterAdd,T)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Bb);a.W=function(){this.allowTemplateRewriting=!1};a.W.prototype=new a.O;a.W.prototype.renderTemplateSource=function(b,d,f,e){if(d=(9>a.a.C?0:b.nodes)?
b.nodes():null)return a.a.V(d.cloneNode(!0).childNodes);b=b.text();return a.a.ma(b,e)};a.W.sb=new a.W;a.Db(a.W.sb);a.b("nativeTemplateEngine",a.W);(function(){a.vb=function(){var a=this.$c=function(){if(!b||!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,f,e){e=e||h;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var l=c.data("precompiled");
l||(l=c.text()||"",l=b.template(null,"{{ko_with $item.koBindingContext}}"+l+"{{/ko_with}}"),c.data("precompiled",l));c=[d.$data];d=b.extend({koBindingContext:d},f.templateOptions);d=b.tmpl(l,c,d);d.appendTo(e.createElement("div"));b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){h.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},
b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.vb.prototype=new a.O;var c=new a.vb;0<c.$c&&a.Db(c);a.b("jqueryTmplTemplateEngine",a.vb)})()})})()})();
(function(e){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?e(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],e):e(ko,ko.mapping={})})(function(e,d){function h(a,b){var f,e;for(e in b)if(b.hasOwnProperty(e)&&b[e])if(f=d.getType(a[e]),e&&a[e]&&"array"!==f&&"string"!==f)h(a[e],b[e]);else if("array"===d.getType(a[e])&&"array"===d.getType(b[e])){f=a;for(var l=e,c=a[e],g=b[e],k={},m=c.length-1;0<=m;--m)k[c[m]]=c[m];for(m=
g.length-1;0<=m;--m)k[g[m]]=g[m];c=[];g=void 0;for(g in k)c.push(k[g]);f[l]=c}else a[e]=b[e]}function f(a,b){var d={};h(d,a);h(d,b);return d}function b(a,b){for(var d=f({},a),e=G.length-1;0<=e;e--){var h=G[e];d[h]&&(d[""]instanceof Object||(d[""]={}),d[""][h]=d[h],delete d[h])}b&&(d.ignore=l(b.ignore,d.ignore),d.include=l(b.include,d.include),d.copy=l(b.copy,d.copy),d.observe=l(b.observe,d.observe));d.ignore=l(d.ignore,C.ignore);d.include=l(d.include,C.include);d.copy=l(d.copy,C.copy);d.observe=l(d.observe,
C.observe);d.mappedProperties=d.mappedProperties||{};d.copiedProperties=d.copiedProperties||{};return d}function l(a,b){"array"!==d.getType(a)&&(a="undefined"===d.getType(a)?[]:[a]);"array"!==d.getType(b)&&(b="undefined"===d.getType(b)?[]:[b]);return e.utils.arrayGetDistinctValues(a.concat(b))}function u(b,l,h,v,P,c,g){var k="array"===d.getType(e.utils.unwrapObservable(l));c=c||"";if(d.isMapped(b)){var m=e.utils.unwrapObservable(b)[a];h=f(m,h)}var B=g||P,C=function(){return h[v]&&h[v].create instanceof
Function},E=function(a){var b=O,c=e.dependentObservable;e.dependentObservable=function(a,c,d){d=d||{};a&&"object"==typeof a&&(d=a);var f=d.deferEvaluation,g=!1;d.deferEvaluation=!0;a=new W(a,c,d);if(!f){var l=a,f=e.dependentObservable;e.dependentObservable=W;a=e.isWriteableObservable(l);e.dependentObservable=f;f=W({read:function(){g||(e.utils.arrayRemoveItem(b,l),g=!0);return l.apply(l,arguments)},write:a&&function(a){return l(a)},deferEvaluation:!0});f.__DO=l;a=f;b.push(a)}return a};e.dependentObservable.fn=
W.fn;e.computed=e.dependentObservable;a=e.utils.unwrapObservable(P)instanceof Array?h[v].create({data:a||l,parent:B,skip:L}):h[v].create({data:a||l,parent:B});e.dependentObservable=c;e.computed=e.dependentObservable;return a},r=function(){return h[v]&&h[v].update instanceof Function},s=function(a,b){var c={data:b||l,parent:B,target:e.utils.unwrapObservable(a)};e.isWriteableObservable(a)&&(c.observable=a);return h[v].update(c)};if(g=S.get(l))return g;v=v||"";if(k){var k=[],n=!1,A=function(a){return a};
h[v]&&h[v].key&&(A=h[v].key,n=!0);e.isObservable(b)||(b=e.observableArray([]),b.mappedRemove=function(a){var c="function"==typeof a?a:function(b){return b===A(a)};return b.remove(function(a){return c(A(a))})},b.mappedRemoveAll=function(a){var c=U(a,A);return b.remove(function(a){return-1!=e.utils.arrayIndexOf(c,A(a))})},b.mappedDestroy=function(a){var c="function"==typeof a?a:function(b){return b===A(a)};return b.destroy(function(a){return c(A(a))})},b.mappedDestroyAll=function(a){var c=U(a,A);return b.destroy(function(a){return-1!=
e.utils.arrayIndexOf(c,A(a))})},b.mappedIndexOf=function(a){var c=U(b(),A);a=A(a);return e.utils.arrayIndexOf(c,a)},b.mappedGet=function(a){return b()[b.mappedIndexOf(a)]},b.mappedCreate=function(a){if(-1!==b.mappedIndexOf(a))throw Error("There already is an object with the key that you specified.");var c=C()?E(a):a;r()&&(a=s(c,a),e.isWriteableObservable(c)?c(a):c=a);b.push(c);return c});g=U(e.utils.unwrapObservable(b),A).sort();m=U(l,A);n&&m.sort();n=e.utils.compareArrays(g,m);g={};var p,G=e.utils.unwrapObservable(l),
J={},q=!0,m=0;for(p=G.length;m<p;m++){var y=A(G[m]);if(void 0===y||y instanceof Object){q=!1;break}J[y]=G[m]}var G=[],Q=0,m=0;for(p=n.length;m<p;m++){var y=n[m],H,M=c+"["+m+"]";switch(y.status){case "added":var R=q?J[y.value]:D(e.utils.unwrapObservable(l),y.value,A);H=u(void 0,R,h,v,b,M,P);C()||(H=e.utils.unwrapObservable(H));M=x(e.utils.unwrapObservable(l),R,g);H===L?Q++:G[M-Q]=H;g[M]=!0;break;case "retained":R=q?J[y.value]:D(e.utils.unwrapObservable(l),y.value,A);H=D(b,y.value,A);u(H,R,h,v,b,M,
P);M=x(e.utils.unwrapObservable(l),R,g);G[M]=H;g[M]=!0;break;case "deleted":H=D(b,y.value,A)}k.push({event:y.status,item:H})}b(G);h[v]&&h[v].arrayChanged&&e.utils.arrayForEach(k,function(a){h[v].arrayChanged(a.event,a.item)})}else if(F(l)){b=e.utils.unwrapObservable(b);if(!b){if(C())return n=E(),r()&&(n=s(n)),n;if(r())return s(n);b={}}r()&&(b=s(b));S.save(l,b);if(r())return b;V(l,function(a){var d=c.length?c+"."+a:a;if(-1==e.utils.arrayIndexOf(h.ignore,d))if(-1!=e.utils.arrayIndexOf(h.copy,d))b[a]=
l[a];else if("object"!=typeof l[a]&&"array"!=typeof l[a]&&0<h.observe.length&&-1==e.utils.arrayIndexOf(h.observe,d))b[a]=l[a],h.copiedProperties[d]=!0;else{var f=S.get(l[a]),g=u(b[a],l[a],h,a,b,d,b),f=f||g;if(0<h.observe.length&&-1==e.utils.arrayIndexOf(h.observe,d))b[a]=f(),h.copiedProperties[d]=!0;else{if(e.isWriteableObservable(b[a])){if(f=e.utils.unwrapObservable(f),b[a]()!==f)b[a](f)}else f=void 0===b[a]?f:e.utils.unwrapObservable(f),b[a]=f;h.mappedProperties[d]=!0}}})}else switch(d.getType(l)){case "function":r()?
e.isWriteableObservable(l)?(l(s(l)),b=l):b=s(l):b=l;break;default:if(e.isWriteableObservable(b))return H=r()?s(b):e.utils.unwrapObservable(l),b(H),H;C()||r();b=C()?E():e.observable(e.utils.unwrapObservable(l));r()&&b(s(b))}return b}function x(a,b,d){for(var f=0,e=a.length;f<e;f++)if(!0!==d[f]&&a[f]===b)return f;return null}function v(a,b){var f;b&&(f=b(a));"undefined"===d.getType(f)&&(f=a);return e.utils.unwrapObservable(f)}function D(a,b,d){a=e.utils.unwrapObservable(a);for(var f=0,l=a.length;f<
l;f++){var c=a[f];if(v(c,d)===b)return c}throw Error("When calling ko.update*, the key '"+b+"' was not found!");}function U(a,b){return e.utils.arrayMap(e.utils.unwrapObservable(a),function(a){return b?v(a,b):a})}function V(a,b){if("array"===d.getType(a))for(var f=0;f<a.length;f++)b(f);else for(f in a)b(f)}function F(a){var b=d.getType(a);return("object"===b||"array"===b)&&null!==a}function aa(){var a=[],b=[];this.save=function(d,f){var l=e.utils.arrayIndexOf(a,d);0<=l?b[l]=f:(a.push(d),b.push(f))};
this.get=function(d){d=e.utils.arrayIndexOf(a,d);return 0<=d?b[d]:void 0}}function ca(){var a={},b=function(b){var d;try{d=b}catch(f){d="$$$"}b=a[d];void 0===b&&(b=new aa,a[d]=b);return b};this.save=function(a,d){b(a).save(a,d)};this.get=function(a){return b(a).get(a)}}var a="__ko_mapping__",W=e.dependentObservable,Q=0,O,S,G=["create","update","key","arrayChanged"],L={},B={include:["_destroy"],ignore:[],copy:[],observe:[]},C=B;d.isMapped=function(b){return(b=e.utils.unwrapObservable(b))&&b[a]};d.fromJS=
function(d){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{Q++||(O=[],S=new ca);var e,l;2==arguments.length&&(arguments[1][a]?l=arguments[1]:e=arguments[1]);3==arguments.length&&(e=arguments[1],l=arguments[2]);l&&(e=f(e,l[a]));e=b(e);var h=u(l,d,e);l&&(h=l);if(!--Q)for(;O.length;){var x=O.pop();x&&(x(),x.__DO.throttleEvaluation=x.throttleEvaluation)}h[a]=f(h[a],e);return h}catch(c){throw Q=0,c;}};d.fromJSON=function(a){var b=e.utils.parseJson(a);
arguments[0]=b;return d.fromJS.apply(this,arguments)};d.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};d.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};d.toJS=function(f,l){C||d.resetDefaultOptions();if(0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");
if("array"!==d.getType(C.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==d.getType(C.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==d.getType(C.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");l=b(l,f[a]);return d.visitModel(f,function(a){return e.utils.unwrapObservable(a)},l)};d.toJSON=function(a,b){var f=d.toJS(a,b);return e.utils.stringifyJson(f)};d.defaultOptions=function(){if(0<arguments.length)C=
arguments[0];else return C};d.resetDefaultOptions=function(){C={include:B.include.slice(0),ignore:B.ignore.slice(0),copy:B.copy.slice(0)}};d.getType=function(a){if(a&&"object"===typeof a){if(a.constructor===Date)return"date";if(a.constructor===Array)return"array"}return typeof a};d.visitModel=function(f,l,h){h=h||{};h.visitedObjects=h.visitedObjects||new ca;var u,x=e.utils.unwrapObservable(f);if(F(x))h=b(h,x[a]),l(f,h.parentName),u="array"===d.getType(x)?[]:{};else return l(f,h.parentName);h.visitedObjects.save(f,
u);var c=h.parentName;V(x,function(b){if(!h.ignore||-1==e.utils.arrayIndexOf(h.ignore,b)){var f=x[b],m=h,v=c||"";"array"===d.getType(x)?c&&(v+="["+b+"]"):(c&&(v+="."),v+=b);m.parentName=v;if(-1!==e.utils.arrayIndexOf(h.copy,b)||-1!==e.utils.arrayIndexOf(h.include,b)||!x[a]||!x[a].mappedProperties||x[a].mappedProperties[b]||!x[a].copiedProperties||x[a].copiedProperties[b]||"array"===d.getType(x))switch(d.getType(e.utils.unwrapObservable(f))){case "object":case "array":case "undefined":m=h.visitedObjects.get(f);
u[b]="undefined"!==d.getType(m)?m:d.visitModel(f,l,h);break;default:u[b]=l(f,h.parentName)}}});return u}});
ko.bindingHandlers.foreachprop={transformObject:function(e,d){var h=[],f;for(f in e)e.hasOwnProperty(f)&&h.push({key:f,value:e[f]});d||h.sort(function(b,d){return b.key.localeCompare(d.key)});return h},init:function(e,d,h,f,b){h=h.get("unsorted");d=ko.utils.unwrapObservable(d());d=ko.bindingHandlers.foreachprop.transformObject(d,h);b=b.createChildContext(b.$rawData,null);ko.applyBindingsToNode(e,{foreach:d},b);return{controlsDescendantBindings:!0}}};
var RDWorkflow=Class.create({workflow:null,nodeSteppluginDescriptions:null,wfSteppluginDescriptions:null,initialize:function(e,d){this.workflow=e;Object.extend(this,d)},contextType:function(e){e=this.workflow[RDWorkflow.workflowIndexForContextId(e[0])];if("undefined"!=typeof e){if(e.exec)return"command";if(e.jobref)return"job";if(e.script)return"script";if(e.scriptfile)return"scriptfile";if(e.type)return e.nodeStep?"node-step-plugin plugin":null==e.nodeStep||e.nodeStep?"plugin":"workflow-step-plugin plugin"}return"console"},
renderContextStepNumber:function(e){"string"==typeof e&&(e=RDWorkflow.parseContextId(e));e=""+RDWorkflow.stepNumberForContextId(e[0]);return e+". "},renderContextString:function(e){"string"==typeof e&&(e=RDWorkflow.parseContextId(e));var d="";e=this.workflow[RDWorkflow.workflowIndexForContextId(e[0])];if("undefined"!=typeof e)e.description?d=e.description:e.exec?d="Command":e.jobref?d=(e.jobref.group?e.jobref.group+"/":"")+e.jobref.name:e.script?d="Script":e.scriptfile?d=e.scriptfile:e.type&&(d="Plugin "+
e.type,e.nodeStep&&this.nodeSteppluginDescriptions&&this.nodeSteppluginDescriptions[e.type]?d=this.nodeSteppluginDescriptions[e.type].title||d:!e.nodeStep&&this.wfSteppluginDescriptions&&this.wfSteppluginDescriptions[e.type]&&(d=this.wfSteppluginDescriptions[e.type].title||d));else return"[?]";return d}});
RDWorkflow.unescape=function(e,d,h,f){for(var b=[],l=!1,u=0,x=null;u<e.length;u++){var v=e.charAt(u);if(v==d)l?(b.push(d),l=!1):l=!0;else if(0<=h.indexOf(v))if(l)b.push(v),l=!1;else if(0<=f.indexOf(v)){x=v;break}else b.push(v);else l&&(b.push(d),l=!1),b.push(v)}return{text:b.join(""),bchar:x,rest:u<=e.length-1?e.substring(u+1):null}};RDWorkflow.splitEscaped=function(e,d){for(var h=[],f=e;f;)f=RDWorkflow.unescape(f,"\\",["\\","/"],[d]),h.push(f.text),f=f.rest;return h};
RDWorkflow.contextStringSeparator="/";RDWorkflow.parseContextId=function(e){if(null==e)return null;e=RDWorkflow.splitEscaped(e,RDWorkflow.contextStringSeparator);for(var d=0,h=[],d=0;d<e.length;d++)h.push(e[d]);return h};RDWorkflow.paramsForContextId=function(e){e=e.match(/^(\d+)(e)?(@(.+))?$/);return e[4]?e[4].replace(/\\([/@,=])/g,"$1"):null};RDWorkflow.isErrorhandlerForContextId=function(e){return"e"==e.match(/^(\d+)(e)?(@.+)?$/)[2]?!0:!1};
RDWorkflow.stepNumberForContextId=function(e){e=e.match(/^(\d+)(e)?(@.+)?$/);return e[1]?parseInt(e[1]):null};RDWorkflow.workflowIndexForContextId=function(e){e=RDWorkflow.stepNumberForContextId(e);return null!=e?e-1:null};RDWorkflow.cleanContextId=function(e){e=RDWorkflow.parseContextId(e);for(var d=0;d<e.length;d++)e[d]=RDWorkflow.stepNumberForContextId(e[d]);return e.join(RDWorkflow.contextStringSeparator)};
function Report(e){var d=this;d.status=ko.observable();d.dateCompleted=ko.observable();d.dateStarted=ko.observable();d.execution=ko.observable();d.executionHref=ko.observable();d.jobId=ko.observable();d.jobDeleted=ko.observable(!1);d.executionId=ko.observable();d.reportId=ko.observable();d.title=ko.observable();d.jobAverageDuration=ko.observable(0);d.duration=ko.observable(0);d.bulkEditSelected=ko.observable(!1);d.durationSimple=ko.computed(function(){return MomentUtil.formatDurationSimple(d.duration())});
d.durationHumanize=ko.computed(function(){return MomentUtil.formatDurationHumanize(d.duration())});d.startTimeFormat=function(e){return MomentUtil.formatTime(d.dateStarted(),e)};d.endTimeSimple=ko.computed(function(){return MomentUtil.formatTimeSimple(d.dateCompleted())});d.statusList="running succeed succeeded failed cancel aborted retry timedout timeout fail".split(" ");d.isCustomStatus=ko.computed(function(){return 0>d.statusList.indexOf(d.status())});d.customStatusString=ko.computed(function(){return d.execution()?
d.execution().status():status()});d.isJob=ko.computed(function(){var e=d.jobId(),f=d.jobDeleted();return e||f});d.isAdhoc=ko.computed(function(){return!d.isJob()});d.jobPercentage=ko.computed(function(){return 0<d.jobAverageDuration()?100*(d.duration()/d.jobAverageDuration()):-1});d.jobPercentageFixed=ko.computed(function(){var e=d.jobPercentage();return 0<=e?e.toFixed(0):"0"});d.jobOverrunDuration=ko.computed(function(){var e=d.jobAverageDuration(),f=d.duration();return 0<e&&f>e?MomentUtil.formatDurationSimple(f-
e):""});d.endTimeFormat=function(e){var f=d.dateCompleted();return MomentUtil.formatTime(f,e)};d.nodeFailCount=ko.computed(function(){var e=ko.utils.unwrapObservable(d.node);if(e&&(e=e.split("/"),3==e.length))return parseInt(e[1])});d.nodeSucceedCount=ko.computed(function(){var e=ko.utils.unwrapObservable(d.node);if(e&&(e=e.split("/"),3==e.length))return parseInt(e[0])});ko.mapping.fromJS(e,{},d)}
function History(e,d,h){var f=this;f.ajaxHistoryLink=e;f.ajaxNowRunningLink=d;f.ajaxBulkDeleteLink=h?h:"object"==typeof appLinks?appLinks.apiExecutionsBulkDelete:null;f.reports=ko.observableArray([]);f.nowrunning=ko.observableArray([]);f.showReports=ko.observable(!1);f.nowRunningEnabled=ko.observable(!0);f.href=ko.observable();f.selected=ko.observable(!1);f.max=ko.observable(20);f.total=ko.observable(0);f.offset=ko.observable(0);f.params=ko.observable();f.reloadInterval=ko.observable(0);f.highlightExecutionId=
ko.observable();f.bulkEditMode=ko.observable(!1);f.bulkEditPrevious=ko.observable(-1);f.bulkEditResults=ko.observable();f.bulkEditProgress=ko.observable(!1);f.results=ko.computed(function(){return f.showReports()?f.reports():f.nowrunning()});f.count=ko.computed(function(){return f.reports().length+f.offset()*f.max()});f.pageCount=ko.computed(function(){return totalPageCount(f.max(),f.total())});f.pages=ko.computed(function(){var b=f.total(),d=f.offset(),e=f.max(),h=f.href();if(1>b||!h)return"";var v=
[],h=h.replace(/[&\?](offset|max)=\d+/ig,"");foreachPage(d,e,b,{maxSteps:10},function(b){var d=_genUrl(h,{offset:b.offset,max:b.max});v.push(ko.utils.extend({url:d,label:b.prevPage?"Previous":b.nextPage?"Next":b.skipped?"\u2026":b.page},b))});return v});f.bulkEditIds=ko.computed(function(){var b=[];ko.utils.arrayForEach(f.reports(),function(d){d.bulkEditSelected()&&b.push(d.executionId())});return b});f.visitPage=function(b){loadHistoryLink(f,f.ajaxHistoryLink,b.url)};f.activateNowRunningTab=function(){jQuery("ul.activity_links > li:first-child").addClass("active");
jQuery("ul.activity_links > li:first-child > a").each(function(b){loadHistoryLink(f,f.ajaxNowRunningLink,this.getAttribute("href"),jQuery(this).data("auto-refresh"))})};f.toggleBulkEdit=function(){f.bulkEditMode(!f.bulkEditMode())};f.rowClicked=function(b,d){if(f.bulkEditMode()){var e=ko.utils.arrayIndexOf(f.reports(),b);if(d&&0<=f.bulkEditPrevious())for(var h=f.bulkEditPrevious(),v=h<e?h:e,D=h<e?e:h,h=b.bulkEditSelected();D>=v&&0<=D;D--)f.reports()[D].bulkEditSelected(!h);else b.bulkEditSelected(!b.bulkEditSelected());
f.bulkEditPrevious(e)}else document.location=b.executionHref()};f.bulkEditToggleAll=function(){ko.utils.arrayForEach(f.reports(),function(b){b.bulkEditSelected(!b.bulkEditSelected())})};f.bulkEditSelectAll=function(){ko.utils.arrayForEach(f.reports(),function(b){b.bulkEditSelected(!0)})};f.bulkEditDeselectAll=function(){ko.utils.arrayForEach(f.reports(),function(b){b.bulkEditSelected(!1)})};f.doBulkDelete=function(b,d){jQuery(b).modal("hide");f.bulkEditProgress(!0);jQuery.ajax({url:f.ajaxBulkDeleteLink,
type:"post",data:JSON.stringify({ids:f.bulkEditIds()}),contentType:"application/json",dataType:"json",beforeSend:_ajaxSendTokens.curry("history_tokens"),success:function(b,e,h){f.bulkEditProgress(!1);f.bulkEditResults(b);b.allsuccessful?f.bulkEditMode(!1):jQuery(d).modal("show");f.reloadData()},error:function(b,e,h){f.bulkEditProgress(!1);f.bulkEditResults({error:"Request did not succeed: "+(b.responseJSON&&b.responseJSON.message?b.responseJSON.message:h)});jQuery(d).modal("show")}}).success(_ajaxReceiveTokens.curry("history_tokens"))};
f.reloadData=function(){loadHistoryLink(f,f.ajaxHistoryLink,f.href())}}var binding={reports:{key:function(e){return ko.utils.unwrapObservable(e.id)},create:function(e){return new Report(e.data)}},nowrunning:{key:function(e){return ko.utils.unwrapObservable(e.id)},create:function(e){return new Report(jQuery.extend({execution:e.data},e.data))}}};
function loadHistoryLink(e,d,h,f){var b=h.substring(h.indexOf("?")+1),l=0<d.indexOf("?")?d+"&"+b:d+"?"+b,u;u=function(d){e.selected(!0);ko.mapping.fromJS(Object.extend(d,{params:b}),binding,e);setTimeout(function(){f&&e.href()==h&&(e.href(h),jQuery.getJSON(l,u))},1E3*f)};e.href(h);jQuery.getJSON(l,u)}
function setupActivityLinks(e,d){var h=jQuery("#"+e);h.on("click","a.activity_link",function(f){f.preventDefault();f=jQuery(this)[0];jQuery("#"+e+" .activity_links > li").removeClass("active");jQuery(f.parentNode).addClass("active");d.showReports(!0);loadHistoryLink(d,d.ajaxHistoryLink,f.getAttribute("href"),jQuery(this).data("auto-refresh"))});h.on("click","a.running_link",function(f){f.preventDefault();f=jQuery(this)[0];d.nowRunningEnabled()&&(jQuery("#"+e+" .activity_links > li").removeClass("active"),
jQuery(f.parentNode).addClass("active"),d.showReports(!1),loadHistoryLink(d,d.ajaxNowRunningLink,f.getAttribute("href"),jQuery(this).data("auto-refresh")))});h.on("click",".autoclick .autoclickable",function(f){f.preventDefault();d.rowClicked(ko.dataFor(this),f.shiftKey);return!1}).on("mousedown",".autoclick .autoclickable",function(f){d.bulkEditMode()&&f.preventDefault()})}
ko.bindingHandlers.executeOnEnter={init:function(e,d,h,f,b){var l=h.get("executeOnEnter");jQuery(e).keypress(function(d){return 13===(d.which?d.which:d.keyCode)?(l.call(b.$data,d),!1):!0})}};
function NodeFilterLinkParams(e){var d=this;d.linkicon=e.linkicon||"";d.classnames=e.classnames||"";d.filterval=e.filterval||"";d.filterkey=e.filterkey||"";d.filter=e.filter||"";d.linktext=e.linktext||"";d.textcss=e.textcss||"";d.suffix=e.suffix||"";d.tag=e.tag;d.title=e.title||"";d.filterData=function(e){return d.filter?{"data-node-filter":ko.unwrap(d.filter),href:e.linkForFilterString(ko.unwrap(d.filter))}:{"data-node-filter":e.escapeFilter(d.filterkey+":")+" "+e.escapeFilter(ko.unwrap(d.filterval)),
href:e.linkForFilterParams(d.filterkey,ko.unwrap(d.filterval))}};d.attributes=function(e){e=d.filterData(e);d.tag&&(e["data-node-tag"]=ko.unwrap(d.tag));d.title&&(e.title=ko.unwrap(d.title));return e};d.viewtext=function(){return(d.linktext?ko.unwrap(d.linktext):d.filter?ko.unwrap(d.filter):ko.unwrap(d.filterval))+ko.unwrap(d.suffix)}}ko.components.register("node-filter-link",{viewModel:NodeFilterLinkParams,template:'<a  class="nodefilterlink"  href="#"  data-bind="attr: attributes($root),  css: classnames"  >     <span data-bind="if: linkicon"><i data-bind="css: linkicon"></i></span><span data-bind="if: !linkicon"><span data-bind="text: viewtext(), css: textcss"></span></span></a>'});
ko.bindingHandlers.bootstrapPopover={init:function(e,d,h,f,b){h.get("bootstrapPopoverContentRef")?_initPopoverContentRef(null,{element:e,contentRef:ko.unwrap(h.get("bootstrapPopoverContentRef"))}):h.get("bootstrapPopoverContentFor")&&_initPopoverContentFor(null,{element:e,target:ko.unwrap(h.get("bootstrapPopoverContentFor"))})}};ko.bindingHandlers.bootstrapTooltip={init:function(e,d,h,f,b){jQuery(e).tooltip({})}};
ko.bindingHandlers.messageTemplate={init:function(e,d,h,f,b){d=jQuery(e).text();jQuery(e).data("ko-message-template",d);return{controlsDescendantBindings:!0}},update:function(e,d,h,f,b){h=h.get("messageTemplatePluralize");f=ko.utils.unwrapObservable(d());d=jQuery(e).data("ko-message-template");b=null;h&&(b=d.split("|"),d=b[0],b=b[1]);var l=[];"object"!=typeof f?l=[f]:jQuery.isArray(f)?l=f:"object"==typeof f&&(l=ko.utils.unwrapObservable(f.value),jQuery.isArray(l)||(l=[l]));for(f=0;f<l.length;f++)l[f]=
ko.utils.unwrapObservable(l[f]);h&&1!=l[0]&&(d=b);h=d.replace(/\{(\d+)\}/g,function(b,d,f,e){b=parseInt(d);return 0<=b&&b<l.length?l[b]:e});ko.utils.setTextContent(e,h)}};var NODE_FILTER_ALL=".*";
function NodeSummary(e){var d=this;d.error=ko.observable();d.tags=ko.observableArray();d.filters=ko.observableArray();d.defaultFilter=ko.observable();d.totalCount=ko.observable(0);d.baseUrl=e.baseUrl?e.baseUrl:"";d.filterToDelete=ko.observable();d.reload=function(){jQuery.ajax({url:_genUrl(appLinks.frameworkNodeSummaryAjax),type:"GET",error:function(e,f,b){d.error("Recent commands list: request failed for "+requrl+": "+b+", "+f)}}).success(function(e){ko.mapping.fromJS(e,{},d)})};d.linkForTagFilter=
function(e){return _genUrl(d.baseUrl,{filter:"tags:"+e.tag()})};d.linkForFilterName=function(e){return _genUrl(d.baseUrl,{filterName:e.name()})};d.linkForNodeFilters=function(e){return _genUrl(d.baseUrl,e.getPageParams())};d.findFilterByName=function(e){var f=ko.utils.arrayFilter(d.filters(),function(b){return b.name()==e});return f&&1==f.length?f[0]:null};d.removeDefault=function(){setFilter("nodes","!").success(function(e,f,b){d.defaultFilter(null)})};d.setDefaultAll=function(){d.setDefault(NODE_FILTER_ALL)};
d.setDefault=function(e){var f=null;if("string"==typeof e)if(e==NODE_FILTER_ALL)f=e;else{e=d.findFilterByName(e);if(!e)return;f=e.name()}else f=e.name();setFilter("nodes",f).success(function(b,e,h){d.defaultFilter(f)})};d.deleteFilterConfirm=function(e){if("string"==typeof e&&(e=d.findFilterByName(e),!e))return;d.filterToDelete(e);jQuery("#deleteFilterKOModal").modal("show")};d.deleteFilter=function(e){jQuery("#deleteFilterKOModal").modal("hide");jQuery.ajax({url:_genUrl(appLinks.frameworkDeleteNodeFilterAjax,
{filtername:e.name()}),beforeSend:_ajaxSendTokens.curry("ajaxDeleteFilterTokens")}).success(function(f,b,l){d.filterToDelete(null);d.filters.remove(e)}).success(_ajaxReceiveTokens.curry("ajaxDeleteFilterTokens"))};e&&ko.mapping.fromJS(e,{},d)}var CSSColors="aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" ");
function NodeEntry(e){e&&ko.mapping.fromJS(e,{},this)}function TagSummary(e){this.tag=ko.observable(e.tag);this.value=ko.observable(e.value);e&&ko.mapping.fromJS(e,{},this)}
function NodeSet(e){var d=this;d.nodes=ko.observableArray([]);d.tagsummary=ko.observableArray([]);var h={nodes:{create:function(d){return new NodeEntry(d.data)}},tagsummary:{key:function(d){return ko.utils.unwrapObservable(d.tag)},create:function(d){return new TagSummary(d.data)}}};d.glyphiconCss=function(d){return d.match(/^glyphicon-[a-z-]+$/)?"glyphicon "+d:""};d.glyphiconBadges=function(d){var b=[];if(d["ui:badges"]){d=d["ui:badges"]().split(/,\s*/g);for(var e=0;e<d.length;e++)d[e].match(/^glyphicon-[a-z-]+$/)&&
b.push(d[e])}return b};d.isAnsiFg=function(d){return null!=d&&"string"==typeof d&&d.match(/^ansi-fg-(light-)?(black|green|red|yellow|blue|magenta|cyan|white)$/)};d.isStyleFg=function(d){return null!=d&&"string"==typeof d&&d.match(/^#[0-9a-fA-F]{3,6}$/)||0<=CSSColors.indexOf(d)};d.isAnsiBg=function(d){return null!=d&&"string"==typeof d&&d.match(/^ansi-bg-(black|green|red|yellow|blue|magenta|cyan|white|default)$/)};d.isStyleBg=function(d){return null!=d&&"string"==typeof d&&d.match(/^#[0-9a-fA-F]{3,6}$/)||
0<=CSSColors.indexOf(d)};d.iconFgCss=function(f){var b=f["ui:icon:color"]?f["ui:icon:color"]():null;f=f["ui:color"]?f["ui:color"]():null;return d.isAnsiFg(b)?b:d.isAnsiFg(f)?f:null};d.iconBgCss=function(f){var b=f["ui:icon:bgcolor"]?f["ui:icon:bgcolor"]():null;f=f["ui:bgcolor"]?f["ui:bgcolor"]():null;return d.isAnsiBg(b)?b:d.isAnsiBg(f)?f:null};d.iconCss=function(f){var b=[],e=d.iconFgCss(f);e&&b.push(e);(f=d.iconBgCss(f))&&b.push(f);return b.join(" ")};d.nodeFgCss=function(f){f=f["ui:color"]?f["ui:color"]():
null;return d.isAnsiFg(f)?f:null};d.nodeBgCss=function(f){f=f["ui:bgcolor"]?f["ui:bgcolor"]():null;return d.isAnsiBg(f)?f:null};d.nodeCss=function(f){var b=[],e=d.nodeFgCss(f);e&&b.push(e);(f=d.nodeBgCss(f))&&b.push(f);return b.join(" ")};d.iconStyle=function(f){var b={};if(!d.iconFgCss(f)){var e=f["ui:icon:color"]?f["ui:icon:color"]():null,h=f["ui:color"]?f["ui:color"]():null;d.isStyleFg(e)?b.color=e:d.isStyleFg(h)&&(b.color=h)}d.iconBgCss(f)||(e=f["ui:icon:bgcolor"]?f["ui:icon:bgcolor"]():null,
f=f["ui:bgcolor"]?f["ui:bgcolor"]():null,d.isStyleBg(e)?b["background-color"]=e:d.isStyleBg(f)&&(b["background-color"]=f));return b};d.nodeStyle=function(f){var b={},e=f["ui:color"]?f["ui:color"]():null;!d.nodeFgCss(f)&&d.isStyleFg(e)&&(b.color=e);e=f["ui:bgcolor"]?f["ui:bgcolor"]():null;!d.nodeBgCss(f)&&d.isStyleBg(e)&&(b["background-color"]=e);return b};d.startsWith=function(d,b){return d.length>=b.length&&d.substring(0,b.length)==b};d.attributesInNamespace=function(f,b){var e=[],h;for(h in f)d.startsWith(h,
b+":")&&f[h]()&&e.push({name:h,value:f[h](),shortname:h.substring(b.length+1)});e.sort(function(b,d){return b.shortname.localeCompare(d.shortname)});return e};d.attributeNamespaceNames=function(d){var b=[],e;for(e in d)(d=e.match(/^(\w+):.+$/))&&1<d.length&&0>b.indexOf(d[1])&&b.push(d[1]);b.sort();return b};d.attributeNamespaces=function(d){var b={},e=[],h;for(h in d){var x=h.match(/^(\w+):.+$/);x&&1<x.length&&(b[x[1]]||(b[x[1]]=[],e.push(x[1])),b[x[1]].push({name:h,value:d[h](),shortname:h.substring(x[1].length+
1)}))}e.sort();d=[];for(h=0;h<e.length;h++)x=b[e[h]],x.sort(function(b,d){return b.shortname.localeCompare(d.shortname)}),d.push({ns:e[h],values:x});return d};d.OsAttributeNames="nodename hostname username description tags osFamily osName osVersion osArch".split(" ");d.displayAttributes=function(f){var b={},e;for(e in f)0>e.indexOf(":")&&0>d.OsAttributeNames.indexOf(e)&&(b[e]=f[e]);return b};d.expandNodeAttributes=function(d,b){return b.replace(/\$\{node\.([a-zA-Z-.]+)\}/g,function(b,e,h,v){return d[e]?
d[e]()||"":v})};d.convertTagSummary=function(d){var b=[],e;for(e in d)b.push({tag:e,value:d[e]});return b};d.loadJS=function(f){ko.mapping.fromJS({nodes:f.nodes,tagsummary:d.convertTagSummary(f.tagsummary)},h,d)};e&&d.loadJS(e)}
function NodeFilters(e,d,h,f){var b=this;b.baseRunUrl=e;b.baseSaveJobUrl=d;b.baseNodesPageUrl=h;b.filterName=ko.observable(f.filterName);b.filter=ko.observable(f.filter);b.filterAll=ko.observable(f.filterAll);b.nodeExcludePrecedence=ko.observable(null==f.nodeExcludePrecedence||f.nodeExcludePrecedence?"true":"false");b.nodefilterLinkId=f.nodefilterLinkId;b.total=ko.observable(0);b.allcount=ko.observable(0);b.loading=ko.observable(!1);b.error=ko.observable(null);b.project=ko.observable(f.project);b.page=
ko.observable(f.page?f.page:0);b.pagingMax=ko.observable(f.pagingMax?f.pagingMax:20);b.paging=ko.observable(null!=f.paging?f.paging?!0:!1:!1);b.maxShown=ko.observable(f.maxShown);b.view=ko.observable(f.view);b.emptyMode=ko.observable(f.emptyMode?f.emptyMode:"localnode");b.emptyMessage=ko.observable(f.emptyMessage?f.emptyMessage:"No match");b.hideAll=ko.observable(null!=f.hideAll?f.hideAll?!0:!1:!1);b.nodeSummary=ko.observable(f.nodeSummary?f.nodeSummary:null);b.nodeSet=ko.observable(new NodeSet);
b.truncated=ko.observable(!1);b.loaded=ko.observable(!1);b.browse=ko.observable(!1);b.colkeys=ko.observableArray([]);this.pageDisplay=ko.computed({read:function(){return b.page()+1},write:function(d){b.page(d-1);b.browse(!0);b.updateMatchedNodes()},owner:b});b.filterColumns=ko.pureComputed(function(){return ko.utils.arrayFilter(b.colkeys(),function(d){return!b.nodeSet().startsWith(d,"ui:")})});b.useDefaultColumns=ko.pureComputed(function(){return 1>b.filterColumns().size()});b.totalColumnsCount=ko.pureComputed(function(){return b.useDefaultColumns()?
5:2+b.filterColumns().size()});b.isFilterNameAll=ko.pureComputed(function(){return b.filterName()==NODE_FILTER_ALL});b.filterNameDisplay=ko.pureComputed(function(){return b.isFilterNameAll()?"All Nodes":b.filterName()});b.canSaveFilter=ko.pureComputed(function(){return!b.filterName()&&b.filterWithoutAll()});b.canDeleteFilter=ko.pureComputed(function(){return b.filterName()&&!b.isFilterNameAll()});b.canSetDefaultFilter=ko.pureComputed(function(){return b.filterName()&&b.filterName()!=b.nodeSummary().defaultFilter()});
b.canRemoveDefaultFilter=ko.pureComputed(function(){return b.filterName()&&b.filterName()==b.nodeSummary().defaultFilter()});b.deleteFilter=function(){b.nodeSummary().deleteFilterConfirm(b.filterName())};b.setDefaultFilter=function(){b.nodeSummary().setDefault(b.filterName())};b.pageRemaining=ko.computed(function(){return 0>=b.total()||0>b.page()?0:b.allcount()-(b.page()+1)*b.pagingMax()});b.hasMoreNodes=ko.computed(function(){return 0<b.pageRemaining()});b.hasMultiplePages=ko.computed(function(){return b.pageRemaining()>
b.pagingMax()});b.hasPaging=ko.computed(function(){return b.paging()&&b.total()>b.pagingMax()});b.maxPages=ko.pureComputed(function(){return b.paging()&&Math.ceil(b.total()/b.pagingMax())});b.pageNumbersSkipped=ko.computed(function(){for(var d=[],f=b.page(),e=b.maxPages(),h=0;h<e;h++)h>=f-3&&h<=f+3||3>h||h>=e-3?d.push(h):h!=f-3-1&&h!=f+3+1||d.push("..");return d});b.nodesTitle=ko.computed(function(){return 1==b.allcount()?f.nodesTitleSingular||"Node":f.nodesTitlePlural||"Nodes"});b.filterWithoutAll=
ko.computed({read:function(){return b.filterAll()&&b.filter()==NODE_FILTER_ALL&&b.hideAll()?"":b.filter()},write:function(d){b.filter(d)},owner:this});b.filterIsSet=ko.pureComputed(function(){return!!b.filterWithoutAll()||!!b.filterName()});b.filter.subscribe(function(d){""==d&&b.hideAll()?b.filterAll(!0):d==NODE_FILTER_ALL&&b.filterAll(!0)});b.filter.subscribe(function(d){""==d&&"blank"==b.emptyMode()&&b.clear()});b.filter.subscribe(function(d){d===NODE_FILTER_ALL?b.filterName(NODE_FILTER_ALL):""!=
d&&b.filterName()&&b.filterName(null)});b.nodeExcludePrecedence.subscribe(function(d){b.updateMatchedNodes()});b.loading.subscribe(function(d){d||b.loaded(!0)});b.hasNodes=ko.computed(function(){return 0!=b.allcount()});b.runCommand=function(){document.location=_genUrl(b.baseRunUrl,{filter:b.filter(),filterName:b.filterName()?b.filterName():""})};b.saveJob=function(){document.location=_genUrl(b.baseSaveJobUrl,{filter:b.filter(),filterName:b.filterName()?b.filterName():""})};b.nodesPageView=function(){document.location=
_genUrl(b.baseNodesPageUrl,{filter:b.filter(),filterName:b.filterName()?b.filterName():""})};b.clear=function(){b.page(0);b.total(0);b.allcount(-1)};b.reset=function(){b.clear();b.filterAll(!1);b.filterWithoutAll(null);b.filterName(null)};b.useFilterString=function(d){b.filterAll(!1);b.filterWithoutAll(d);b.filterName(null);b.clear();b.updateMatchedNodes()};b.getPageParams=function(){return{filter:b.filter()||"",filterName:b.filterName()||"",filterAll:b.filterAll()||"",page:b.page()||0,max:b.pagingMax()||
20}};b.getPageUrl=function(){return b.nodeSummary().linkForNodeFilters(b)};b.escapeFilter=function(b){if(""!=b&&!b.match(/[ '"\r\n]/))return null==b?"":b;var d='"';null!=b&&(d+=b.replace(/"/g,'""'));return d+'"'};b.paramsAsfilter=function(d){var f=[],e;for(e in d)f.push(b.escapeFilter(e+":")),f.push(b.escapeFilter(d[e]));return f.join(" ")};b.linkForFilterString=function(d){return _genUrl(b.baseNodesPageUrl,{filter:d})};b.linkForFilterParams=function(d,f){var e;"object"==typeof d?e=b.paramsAsfilter(d):
"string"==typeof d&&"string"==typeof f&&(e={},e[d]=f,e=b.paramsAsfilter(e));return b.linkForFilterString(e)};b.triggerNodeRemoteEdit=function(d){doRemoteEdit(d.nodename(),b.project(),b.nodeSet().expandNodeAttributes(d.attributes,d.attributes.remoteUrl()))};b.setPageParams=function(d){b.filterAll(d.filterAll);b.filter(d.filter);b.filterName(d.filterName);b.clear();b.page(d.page||0);b.pagingMax(d.max||20);b.updateMatchedNodes()};b.selectNodeFilterLink=function(d,f){var e=b.filter(),h=jQuery(d).data("node-filter-name"),
D=jQuery(d).data("node-filter"),U=jQuery(d).data("node-tag");D&&0<=D.indexOf("&")&&(D=html_unescape(D));var V=jQuery(d).data("node-filter-all"),F=e?e.indexOf("tags: "):-1;if(f&&U&&0<=F){for(var D=e.substring(0,F),e=e.substring(F+6),aa="";0==e.indexOf(" ");)e=e.substring(1);F=e.indexOf(" ");0<F&&(aa=e.substring(F),e=e.substring(0,F));D=D+"tags: "+e+"+"+U+aa}else D&&!h&&e&&!V&&e!=NODE_FILTER_ALL?D=e+" "+D:V&&(D=NODE_FILTER_ALL);b.filterAll(V);b.filter(D);b.filterName(h);b.clear();b.updateMatchedNodes()};
b.updateNodesNextPage=function(){b.page()||b.page(0);b.page(b.page()+1);b.updateMatchedNodes()};b.browseNodesPage=function(d){if(b.page()!=d){if(!d||d>=b.maxPages()||0>d)d=0;b.pageDisplay(d+1)}};b.browseNodesPageNext=function(){b.page()+1<b.maxPages()&&b.browseNodesPage(b.page()+1)};b.browseNodesPagePrev=function(){0<b.page()&&b.browseNodesPage(b.page()-1)};b.browseNodesPageUrl=function(d){var f=b.getPageParams();0<=d&&d<b.maxPages()?f.page=d:f.page=0;return _genUrl(b.baseNodesPageUrl,f)};b.browseNodesPagePrevUrl=
function(){return b.browseNodesPageUrl(b.page()-1)};b.browseNodesPageNextUrl=function(){return b.browseNodesPageUrl(b.page()+1)};b.updateNodesRemainingPages=function(){b.page(-1);b.updateMatchedNodes()};b.loadJS=function(d){ko.mapping.fromJS(d,{},b)};b.pagingMax.subscribe(function(){b.updateMatchedNodes()});b.newFilterText=function(){b.page(0);b.updateMatchedNodes()};b.updateMatchedNodes=function(){if((b.filter()||"blank"!=b.emptyMode())&&b.project()){var d=b.filterName()?{filterName:b.filterName()}:
b.filter()?{filter:b.filter()}:{},f=b.page(),e={view:b.view()?b.view():"table",declarenone:!0,fullresults:!0,expanddetail:!0,inlinepaging:!1,nodefilterLinkId:b.nodefilterLinkId};b.paging()&&(e.page=f,e.max=b.pagingMax(),e.inlinepaging=!0,0!=f&&(e.view="tableContent"));b.maxShown()&&(e.maxShown=b.maxShown());d=Object.extend(e,d);if("localnode"==b.emptyMode()&&!b.filter())d.localNodeOnly="true";else if("blank"==b.emptyMode()&&!b.filter()){b.clear();return}f=b.nodeExcludePrecedence();d.nodeExcludePrecedence=
"string"==typeof f&&"false"===f||"boolean"==typeof f&&!f?"false":"true";b.loading(!0);var h=_genUrl(appLinks.frameworkNodesQueryAjax,d);jQuery.ajax({type:"GET",dataType:"json",url:h,error:function(d,f,e){b.loading(!1);"function"==typeof errcallback&&b.error("Failed "+h+": "+e+", "+f)},success:function(d,f,e){b.loading(!1);b.nodeSet().loadJS({nodes:d.allnodes,tagsummary:d.tagsummary});b.loadJS({allcount:d.allcount,total:d.total,truncated:d.truncated,colkeys:d.colkeys})}})}}}
function AdhocLink(e,d){var h=this;h.nodefilter=d;h.href=ko.observable(null);h.title=ko.observable(null);h.execid=ko.observable(null);h.filter=ko.observable(null);h.status=ko.observable(null);h.succeeded=ko.observable(null);var f={running:"running",succeed:"succeed",succeeded:"succeed",fail:"fail",failed:"fail",cancel:"aborted",aborted:"aborted",retry:"failedretry",timedout:"timedout",timeout:"timedout"};h.statusClass=ko.pureComputed(function(){var b=f[h.status()];return b?b:"other"});h.fillCommand=
function(){jQuery("#runFormExec").val(h.title());h.nodefilter.useFilterString(h.filter())};ko.mapping.fromJS(e,{},h)}
function AdhocCommand(e,d){var h=this;h.nodefilter=d;h.loadMax=20;h.recentCommandsLoaded=ko.observable(!1);h.recentCommands=ko.observableArray([]);h.commandString=ko.observable();h.commandStringDelayed=ko.pureComputed(this.commandString).extend({rateLimit:{method:"notifyWhenChangesStop",timeout:1E3}});h.running=ko.observable(!1);h.canRun=ko.observable(!1);h.allowInput=ko.pureComputed(function(){return!h.running()&&h.canRun()});h.followControl=null;var f={recentCommands:{create:function(b){return new AdhocLink(b.data,
h.nodefilter)}}};h.recentCommandsNoneFound=ko.pureComputed(function(){return 1>h.recentCommands().length&&h.recentCommandsLoaded()});h.loadList=function(b){var d=_genUrl(appLinks.adhocHistoryAjax,jQuery.extend({max:h.loadMax},b));return jQuery.ajax({type:"GET",url:d,error:function(b,f,e){runError("Recent commands list: request failed for "+d+": "+e+", "+f)}})};h.loadRecentCommands=function(){h.loadList({}).done(function(b,d,e){h.recentCommandsLoaded(!0);try{ko.mapping.fromJS({recentCommands:b.executions},
f,h)}catch(x){console.log("Recent commands list: error receiving data",x),runError("Recent commands list: error receiving data: "+x)}})};e&&ko.mapping.fromJS(e,{},h)}function showError(e){appendText($("error"),e);$("error").show()}function disableRunBar(e){var d=jQuery("#runbox");e&&d.find("button.runbutton").button("loading")}function enableRunBar(){jQuery("#runbox").find("button.runbutton").button("reset")}var running=!1;function runStarted(){running=!0}
function afterRun(){running=!1;jQuery(".execRerun").show();jQuery("#runFormExec").focus()}function runError(e){jQuery(".errormessage").html(e);jQuery("#runerror").collapse("show");jQuery("#runcontent").hide();onRunComplete()}function requestFailure(e){runError("Request failed: "+e.statusText)}
function runFormSubmit(e){if(running||!$F("runFormExec")||!nodeFilter.filter()&&!nodeFilter.filterName())return!1;e=jQuery("#"+e+" :input").serialize();adhocCommand.running(!0);disableRunBar(!0);runStarted();$("runcontent").loading("Starting Execution\u2026");jQuery.ajax({type:"POST",url:_genUrl(appLinks.scheduledExecutionRunAdhocInline,e),beforeSend:_ajaxSendTokens.curry("adhoc_req_tokens"),success:function(d,e,f){try{startRunFollow(d)}catch(b){console.log(b),runError(b)}},error:function(d,e,f){requestFailure(e)}}).success(_ajaxReceiveTokens.curry("adhoc_req_tokens"));
return!1}function startRunFollow(e){e.error?runError(e.error):e.id?($("runcontent").loading("Loading Output\u2026"),jQuery("#runcontent").load(_genUrl(appLinks.executionFollowFragment,{id:e.id,mode:"tail"}),function(d,h,f){"success"==h?(Element.show("runcontent"),_initAffix(),continueRunFollow(e)):requestFailure(f)})):runError("Server response was invalid: "+e.toString())}
function continueRunFollow(e){var d=loadJsonData("pageParams"),h=[{exec:adhocCommand.commandString()}],h=new RDWorkflow(h,{}),d=new FollowControl(e.id,"runcontent",{workflow:h,parentElement:"commandPerform",viewoptionsCompleteId:"viewoptionscomplete",cmdOutputErrorId:"cmdoutputerror",outfileSizeId:"outfilesize",extraParams:d.disableMarkdown,smallIconUrl:d.smallIconUrl,iconUrl:d.iconUrl,lastlines:d.lastlines,maxLastLines:d.maxLastLines,colStep:{value:!1},collapseCtx:{value:!1,changed:!1},groupOutput:{value:!1},
tailmode:!0,browsemode:!1,nodemode:!1,execData:{},appLinks:appLinks,onComplete:onRunComplete,dobind:!0});d.beginFollowingOutput(e.id);e=adhocCommand.followControl;adhocCommand.followControl=d;e&&e.stopFollowingOutput()}function onRunComplete(){adhocCommand.running(!1);enableRunBar();afterRun()}var nodeFilter,adhocCommand;
function _updateBoxInfo(e,d){d.total&&"0"!=d.total&&!running?(enableRunBar(),adhocCommand.canRun(!0)):running||(disableRunBar(!1),adhocCommand.canRun(!1));null!=d.total&&"undefined"!=typeof nodeFilter&&nodeFilter.total(d.total);null!=d.allcount&&"undefined"!=typeof nodeFilter&&nodeFilter.allcount(d.allcount);null!=d.filter&&"undefined"!=typeof nodeFilter&&nodeFilter.filter(d.filter)}
function closeOutputArea(){jQuery("#runcontent").hide();onRunComplete();adhocCommand.followControl&&adhocCommand.followControl.stopFollowingOutput()}
function init(){var e=loadJsonData("pageParams");jQuery("body").on("click",".nodefilterlink",function(d){d.preventDefault();nodeFilter.selectNodeFilterLink(this)});jQuery("#nodesContent").on("click",".closeoutput",function(d){d.preventDefault();closeOutputArea()});$$("#runbox input").each(function(d){"text"==d.type&&d.observe("keypress",function(b){if(noenter(b))return!0;runFormSubmit("runbox");return!1})});var d=new History(appLinks.reportsEventsAjax,appLinks.menuNowrunningAjax);ko.applyBindings(d,
document.getElementById("activity_section"));setupActivityLinks("activity_section",d);"true"==e.emptyQuery&&d.activateNowRunningTab();var d=loadJsonData("filterParamsJSON"),h=new NodeSummary({baseUrl:appLinks.frameworkNodes});nodeFilter=new NodeFilters(appLinks.frameworkAdhoc,appLinks.scheduledExecutionCreate,appLinks.frameworkNodes,Object.extend(d,{nodeSummary:h,view:"embed",maxShown:100,emptyMode:"blank",project:e.project,nodesTitleSingular:message("Node"),nodesTitlePlural:message("Node.plural")}));
ko.applyBindings(nodeFilter,document.getElementById("actionButtonArea"));ko.applyBindings(nodeFilter,document.getElementById("nodefilterViewArea"));ko.applyBindings(nodeFilter,document.getElementById("nodefiltersHidden"));adhocCommand=new AdhocCommand({commandString:e.runCommand},nodeFilter);ko.applyBindings(adhocCommand,document.getElementById("adhocInput"));nodeFilter.filterName.subscribe(function(d){d&&(jQuery("a[data-node-filter-name]").removeClass("active"),jQuery("a[data-node-filter-name='"+
d+"']").addClass("active"))});nodeFilter.total.subscribe(function(d){d&&"0"!=d&&!running?(enableRunBar(),adhocCommand.canRun(!0)):running||(disableRunBar(!1),adhocCommand.canRun(!1))});h.reload();nodeFilter.updateMatchedNodes();jQuery(".act_adhoc_history_dropdown").click(function(){adhocCommand.loadRecentCommands()})}jQuery(document).ready(init);