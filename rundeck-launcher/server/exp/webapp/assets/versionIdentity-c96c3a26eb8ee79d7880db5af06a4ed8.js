var VersionIdentity=function(d){function l(a){var b=String(a).split(" "),b=1<b.length?b[0]:a;a=String(b).split("-");var c=a[0].split("."),b={version:b};b.major=0<c.length?parseInt(c[0]):0;b.minor=1<c.length?parseInt(c[1]):0;b.majorMinor=10*b.major+b.minor;b.point=2<c.length?parseInt(c[2]):0;b.minorPoint=10*b.minor+b.point;var c=1,e="";1<a.length&&/^\d+$/.test(a[1])?(c=parseInt(a[1]),e=2<a.length?a[2]:""):1<a.length&&(e=a[1]);b.tag=e;b.release=c;b.pointRelease=10*b.point+c;b.minorPointRelease=100*
b.minor+10*b.point+c;b.full=100*b.major+10*b.minor+b.point;return b}function m(a){var b=String(a).split("-");0<b.length&&b[0].substring(0,2);a={};for(var c=0;c<b.length;c++)a["uuid"+c]=parseInt(b[c].substring(0,2),16),a["hexuuid"+c]=b[c];for(var b=b.join(""),e=[],f=0;6*(f+1)<b.length;f++)a["6let"+c]=b.substring(6*f,6*(f+1)),e.push(b.substring(6*f,6*(f+1)));a.sixes=e;return a}function k(a,b){return a[b%a.length]}var a=this;a.versionString=d.versionString;a.versionData={};a.colorIdentity=d&&d.colorIdentity?
d.colorIdentity:"minorPoint";a.nameIdentity=d&&d.nameIdentity?d.nameIdentity:"majorMinor";a.iconIdentity=d&&d.iconIdentity?d.iconIdentity:"minorPoint";a.appId=d&&d.appId?d.appId:"Rundeck";a.serverName=d&&d.serverName?d.serverName:null;a.csscolors="BlueViolet CadetBlue Chocolate CornflowerBlue Crimson DodgerBlue FireBrick ForestGreen Fuchsia Goldenrod HotPink Indigo LimeGreen Magenta Maroon MidnightBlue Navy Olive OrangeRed Purple RoyalBlue SaddleBrown SeaGreen Sienna SlateBlue SteelBlue Teal Tomato Violet".split(" ");
a.glyphicons="bell book briefcase bullhorn camera cutlery flag flash gift globe headphones leaf music paperclip phone plane pushpin tower glass knight tent apple lamp piggy-bank grain sunglasses".split(" ");a.names="Americano;Cafe Au Lait;Cafe Bonbon;Cafecito;Cafe Cubano;Caffe Latte;Cafe Mocha;Cappuccino;Caramel Latte;Coconut Latte;Con Panna;Doppio Espresso;Dry Cappuccino;Espresso Breve;Eye Opener;Hammerhead;Macchiato;Pumpkin Spice Latte;Ristretto;Solo Espresso;Toffee Latte;Turkish Coffee;Vanilla Latte;Viennese Espresso".split(";");
a.data=function(){return a.versionData};a.color=function(){return k(a.csscolors,a.versionData[a.colorIdentity])};a.name=function(){return k(a.names,a.versionData[a.nameIdentity])};a.icon=function(){return k(a.glyphicons,a.versionData[a.iconIdentity])};a.text=function(){return[a.name(),a.color(),a.icon()].join(" ").toLowerCase().replace(/[^a-z]/g," ")};a.showVersionIdentity=function(d){var b=a.color();a.name();var c=a.icon(),e=a.text(),f=a.data(),g=jQuery("<span></span>"),b=jQuery("<span></span>").addClass("version-icon").css({color:b});
b.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+c));g.append(b);c=jQuery("<span></span>").addClass("rundeck-version-name").text(e);f.tag&&"GA"!=f.tag?b.append(c):g.append(c);e=jQuery("<span></span>").attr("title",a.appId+" "+a.versionString+" ("+e+")").append(g);f.tag&&"GA"!=f.tag&&e.append(jQuery("<span></span>").addClass("badge badge-info").text(" "+f.tag.toLowerCase()));jQuery(d).append(e)};a.stripeBg=function(a,b,c,e){return"repeating-linear-gradient(-45deg, "+a+", "+a+" "+b+"px, "+
c+" "+b+"px, "+c+" "+e+"px )"};a.stripeAllBg=function(a,b,c){a="repeating-linear-gradient("+a+", ";for(var e=0,f=0;f<b.length;f++)0<f&&(a+=", "),a+="#"+b[f]+" "+e+"px, ",e+=c,a+="#"+b[f]+" "+e+"px";return a+")"};a.showVersionBlock=function(d){var b=a.color();a.name();var c=a.icon(),e=a.text(),f=a.data(),g=jQuery("<span></span>"),h=jQuery("<span></span>").addClass("version-icon");h.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+c));g.append(h);c=jQuery("<span></span>").addClass("rundeck-version-name").text(e);
g.append(c);g=jQuery("<div></div>").text(a.appId+" "+a.versionString+" ").append(g);f.tag&&"GA"!=f.tag?jQuery(d).css({background:a.stripeBg(b,15,"#5c5c5c",20),color:"white"}).append(g):jQuery(d).css({background:b,color:"white"}).append(g)};a.showServerName=function(l){if(d.serverUuid){a.versionData.hexuuid0.substring(0,6);var b=k(a.glyphicons,a.versionData.uuid0),c=[b,a.versionData.hexuuid0.substring(0,2)].join("-").toLowerCase(),e=a.serverName?a.serverName:"",f=a.versionData.hexuuid0.substring(0,
2);jQuery("<i></i>").addClass("rdicon node node-runnable icon-small");var g=jQuery("<span></span>"),h=jQuery("<span></span>");h.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+b));g.append(h);b=jQuery("<span></span>").text(" "+e+" ");e=jQuery("<span></span>").css({"border-image":a.stripeAllBg("90deg",a.versionData.sixes,20),"border-width":"0 0 2px 0",padding:"1px","border-color":"solid transparent","border-image-slice":"1"});c=jQuery("<span></span>").attr("title",c+" / "+d.serverUuid).css({}).append(e.append(b).append(g).append(" "+
(a.serverName?f:c))).append(jQuery("<span></span>").text(" "));jQuery(l).append(c)}};a.versionString?a.versionData=l(a.versionString):d.serverUuid&&(a.versionData=m(d.serverUuid))};(function(){jQuery(function(){jQuery(".rundeck-version-identity").each(function(){(new VersionIdentity(jQuery(this).data())).showVersionIdentity(this)});jQuery(".rundeck-version-block").each(function(){(new VersionIdentity(jQuery(this).data())).showVersionBlock(this)});jQuery(".rundeck-server-uuid").each(function(){(new VersionIdentity(jQuery(this).data())).showServerName(this)})})})();