var MenuController=Class.create({menuStart:new Hash,menuHideTimeout:new Hash,showRelativeTo:function(b,a,c,e){a=$(a);b=$(b);Element.hide(a);Element.absolutize(a);a.setStyle({zIndex:100});var f=b.offsetHeight,d=0;null!=e&&(f=e);null!=c&&(d=c);var g=b.viewportOffset();c=document.viewport.getWidth();e=document.viewport.getScrollOffsets();var h=a.getWidth(),g=c-(g.left+(h+16+d));0>g&&c>h&&(d+=g);Prototype.Browser.IE&&(f+=e[1],d+=e[0]);Element.clonePosition(a,b,{setWidth:!1,setHeight:!1,offsetTop:f,offsetLeft:d});
Try.these(Element.show.curry(a))},_mouseoverMenuRestore:function(b,a){Event.element(b);var c=Event.relatedTarget(b);b.relatedTarget&&(c=$(b.relatedTarget));!c.descendantOf(a)&&this.menuHideTimeout.get(a)&&(clearTimeout(this.menuHideTimeout.get(a)),this.menuHideTimeout.unset(a))}});